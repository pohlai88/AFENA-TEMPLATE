<!-- AUTOGEN:START -->
<!-- Generated by afenda readme gen ‚Äî DO NOT EDIT inside this block -->
<!-- Signature: sha256:7c7cdd41723e4d8af5dabdeae181dfd52244e679b72632fa2ff513caf732e9be -->
# afenda-crud-convenience

Package providing **main exports (barrel from index)**. Import from `afenda-crud-convenience` in workspace packages.

## Package Overview

üìÅ 1 directory areas

### What's Inside

- **Main exports (barrel from index)**

### Directory Structure

```
‚îî‚îÄ‚îÄ src/ (1 file)
```

### Entry Points

- `src/index.ts` ‚Äî barrel export

## Usage

```ts
import { /* ... */ } from 'afenda-crud-convenience';
```

This package exposes:

- Main exports (barrel from index)

## API

See `src/index.ts` and subpaths for full exports.

## Installation

```bash
pnpm -w add afenda-crud-convenience
```

## Exports

| Subpath | Conditions |
|---|---|
| `.` | import: `./dist/index.mjs`, require: `./dist/index.js`, types: `./dist/index.d.ts` |

## Scripts

| Script | Command |
|---|---|
| `build` | `tsup` |
| `dev` | `tsup --watch` |
| `lint` | `eslint . --ext .js,.jsx,.ts,.tsx --cache --concurrency=auto` |
| `lint:ci` | `eslint . --ext .js,.jsx,.ts,.tsx --rule 'import/no-cycle: error'` |
| `lint:fix` | `eslint . --ext .js,.jsx,.ts,.tsx --cache --fix` |
| `type-check` | `tsc --noEmit` |

## Architecture

Source is organized by responsibility. Key areas:

- **`src/index.ts`** ‚Äî Public API barrel

## Dependencies

| Package | Version |
|---|---|
| `afenda-crud` | `workspace:*` |

## Related Packages

- `afenda-crud`
- `afenda-eslint-config`
- `afenda-typescript-config`

## Contributing

### Development Workflow

1. Make changes to source files
2. Run `pnpm lint:fix` to fix linting issues
3. Run `pnpm type-check` to verify types
4. Run `pnpm test` to verify tests pass
5. Run `pnpm build` to verify build succeeds

### Code Quality

- All code must pass ESLint checks
- All code must pass TypeScript type checking
- All tests must pass
- Maintain or improve test coverage

<!-- AUTOGEN:END -->

# afenda-crud-convenience

> **Convenience Re-export Package** ‚Äî Domain services + infrastructure utilities barrel

This package provides a single import point for domain services and infrastructure utilities that are commonly used together with the CRUD kernel. It's a convenience wrapper that re-exports from multiple specialized packages.

---

## üì¶ What This Package Exports

### Domain Service Re-exports

This package re-exports domain services from specialized business-domain packages:

```typescript
import {
  // Accounting services
  calculateTax,
  lookupFxRate,
  allocatePayment,
  
  // CRM services  
  priceLineItem,
  checkCreditLimit,
  
  // Inventory services
  convertUom,
  checkStockLevel,
  
  // Intercompany services
  createIcTransaction,
  matchIcTransactions,
} from 'afenda-crud-convenience';
```

### Infrastructure Service Re-exports

Re-exports infrastructure utilities from `afenda-crud/internal`:

```typescript
import {
  allocateDocNumber,
  validateCustomFields,
  loadFieldDefs,
  checkRateLimit,
  meterApiRequest,
} from 'afenda-crud-convenience';
```

---

## üéØ When to Use This Package

### ‚úÖ Use `afenda-crud-convenience` when:

- You need multiple domain services in one file
- You're building API routes that coordinate across domains
- You want a single import for common utilities

### ‚ùå Don't use `afenda-crud-convenience` when:

- You only need the CRUD kernel (`mutate`, `readEntity`, `listEntities`) ‚Äî use `afenda-crud` directly
- You only need one domain service ‚Äî import directly from the domain package
- You're building a domain package ‚Äî never import convenience packages from domain code

---

## üìñ Usage Example

```typescript
import { mutate, buildUserContext } from 'afenda-crud';
import { 
  calculateTax,
  priceLineItem,
  allocateDocNumber,
  validateCustomFields,
} from 'afenda-crud-convenience';

const ctx = buildUserContext({ orgId: 'org-123', userId: 'user-456' });

// Use domain services
const taxMinor = await calculateTax(db, orgId, { baseMinor: 10000, rate: 0.0825 });
const pricing = await priceLineItem(db, orgId, { productId: 'prod-1', quantity: 10 });

// Use infrastructure services
const docNo = await allocateDocNumber(db, orgId, 'invoices', '2024');
await validateCustomFields(db, orgId, 'invoices', customData);

// Use CRUD kernel
const result = await mutate(
  {
    actionType: 'invoices.create',
    entityRef: { type: 'invoices', orgId },
    input: { /* ... */ },
  },
  ctx
);
```

---

## üîó Source Packages

This package re-exports from:

- **`afenda-accounting`** ‚Äî Tax, FX, depreciation, payment allocation
- **`afenda-crm`** ‚Äî Pricing, discounts, credit limits
- **`afenda-inventory`** ‚Äî UOM conversion, stock checks, landed costs
- **`afenda-intercompany`** ‚Äî IC transactions, matching, eliminations
- **`afenda-crud/internal`** ‚Äî Infrastructure services

---

## üìö Related Documentation

- **[afenda-crud](../crud/README.md)** ‚Äî Mutation kernel
- **[afenda-accounting](../../business-domain/accounting/README.md)** ‚Äî Accounting services
- **[afenda-crm](../../business-domain/crm/README.md)** ‚Äî CRM services
- **[afenda-inventory](../../business-domain/inventory/README.md)** ‚Äî Inventory services
- **[afenda-intercompany](../../business-domain/intercompany/README.md)** ‚Äî Intercompany services

---

## üîß Development

### Scripts

```bash
pnpm build       # Build package
pnpm dev         # Watch mode
pnpm type-check  # TypeScript check
pnpm lint        # ESLint
pnpm lint:fix    # ESLint with auto-fix
```

---

## ‚ö†Ô∏è Important Notes

### This is a Convenience Package

- **No business logic** ‚Äî only re-exports
- **No new functionality** ‚Äî just aggregation
- **Lightweight** ‚Äî minimal bundle size (2.7 KB ESM)

### Direct Imports Are Preferred

If you only need one service, import directly from the source package:

```typescript
// ‚úÖ BETTER: Direct import (tree-shakeable)
import { calculateTax } from 'afenda-accounting';

// ‚ö†Ô∏è OK: Convenience import (still tree-shakeable)
import { calculateTax } from 'afenda-crud-convenience';
```

Both work identically due to proper ESM exports, but direct imports make dependencies clearer.

---

**License:** Private  
**Package:** `afenda-crud-convenience`  
**Type:** Convenience Re-export  
**Last Updated:** February 19, 2026
