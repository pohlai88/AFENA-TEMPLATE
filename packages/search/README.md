<!-- AUTOGEN:START -->
<!-- Generated by afena readme gen — DO NOT EDIT inside this block -->
<!-- Signature: sha256:8a12b2d4e698c0b1eb2f1ec082920b6cca7bc1edefb3e9dbccdce782d27f29c0 -->
# afena-search

## Usage

```ts
import { /* ... */ } from 'afena-search';
```

## API

See source files for available exports.

## Installation

```bash
pnpm -w add afena-search
```

## Exports

| Subpath | Conditions |
|---|---|
| `.` | default: `./src/index.ts`, types: `./src/index.ts` |

## Scripts

| Script | Command |
|---|---|
| `build` | `tsup` |
| `dev` | `tsup --watch` |
| `lint` | `eslint . --ext .js,.jsx,.ts,.tsx` |
| `lint:fix` | `eslint . --ext .js,.jsx,.ts,.tsx --fix` |
| `test` | `vitest run` |
| `type-check` | `tsc --noEmit` |

## Dependencies

| Package | Version |
|---|---|
| `afena-database` | `workspace:^` |
| `drizzle-orm` | `^0.44.0` |

## Related Packages

- `afena-database`
- `afena-eslint-config`
- `afena-typescript-config`

<!-- AUTOGEN:END -->

# afena-search

Full-text search helpers and cross-entity search registry for the Afena platform.

## Public API

### FTS Helpers

- `toTsQuery(query)` — convert user input to PostgreSQL tsquery
- `ftsWhere(column, query)` — generate tsvector WHERE clause
- `ftsRank(column, query)` — generate ts_rank ORDER BY
- `ilikeFallback(columns, query)` — ILIKE fallback for non-FTS columns

### Registry

- `registerSearchableEntity(config)` — register an entity type for cross-entity search
- `getRegisteredEntityTypes()` — list registered entity types
- `crossEntitySearch(query, options)` — fan-out search across all registered entities

### Adapters

- `searchContacts(query, options)` — contacts-specific search adapter (ILIKE)

## Usage

```typescript
import { crossEntitySearch, registerSearchableEntity } from 'afena-search';

registerSearchableEntity({ type: 'contacts', adapter: searchContacts });
const results = await crossEntitySearch('acme', { limit: 10 });
```

## Dependencies

`afena-database`, `drizzle-orm`
