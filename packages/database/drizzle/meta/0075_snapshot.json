{
  "id": "eafe436d-e2dc-43e8-93de-b91a28adaffb",
  "prevId": "ca0dbcc9-ee21-4286-a6e3-b0acf19e286f",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.account_categories": {
      "name": "account_categories",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "account_type": {
          "name": "account_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "account_categories_org_created_id_idx": {
          "name": "account_categories_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "account_categories_name_idx": {
          "name": "account_categories_name_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"account_categories\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"account_categories\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"account_categories\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"account_categories\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"account_categories\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "account_categories_org_not_empty": {
          "name": "account_categories_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.accounts_settings": {
      "name": "accounts_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "unlink_payment_on_cancellation_of_invoice": {
          "name": "unlink_payment_on_cancellation_of_invoice",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "unlink_advance_payment_on_cancelation_of_order": {
          "name": "unlink_advance_payment_on_cancelation_of_order",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "book_asset_depreciation_entry_automatically": {
          "name": "book_asset_depreciation_entry_automatically",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_cost_center_in_entry_of_bs_account": {
          "name": "allow_cost_center_in_entry_of_bs_account",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "add_fin_year_in_abbr": {
          "name": "add_fin_year_in_abbr",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "determine_address_for_tax": {
          "name": "determine_address_for_tax",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "over_billing_allowance": {
          "name": "over_billing_allowance",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "role_allowed_to_over_bill": {
          "name": "role_allowed_to_over_bill",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "credit_limit": {
          "name": "credit_limit",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "bypass_credit_limit_check_at_sales_order": {
          "name": "bypass_credit_limit_check_at_sales_order",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "check_supplier_invoice_number_uniqueness": {
          "name": "check_supplier_invoice_number_uniqueness",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "make_payment_via_journal_entry": {
          "name": "make_payment_via_journal_entry",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "unmap_current_account_balance_in_journal_entry": {
          "name": "unmap_current_account_balance_in_journal_entry",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "invoice_exchange_rate_revaluation": {
          "name": "invoice_exchange_rate_revaluation",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "automatic_accounting_for_stock_settings": {
          "name": "automatic_accounting_for_stock_settings",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "acc_frozen_upto": {
          "name": "acc_frozen_upto",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "frozen_accounts_modifier": {
          "name": "frozen_accounts_modifier",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "enable_common_party_accounting": {
          "name": "enable_common_party_accounting",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "enable_discount_accounting": {
          "name": "enable_discount_accounting",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "book_deferred_entries_based_on": {
          "name": "book_deferred_entries_based_on",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "book_deferred_entries_via_journal_entry": {
          "name": "book_deferred_entries_via_journal_entry",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "submit_journal_entries_automatically": {
          "name": "submit_journal_entries_automatically",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "automatically_process_deferred_accounting": {
          "name": "automatically_process_deferred_accounting",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "automatically_fetch_payment_terms": {
          "name": "automatically_fetch_payment_terms",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_multi_currency_invoices_against_single_party_account": {
          "name": "allow_multi_currency_invoices_against_single_party_account",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "post_gst_cess_via_journal_entry": {
          "name": "post_gst_cess_via_journal_entry",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "round_off_payment_amount": {
          "name": "round_off_payment_amount",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "report_settings_json": {
          "name": "report_settings_json",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "enable_fuzzy_matching": {
          "name": "enable_fuzzy_matching",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "party_matching_algorithm": {
          "name": "party_matching_algorithm",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "auto_reconcile_payments": {
          "name": "auto_reconcile_payments",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "close_accounting_period_on_period_closing_voucher": {
          "name": "close_accounting_period_on_period_closing_voucher",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "tax_id_status_details": {
          "name": "tax_id_status_details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tax_id_validation_url": {
          "name": "tax_id_validation_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deferred_accounting_based_on_invoice_date": {
          "name": "deferred_accounting_based_on_invoice_date",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "period_closing_voucher_closing_date": {
          "name": "period_closing_voucher_closing_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "use_custom_cash_flow": {
          "name": "use_custom_cash_flow",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_stale_exchange_rates": {
          "name": "allow_stale_exchange_rates",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "stale_exchange_rates_allowed_for": {
          "name": "stale_exchange_rates_allowed_for",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "accounts_settings_org_created_id_idx": {
          "name": "accounts_settings_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "accounts_settings_org_id_id_pk": {
          "name": "accounts_settings_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "accounts_settings_org_singleton": {
          "name": "accounts_settings_org_singleton",
          "nullsNotDistinct": false,
          "columns": [
            "org_id"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"accounts_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"accounts_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"accounts_settings\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"accounts_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"accounts_settings\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "accounts_settings_org_not_empty": {
          "name": "accounts_settings_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.activity_costs": {
      "name": "activity_costs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "activity_type": {
          "name": "activity_type",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "employee": {
          "name": "employee",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "employee_name": {
          "name": "employee_name",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "costing_rate": {
          "name": "costing_rate",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "billing_rate": {
          "name": "billing_rate",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "activity_costs_org_created_id_idx": {
          "name": "activity_costs_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "activity_costs_org_activity_idx": {
          "name": "activity_costs_org_activity_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "activity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "activity_costs_org_employee_idx": {
          "name": "activity_costs_org_employee_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "employee",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "activity_costs_activity_type_activity_types_id_fk": {
          "name": "activity_costs_activity_type_activity_types_id_fk",
          "tableFrom": "activity_costs",
          "tableTo": "activity_types",
          "columnsFrom": [
            "activity_type"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "activity_costs_org_id_id_pk": {
          "name": "activity_costs_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"activity_costs\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"activity_costs\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"activity_costs\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"activity_costs\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"activity_costs\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "activity_costs_org_not_empty": {
          "name": "activity_costs_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.activity_types": {
      "name": "activity_types",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "activity_type": {
          "name": "activity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "costing_rate": {
          "name": "costing_rate",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "billing_rate": {
          "name": "billing_rate",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "disabled": {
          "name": "disabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {
        "activity_types_org_created_id_idx": {
          "name": "activity_types_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "activity_types_org_name_idx": {
          "name": "activity_types_org_name_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "activity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "activity_types_org_id_id_pk": {
          "name": "activity_types_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "activity_types_org_name_unique": {
          "name": "activity_types_org_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "org_id",
            "activity_type"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"activity_types\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"activity_types\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"activity_types\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"activity_types\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"activity_types\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "activity_types_org_not_empty": {
          "name": "activity_types_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.addresses": {
      "name": "addresses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_type": {
          "name": "address_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'billing'"
        },
        "line1": {
          "name": "line1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "line2": {
          "name": "line2",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "postal_code": {
          "name": "postal_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "addresses_org_id_idx": {
          "name": "addresses_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "addresses_org_id_id_pk": {
          "name": "addresses_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"addresses\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"addresses\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"addresses\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"addresses\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"addresses\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "addresses_org_not_empty": {
          "name": "addresses_org_not_empty",
          "value": "org_id <> ''"
        },
        "addresses_type_valid": {
          "name": "addresses_type_valid",
          "value": "address_type IN ('billing', 'shipping', 'registered', 'warehouse')"
        }
      },
      "isRLSEnabled": false
    },
    "public.advisories": {
      "name": "advisories",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "explanation": {
          "name": "explanation",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "explain_version": {
          "name": "explain_version",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'v1'"
        },
        "method": {
          "name": "method",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "params": {
          "name": "params",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "score": {
          "name": "score",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "recommended_actions": {
          "name": "recommended_actions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "fingerprint": {
          "name": "fingerprint",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "run_id": {
          "name": "run_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "window_start": {
          "name": "window_start",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "window_end": {
          "name": "window_end",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "channel": {
          "name": "channel",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'system'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "COALESCE(auth.user_id(), 'system')"
        }
      },
      "indexes": {
        "advisories_org_status_created_idx": {
          "name": "advisories_org_status_created_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "advisories_org_type_created_idx": {
          "name": "advisories_org_type_created_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "advisories_entity_idx": {
          "name": "advisories_entity_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "advisories_org_created_id_idx": {
          "name": "advisories_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "advisories_fingerprint_dedupe_idx": {
          "name": "advisories_fingerprint_dedupe_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "fingerprint",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "status IN ('open','ack')",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "advisories_org_id_id_pk": {
          "name": "advisories_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"advisories\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"advisories\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"advisories\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"advisories\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"advisories\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "advisories_type_taxonomy": {
          "name": "advisories_type_taxonomy",
          "value": "type ~ '^(anomaly|forecast|rule).[a-z0-9_]+.[a-z0-9_]+$'"
        },
        "advisories_severity_enum": {
          "name": "advisories_severity_enum",
          "value": "severity IN ('info','warn','critical')"
        },
        "advisories_status_enum": {
          "name": "advisories_status_enum",
          "value": "status IN ('open','ack','dismissed')"
        },
        "advisories_method_enum": {
          "name": "advisories_method_enum",
          "value": "method IN ('EWMA','CUSUM','MAD','SES','HOLT','HOLT_WINTERS','RULE')"
        },
        "advisories_fingerprint_len": {
          "name": "advisories_fingerprint_len",
          "value": "length(fingerprint) = 64"
        },
        "advisories_org_not_empty": {
          "name": "advisories_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.advisory_evidence": {
      "name": "advisory_evidence",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "advisory_id": {
          "name": "advisory_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "evidence_type": {
          "name": "evidence_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "hash": {
          "name": "hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "advisory_evidence_advisory_idx": {
          "name": "advisory_evidence_advisory_idx",
          "columns": [
            {
              "expression": "advisory_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "advisory_evidence_org_created_id_idx": {
          "name": "advisory_evidence_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "advisory_evidence_advisory_id_advisories_id_fk": {
          "name": "advisory_evidence_advisory_id_advisories_id_fk",
          "tableFrom": "advisory_evidence",
          "tableTo": "advisories",
          "columnsFrom": [
            "advisory_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "advisory_evidence_org_id_id_pk": {
          "name": "advisory_evidence_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"advisory_evidence\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"advisory_evidence\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"advisory_evidence\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"advisory_evidence\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"advisory_evidence\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "advisory_evidence_org_not_empty": {
          "name": "advisory_evidence_org_not_empty",
          "value": "org_id <> ''"
        },
        "advisory_evidence_type_enum": {
          "name": "advisory_evidence_type_enum",
          "value": "evidence_type IN ('query','snapshot','metric_series','calculation')"
        }
      },
      "isRLSEnabled": false
    },
    "public.api_keys": {
      "name": "api_keys",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "key_hash": {
          "name": "key_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "key_prefix": {
          "name": "key_prefix",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scopes": {
          "name": "scopes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::text[]"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "api_keys_org_idx": {
          "name": "api_keys_org_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "api_keys_hash_idx": {
          "name": "api_keys_hash_idx",
          "columns": [
            {
              "expression": "key_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "api_keys_org_id_id_pk": {
          "name": "api_keys_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"api_keys\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"api_keys\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"api_keys\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"api_keys\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"api_keys\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "api_keys_org_not_empty": {
          "name": "api_keys_org_not_empty",
          "value": "org_id <> ''"
        },
        "api_keys_label_not_empty": {
          "name": "api_keys_label_not_empty",
          "value": "label <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.appointment_booking_settings": {
      "name": "appointment_booking_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "appointment_booking_settings_org_created_id_idx": {
          "name": "appointment_booking_settings_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "appointment_booking_settings_org_id_id_pk": {
          "name": "appointment_booking_settings_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "appointment_booking_settings_org_singleton": {
          "name": "appointment_booking_settings_org_singleton",
          "nullsNotDistinct": false,
          "columns": [
            "org_id"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"appointment_booking_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"appointment_booking_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"appointment_booking_settings\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"appointment_booking_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"appointment_booking_settings\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "appointment_booking_settings_org_not_empty": {
          "name": "appointment_booking_settings_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.approval_chains": {
      "name": "approval_chains",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "approval_chains_org_id_idx": {
          "name": "approval_chains_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "approval_chains_org_entity_idx": {
          "name": "approval_chains_org_entity_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "approval_chains_org_company_entity_uniq": {
          "name": "approval_chains_org_company_entity_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "approval_chains_company_fk": {
          "name": "approval_chains_company_fk",
          "tableFrom": "approval_chains",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"approval_chains\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"approval_chains\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"approval_chains\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"approval_chains\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"approval_chains\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "approval_chains_org_not_empty": {
          "name": "approval_chains_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.approval_decisions": {
      "name": "approval_decisions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_id": {
          "name": "request_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "step_id": {
          "name": "step_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "decision": {
          "name": "decision",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "decided_by": {
          "name": "decided_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "decided_at": {
          "name": "decided_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "delegated_from": {
          "name": "delegated_from",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "approval_dec_org_id_idx": {
          "name": "approval_dec_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "approval_dec_request_idx": {
          "name": "approval_dec_request_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "request_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "approval_dec_step_idx": {
          "name": "approval_dec_step_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "step_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"approval_decisions\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"approval_decisions\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"approval_decisions\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"approval_decisions\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"approval_decisions\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "approval_dec_org_not_empty": {
          "name": "approval_dec_org_not_empty",
          "value": "org_id <> ''"
        },
        "approval_dec_decision_valid": {
          "name": "approval_dec_decision_valid",
          "value": "decision IN ('approved', 'rejected', 'abstained')"
        }
      },
      "isRLSEnabled": false
    },
    "public.approval_requests": {
      "name": "approval_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "chain_id": {
          "name": "chain_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "current_step_order": {
          "name": "current_step_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "requested_by": {
          "name": "requested_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "approval_req_org_id_idx": {
          "name": "approval_req_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "approval_req_entity_idx": {
          "name": "approval_req_entity_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "approval_req_chain_idx": {
          "name": "approval_req_chain_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "chain_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "approval_req_status_idx": {
          "name": "approval_req_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"approval_requests\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"approval_requests\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"approval_requests\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"approval_requests\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"approval_requests\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "approval_req_org_not_empty": {
          "name": "approval_req_org_not_empty",
          "value": "org_id <> ''"
        },
        "approval_req_status_valid": {
          "name": "approval_req_status_valid",
          "value": "status IN ('pending', 'approved', 'rejected', 'cancelled', 'timed_out')"
        }
      },
      "isRLSEnabled": false
    },
    "public.approval_steps": {
      "name": "approval_steps",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "chain_id": {
          "name": "chain_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "step_order": {
          "name": "step_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "approval_mode": {
          "name": "approval_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'any'"
        },
        "required_count": {
          "name": "required_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "approver_role_id": {
          "name": "approver_role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approver_user_id": {
          "name": "approver_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timeout_hours": {
          "name": "timeout_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "approval_steps_org_id_idx": {
          "name": "approval_steps_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "approval_steps_chain_idx": {
          "name": "approval_steps_chain_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "chain_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "approval_steps_chain_order_uniq": {
          "name": "approval_steps_chain_order_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "chain_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "step_order",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"approval_steps\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"approval_steps\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"approval_steps\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"approval_steps\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"approval_steps\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "approval_steps_org_not_empty": {
          "name": "approval_steps_org_not_empty",
          "value": "org_id <> ''"
        },
        "approval_steps_mode_valid": {
          "name": "approval_steps_mode_valid",
          "value": "approval_mode IN ('any', 'all', 'threshold')"
        },
        "approval_steps_count_positive": {
          "name": "approval_steps_count_positive",
          "value": "required_count > 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.audit_logs": {
      "name": "audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "actor_name": {
          "name": "actor_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_id": {
          "name": "owner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "geo_country": {
          "name": "geo_country",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action_type": {
          "name": "action_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action_family": {
          "name": "action_family",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "request_id": {
          "name": "request_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mutation_id": {
          "name": "mutation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "batch_id": {
          "name": "batch_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "version_before": {
          "name": "version_before",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "version_after": {
          "name": "version_after",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'web_ui'"
        },
        "ip": {
          "name": "ip",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "authority_snapshot": {
          "name": "authority_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "affected_count": {
          "name": "affected_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "value_delta": {
          "name": "value_delta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "before": {
          "name": "before",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "after": {
          "name": "after",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "diff": {
          "name": "diff",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "audit_logs_org_created_id_idx": {
          "name": "audit_logs_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_entity_timeline_idx": {
          "name": "audit_logs_entity_timeline_idx",
          "columns": [
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_batch_idx": {
          "name": "audit_logs_batch_idx",
          "columns": [
            {
              "expression": "batch_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_request_idx": {
          "name": "audit_logs_request_idx",
          "columns": [
            {
              "expression": "request_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_idempotency_idx": {
          "name": "audit_logs_idempotency_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "action_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "idempotency_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "idempotency_key IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "audit_logs_org_id_id_pk": {
          "name": "audit_logs_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "audit_logs_mutation_id_unique": {
          "name": "audit_logs_mutation_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "mutation_id"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"audit_logs\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"audit_logs\".\"org_id\" AND (\"audit_logs\".\"channel\" = 'system' OR auth.user_id() = \"audit_logs\".\"actor_user_id\"))"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"audit_logs\".\"org_id\" AND (\"audit_logs\".\"channel\" = 'system' OR auth.user_id() = \"audit_logs\".\"actor_user_id\"))",
          "withCheck": "(select auth.org_id() = \"audit_logs\".\"org_id\" AND (\"audit_logs\".\"channel\" = 'system' OR auth.user_id() = \"audit_logs\".\"actor_user_id\"))"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"audit_logs\".\"org_id\" AND (\"audit_logs\".\"channel\" = 'system' OR auth.user_id() = \"audit_logs\".\"actor_user_id\"))"
        }
      },
      "checkConstraints": {
        "audit_logs_org_not_empty": {
          "name": "audit_logs_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.authorization_controls": {
      "name": "authorization_controls",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "authorization_controls_org_created_id_idx": {
          "name": "authorization_controls_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "authorization_controls_org_id_id_pk": {
          "name": "authorization_controls_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"authorization_controls\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"authorization_controls\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"authorization_controls\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"authorization_controls\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"authorization_controls\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "authorization_controls_org_not_empty": {
          "name": "authorization_controls_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.authorization_rules": {
      "name": "authorization_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "transaction": {
          "name": "transaction",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "based_on": {
          "name": "based_on",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "customer_or_item": {
          "name": "customer_or_item",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "master_name": {
          "name": "master_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company": {
          "name": "company",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "value": {
          "name": "value",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "system_role": {
          "name": "system_role",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "to_emp": {
          "name": "to_emp",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "system_user_col": {
          "name": "system_user_col",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "to_designation": {
          "name": "to_designation",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approving_role": {
          "name": "approving_role",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approving_user": {
          "name": "approving_user",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "authorization_rules_org_created_id_idx": {
          "name": "authorization_rules_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "authorization_rules_org_transaction_idx": {
          "name": "authorization_rules_org_transaction_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "transaction",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "authorization_rules_org_company_idx": {
          "name": "authorization_rules_org_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "authorization_rules_org_id_id_pk": {
          "name": "authorization_rules_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"authorization_rules\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"authorization_rules\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"authorization_rules\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"authorization_rules\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"authorization_rules\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "authorization_rules_org_not_empty": {
          "name": "authorization_rules_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.bank_accounts": {
      "name": "bank_accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "bank_name": {
          "name": "bank_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "account_name": {
          "name": "account_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "account_number": {
          "name": "account_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "account_type": {
          "name": "account_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'current'"
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "swift_code": {
          "name": "swift_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "iban": {
          "name": "iban",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "branch_code": {
          "name": "branch_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "branch_name": {
          "name": "branch_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gl_account_id": {
          "name": "gl_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "opening_balance_minor": {
          "name": "opening_balance_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "current_balance_minor": {
          "name": "current_balance_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "bank_accounts_org_id_idx": {
          "name": "bank_accounts_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bank_acct_org_company_idx": {
          "name": "bank_acct_org_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bank_acct_org_company_number_uniq": {
          "name": "bank_acct_org_company_number_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "account_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "bank_accounts_company_fk": {
          "name": "bank_accounts_company_fk",
          "tableFrom": "bank_accounts",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "bank_accounts_org_id_id_pk": {
          "name": "bank_accounts_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"bank_accounts\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"bank_accounts\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"bank_accounts\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"bank_accounts\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"bank_accounts\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "bank_acct_org_not_empty": {
          "name": "bank_acct_org_not_empty",
          "value": "org_id <> ''"
        },
        "bank_acct_type_valid": {
          "name": "bank_acct_type_valid",
          "value": "account_type IN ('current', 'savings', 'fixed_deposit', 'overdraft', 'credit_line', 'petty_cash')"
        }
      },
      "isRLSEnabled": false
    },
    "public.bank_reconciliation_sessions": {
      "name": "bank_reconciliation_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "bank_account_id": {
          "name": "bank_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "statement_date_from": {
          "name": "statement_date_from",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "statement_date_to": {
          "name": "statement_date_to",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "closing_balance_minor": {
          "name": "closing_balance_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "reconciled_balance_minor": {
          "name": "reconciled_balance_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "difference_minor": {
          "name": "difference_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'in_progress'"
        },
        "prepared_by": {
          "name": "prepared_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "approved_by": {
          "name": "approved_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "bank_recon_org_id_idx": {
          "name": "bank_recon_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bank_recon_org_company_idx": {
          "name": "bank_recon_org_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bank_recon_org_bank_acct_idx": {
          "name": "bank_recon_org_bank_acct_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "bank_account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bank_recon_status_idx": {
          "name": "bank_recon_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "bank_reconciliation_sessions_company_fk": {
          "name": "bank_reconciliation_sessions_company_fk",
          "tableFrom": "bank_reconciliation_sessions",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "bank_reconciliation_sessions_org_id_id_pk": {
          "name": "bank_reconciliation_sessions_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"bank_reconciliation_sessions\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"bank_reconciliation_sessions\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"bank_reconciliation_sessions\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"bank_reconciliation_sessions\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"bank_reconciliation_sessions\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "bank_recon_org_not_empty": {
          "name": "bank_recon_org_not_empty",
          "value": "org_id <> ''"
        },
        "bank_recon_status_valid": {
          "name": "bank_recon_status_valid",
          "value": "status IN ('in_progress', 'completed', 'approved', 'cancelled')"
        },
        "bank_recon_date_order": {
          "name": "bank_recon_date_order",
          "value": "statement_date_from <= statement_date_to"
        }
      },
      "isRLSEnabled": false
    },
    "public.bank_statement_lines": {
      "name": "bank_statement_lines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "bank_account_id": {
          "name": "bank_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "statement_date": {
          "name": "statement_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "value_date": {
          "name": "value_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reference": {
          "name": "reference",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "balance_minor": {
          "name": "balance_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "transaction_type": {
          "name": "transaction_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "import_batch_id": {
          "name": "import_batch_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_reconciled": {
          "name": "is_reconciled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "matched_payment_id": {
          "name": "matched_payment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "matched_journal_entry_id": {
          "name": "matched_journal_entry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "match_confidence": {
          "name": "match_confidence",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "matched_by": {
          "name": "matched_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "matched_at": {
          "name": "matched_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reconciliation_session_id": {
          "name": "reconciliation_session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "bsl_org_id_idx": {
          "name": "bsl_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bsl_company_idx": {
          "name": "bsl_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bsl_bank_account_idx": {
          "name": "bsl_bank_account_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "bank_account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bsl_statement_date_idx": {
          "name": "bsl_statement_date_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "bank_account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "statement_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bsl_import_batch_idx": {
          "name": "bsl_import_batch_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "import_batch_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bsl_unreconciled_idx": {
          "name": "bsl_unreconciled_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_reconciled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "bank_statement_lines_company_fk": {
          "name": "bank_statement_lines_company_fk",
          "tableFrom": "bank_statement_lines",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "bank_statement_lines_org_id_id_pk": {
          "name": "bank_statement_lines_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"bank_statement_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"bank_statement_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"bank_statement_lines\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"bank_statement_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"bank_statement_lines\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "bsl_org_not_empty": {
          "name": "bsl_org_not_empty",
          "value": "org_id <> ''"
        },
        "bsl_match_confidence_valid": {
          "name": "bsl_match_confidence_valid",
          "value": "match_confidence IS NULL OR match_confidence IN ('exact', 'high', 'medium', 'low', 'manual')"
        }
      },
      "isRLSEnabled": false
    },
    "public.bom_lines": {
      "name": "bom_lines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bom_id": {
          "name": "bom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "component_product_id": {
          "name": "component_product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "qty": {
          "name": "qty",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "uom_id": {
          "name": "uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "waste_percent": {
          "name": "waste_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "is_optional": {
          "name": "is_optional",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "bom_lines_org_id_idx": {
          "name": "bom_lines_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bom_lines_bom_idx": {
          "name": "bom_lines_bom_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "bom_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bom_lines_component_idx": {
          "name": "bom_lines_component_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "component_product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"bom_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"bom_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"bom_lines\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"bom_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"bom_lines\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "bom_lines_org_not_empty": {
          "name": "bom_lines_org_not_empty",
          "value": "org_id <> ''"
        },
        "bom_lines_qty_positive": {
          "name": "bom_lines_qty_positive",
          "value": "qty > 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.boms": {
      "name": "boms",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "bom_version": {
          "name": "bom_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "yield_qty": {
          "name": "yield_qty",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'1'"
        },
        "yield_uom_id": {
          "name": "yield_uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "boms_org_id_idx": {
          "name": "boms_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "boms_product_idx": {
          "name": "boms_product_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "boms_org_company_product_ver_uniq": {
          "name": "boms_org_company_product_ver_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "bom_version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "boms_company_fk": {
          "name": "boms_company_fk",
          "tableFrom": "boms",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "boms_org_id_id_pk": {
          "name": "boms_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"boms\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"boms\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"boms\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"boms\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"boms\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "boms_org_not_empty": {
          "name": "boms_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.branches": {
      "name": "branches",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "branch": {
          "name": "branch",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "branches_org_created_id_idx": {
          "name": "branches_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "branches_org_branch_idx": {
          "name": "branches_org_branch_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "branch",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "branches_org_id_id_pk": {
          "name": "branches_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "branches_org_name_unique": {
          "name": "branches_org_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "org_id",
            "branch"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"branches\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"branches\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"branches\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"branches\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"branches\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "branches_org_not_empty": {
          "name": "branches_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.budget_commitments": {
      "name": "budget_commitments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "budget_id": {
          "name": "budget_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "source_type": {
          "name": "source_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_id": {
          "name": "source_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'committed'"
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "budget_commit_org_id_idx": {
          "name": "budget_commit_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "budget_commit_budget_idx": {
          "name": "budget_commit_budget_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "budget_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "budget_commit_source_idx": {
          "name": "budget_commit_source_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"budget_commitments\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"budget_commitments\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"budget_commitments\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"budget_commitments\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"budget_commitments\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "budget_commit_org_not_empty": {
          "name": "budget_commit_org_not_empty",
          "value": "org_id <> ''"
        },
        "budget_commit_source_valid": {
          "name": "budget_commit_source_valid",
          "value": "source_type IN ('purchase_order', 'purchase_request', 'contract')"
        },
        "budget_commit_status_valid": {
          "name": "budget_commit_status_valid",
          "value": "status IN ('committed', 'released', 'cancelled')"
        }
      },
      "isRLSEnabled": false
    },
    "public.budgets": {
      "name": "budgets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "fiscal_period_id": {
          "name": "fiscal_period_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "cost_center_id": {
          "name": "cost_center_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "budget_amount_minor": {
          "name": "budget_amount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "committed_amount_minor": {
          "name": "committed_amount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "actual_amount_minor": {
          "name": "actual_amount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "enforcement_mode": {
          "name": "enforcement_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'advisory'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "budgets_org_id_idx": {
          "name": "budgets_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "budgets_company_idx": {
          "name": "budgets_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "budgets_period_idx": {
          "name": "budgets_period_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "fiscal_period_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "budgets_org_period_account_cc_proj_uniq": {
          "name": "budgets_org_period_account_cc_proj_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "fiscal_period_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "cost_center_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "budgets_company_fk": {
          "name": "budgets_company_fk",
          "tableFrom": "budgets",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "budgets_org_id_id_pk": {
          "name": "budgets_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"budgets\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"budgets\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"budgets\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"budgets\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"budgets\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "budgets_org_not_empty": {
          "name": "budgets_org_not_empty",
          "value": "org_id <> ''"
        },
        "budgets_enforcement_valid": {
          "name": "budgets_enforcement_valid",
          "value": "enforcement_mode IN ('advisory', 'hard_stop')"
        },
        "budgets_amount_non_negative": {
          "name": "budgets_amount_non_negative",
          "value": "budget_amount_minor >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.buying_settings": {
      "name": "buying_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "supplier_naming_by": {
          "name": "supplier_naming_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "supp_master_name": {
          "name": "supp_master_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "buying_price_list": {
          "name": "buying_price_list",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "po_required": {
          "name": "po_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "pr_required": {
          "name": "pr_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "maintain_same_rate": {
          "name": "maintain_same_rate",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_multiple_suppliers_for_same_item": {
          "name": "allow_multiple_suppliers_for_same_item",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "role_to_override_price_list_rate_validation": {
          "name": "role_to_override_price_list_rate_validation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "blanket_order_allowance": {
          "name": "blanket_order_allowance",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "auto_create_purchase_receipt": {
          "name": "auto_create_purchase_receipt",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "bill_for_rejected_quantity_in_purchase_invoice": {
          "name": "bill_for_rejected_quantity_in_purchase_invoice",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "backflush_raw_materials_of_subcontract_based_on": {
          "name": "backflush_raw_materials_of_subcontract_based_on",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "over_transfer_allowance": {
          "name": "over_transfer_allowance",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "buying_settings_org_created_id_idx": {
          "name": "buying_settings_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "buying_settings_org_id_id_pk": {
          "name": "buying_settings_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "buying_settings_org_singleton": {
          "name": "buying_settings_org_singleton",
          "nullsNotDistinct": false,
          "columns": [
            "org_id"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"buying_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"buying_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"buying_settings\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"buying_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"buying_settings\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "buying_settings_org_not_empty": {
          "name": "buying_settings_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.chart_of_accounts": {
      "name": "chart_of_accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "account_code": {
          "name": "account_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "account_name": {
          "name": "account_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "account_type": {
          "name": "account_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "parent_id": {
          "name": "parent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_group": {
          "name": "is_group",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "level": {
          "name": "level",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "coa_org_id_idx": {
          "name": "coa_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "coa_org_company_idx": {
          "name": "coa_org_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "coa_org_company_type_idx": {
          "name": "coa_org_company_type_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "account_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "coa_org_company_code_uniq": {
          "name": "coa_org_company_code_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "account_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "chart_of_accounts_company_fk": {
          "name": "chart_of_accounts_company_fk",
          "tableFrom": "chart_of_accounts",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "chart_of_accounts_org_id_id_pk": {
          "name": "chart_of_accounts_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"chart_of_accounts\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"chart_of_accounts\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"chart_of_accounts\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"chart_of_accounts\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"chart_of_accounts\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "coa_org_not_empty": {
          "name": "coa_org_not_empty",
          "value": "org_id <> ''"
        },
        "coa_account_type_valid": {
          "name": "coa_account_type_valid",
          "value": "account_type IN ('asset', 'liability', 'equity', 'revenue', 'expense')"
        }
      },
      "isRLSEnabled": false
    },
    "public.communications": {
      "name": "communications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "comms_org_entity_idx": {
          "name": "comms_org_entity_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "comms_org_created_id_idx": {
          "name": "comms_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "communications_org_id_id_pk": {
          "name": "communications_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"communications\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"communications\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"communications\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"communications\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"communications\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "comms_org_not_empty": {
          "name": "comms_org_not_empty",
          "value": "org_id <> ''"
        },
        "comms_entity_type_not_empty": {
          "name": "comms_entity_type_not_empty",
          "value": "entity_type <> ''"
        },
        "comms_type_valid": {
          "name": "comms_type_valid",
          "value": "type IN ('email', 'comment', 'note', 'call')"
        }
      },
      "isRLSEnabled": false
    },
    "public.companies": {
      "name": "companies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "legal_name": {
          "name": "legal_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "registration_no": {
          "name": "registration_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tax_id": {
          "name": "tax_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "base_currency": {
          "name": "base_currency",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "fiscal_year_start": {
          "name": "fiscal_year_start",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "org_timezone": {
          "name": "org_timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'Asia/Kuala_Lumpur'"
        },
        "address": {
          "name": "address",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "companies_org_created_id_idx": {
          "name": "companies_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "companies_org_id_id_pk": {
          "name": "companies_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"companies\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"companies\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"companies\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"companies\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"companies\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "companies_org_not_empty": {
          "name": "companies_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.company_addresses": {
      "name": "company_addresses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "address_id": {
          "name": "address_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "address_type": {
          "name": "address_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'billing'"
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        }
      },
      "indexes": {
        "company_addr_org_company_addr_uniq": {
          "name": "company_addr_org_company_addr_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "address_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "company_addr_org_company_type_primary_uniq": {
          "name": "company_addr_org_company_type_primary_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "address_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "is_primary = true",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "company_addresses_company_fk": {
          "name": "company_addresses_company_fk",
          "tableFrom": "company_addresses",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "company_addresses_org_id_id_pk": {
          "name": "company_addresses_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"company_addresses\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"company_addresses\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"company_addresses\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"company_addresses\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"company_addresses\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "company_addr_org_not_empty": {
          "name": "company_addr_org_not_empty",
          "value": "org_id <> ''"
        },
        "company_addr_type_valid": {
          "name": "company_addr_type_valid",
          "value": "address_type IN ('billing', 'shipping', 'registered', 'warehouse')"
        }
      },
      "isRLSEnabled": false
    },
    "public.contact_addresses": {
      "name": "contact_addresses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "address_id": {
          "name": "address_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "address_type": {
          "name": "address_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'billing'"
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        }
      },
      "indexes": {
        "contact_addr_org_contact_addr_uniq": {
          "name": "contact_addr_org_contact_addr_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "contact_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "address_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "contact_addr_org_contact_type_primary_uniq": {
          "name": "contact_addr_org_contact_type_primary_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "contact_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "address_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "is_primary = true",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "contact_addresses_org_id_id_pk": {
          "name": "contact_addresses_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"contact_addresses\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"contact_addresses\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"contact_addresses\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"contact_addresses\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"contact_addresses\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "contact_addr_org_not_empty": {
          "name": "contact_addr_org_not_empty",
          "value": "org_id <> ''"
        },
        "contact_addr_type_valid": {
          "name": "contact_addr_type_valid",
          "value": "address_type IN ('billing', 'shipping', 'registered', 'warehouse')"
        }
      },
      "isRLSEnabled": false
    },
    "public.contacts": {
      "name": "contacts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company": {
          "name": "company",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "contacts_org_created_id_idx": {
          "name": "contacts_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "contacts_org_id_id_pk": {
          "name": "contacts_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"contacts\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"contacts\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"contacts\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"contacts\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"contacts\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "contacts_org_not_empty": {
          "name": "contacts_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.contracts": {
      "name": "contracts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "doc_status": {
          "name": "doc_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amended_from_id": {
          "name": "amended_from_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "external_source": {
          "name": "external_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contract_no": {
          "name": "contract_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "contract_type": {
          "name": "contract_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'service'"
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "renewal_date": {
          "name": "renewal_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "billing_frequency": {
          "name": "billing_frequency",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'monthly'"
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "total_value_minor": {
          "name": "total_value_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "billed_to_date_minor": {
          "name": "billed_to_date_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "price_list_id": {
          "name": "price_list_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "payment_terms_id": {
          "name": "payment_terms_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "auto_renew": {
          "name": "auto_renew",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "renewal_term_months": {
          "name": "renewal_term_months",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "termination_notice_days": {
          "name": "termination_notice_days",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "contracts_org_id_idx": {
          "name": "contracts_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "contracts_org_company_idx": {
          "name": "contracts_org_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "contracts_contact_idx": {
          "name": "contracts_contact_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "contact_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "contracts_status_idx": {
          "name": "contracts_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "doc_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "contracts_org_contract_no_uniq": {
          "name": "contracts_org_contract_no_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "contract_no",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "contract_no IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "contracts_company_fk": {
          "name": "contracts_company_fk",
          "tableFrom": "contracts",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "contracts_org_id_id_pk": {
          "name": "contracts_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"contracts\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"contracts\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"contracts\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"contracts\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"contracts\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "contracts_org_not_empty": {
          "name": "contracts_org_not_empty",
          "value": "org_id <> ''"
        },
        "contracts_type_valid": {
          "name": "contracts_type_valid",
          "value": "contract_type IN ('service', 'subscription', 'maintenance', 'lease', 'consulting', 'other')"
        },
        "contracts_frequency_valid": {
          "name": "contracts_frequency_valid",
          "value": "billing_frequency IN ('one_time', 'weekly', 'monthly', 'quarterly', 'semi_annual', 'annual')"
        },
        "contracts_date_order": {
          "name": "contracts_date_order",
          "value": "end_date IS NULL OR start_date <= end_date"
        }
      },
      "isRLSEnabled": false
    },
    "public.cost_centers": {
      "name": "cost_centers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "parent_id": {
          "name": "parent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "level": {
          "name": "level",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "cost_centers_org_id_idx": {
          "name": "cost_centers_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "cost_centers_org_company_idx": {
          "name": "cost_centers_org_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "cost_centers_org_company_code_uniq": {
          "name": "cost_centers_org_company_code_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "cost_centers_company_fk": {
          "name": "cost_centers_company_fk",
          "tableFrom": "cost_centers",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "cost_centers_org_id_id_pk": {
          "name": "cost_centers_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"cost_centers\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"cost_centers\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"cost_centers\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"cost_centers\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"cost_centers\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "cost_centers_org_not_empty": {
          "name": "cost_centers_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.credit_notes": {
      "name": "credit_notes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "doc_status": {
          "name": "doc_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amended_from_id": {
          "name": "amended_from_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "external_source": {
          "name": "external_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "credit_note_no": {
          "name": "credit_note_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reverses_type": {
          "name": "reverses_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reverses_id": {
          "name": "reverses_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "reason_code": {
          "name": "reason_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reason_description": {
          "name": "reason_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "fx_rate": {
          "name": "fx_rate",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subtotal_minor": {
          "name": "subtotal_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_minor": {
          "name": "tax_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_minor": {
          "name": "total_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "base_subtotal_minor": {
          "name": "base_subtotal_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "base_tax_minor": {
          "name": "base_tax_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "base_total_minor": {
          "name": "base_total_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "posted_at": {
          "name": "posted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "journal_entry_id": {
          "name": "journal_entry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        }
      },
      "indexes": {
        "credit_notes_org_id_idx": {
          "name": "credit_notes_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "credit_notes_org_company_idx": {
          "name": "credit_notes_org_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "credit_notes_reverses_idx": {
          "name": "credit_notes_reverses_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "reverses_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "reverses_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "credit_notes_contact_idx": {
          "name": "credit_notes_contact_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "contact_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "credit_notes_company_fk": {
          "name": "credit_notes_company_fk",
          "tableFrom": "credit_notes",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "credit_notes_org_id_id_pk": {
          "name": "credit_notes_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"credit_notes\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"credit_notes\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"credit_notes\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"credit_notes\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"credit_notes\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "credit_notes_org_not_empty": {
          "name": "credit_notes_org_not_empty",
          "value": "org_id <> ''"
        },
        "credit_notes_reverses_type_valid": {
          "name": "credit_notes_reverses_type_valid",
          "value": "reverses_type IN ('invoice', 'debit_note')"
        },
        "credit_notes_amounts_non_negative": {
          "name": "credit_notes_amounts_non_negative",
          "value": "subtotal_minor >= 0 AND tax_minor >= 0 AND total_minor >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.crm_settings": {
      "name": "crm_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "campaign_naming_series": {
          "name": "campaign_naming_series",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "closed_opportunity_after_days": {
          "name": "closed_opportunity_after_days",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "auto_creation_of_contact": {
          "name": "auto_creation_of_contact",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "carrier_naming_series": {
          "name": "carrier_naming_series",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "customer_naming_series": {
          "name": "customer_naming_series",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "crm_settings_org_created_id_idx": {
          "name": "crm_settings_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"crm_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"crm_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"crm_settings\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"crm_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"crm_settings\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "crm_settings_org_not_empty": {
          "name": "crm_settings_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.currencies": {
      "name": "currencies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "minor_units": {
          "name": "minor_units",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 2
        },
        "is_base": {
          "name": "is_base",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "fx_rate_to_base": {
          "name": "fx_rate_to_base",
          "type": "numeric(20, 10)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1'"
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {
        "currencies_org_id_idx": {
          "name": "currencies_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "currencies_org_code_uniq": {
          "name": "currencies_org_code_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "currencies_org_id_id_pk": {
          "name": "currencies_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"currencies\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"currencies\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"currencies\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"currencies\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"currencies\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "currencies_org_not_empty": {
          "name": "currencies_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.currency_exchange_settings_details": {
      "name": "currency_exchange_settings_details",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "parent": {
          "name": "parent",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "currency_exchange_settings_details_org_parent_idx": {
          "name": "currency_exchange_settings_details_org_parent_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "parent",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "currency_exchange_settings_details_org_created_id_idx": {
          "name": "currency_exchange_settings_details_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "currency_exchange_settings_details_parent_currency_exchange_settings_id_fk": {
          "name": "currency_exchange_settings_details_parent_currency_exchange_settings_id_fk",
          "tableFrom": "currency_exchange_settings_details",
          "tableTo": "currency_exchange_settings",
          "columnsFrom": [
            "parent"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "currency_exchange_settings_details_org_id_id_pk": {
          "name": "currency_exchange_settings_details_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"currency_exchange_settings_details\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"currency_exchange_settings_details\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"currency_exchange_settings_details\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"currency_exchange_settings_details\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"currency_exchange_settings_details\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "currency_exchange_settings_details_org_not_empty": {
          "name": "currency_exchange_settings_details_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.currency_exchange_settings": {
      "name": "currency_exchange_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "disabled": {
          "name": "disabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "service_provider": {
          "name": "service_provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "api_endpoint": {
          "name": "api_endpoint",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "use_http": {
          "name": "use_http",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "access_key": {
          "name": "access_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "help": {
          "name": "help",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "currency_exchange_settings_org_created_id_idx": {
          "name": "currency_exchange_settings_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "currency_exchange_settings_org_id_id_pk": {
          "name": "currency_exchange_settings_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "currency_exchange_settings_org_singleton": {
          "name": "currency_exchange_settings_org_singleton",
          "nullsNotDistinct": false,
          "columns": [
            "org_id"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"currency_exchange_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"currency_exchange_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"currency_exchange_settings\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"currency_exchange_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"currency_exchange_settings\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "currency_exchange_settings_org_not_empty": {
          "name": "currency_exchange_settings_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.custom_field_sync_queue": {
      "name": "custom_field_sync_queue",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "queued_at": {
          "name": "queued_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "attempts": {
          "name": "attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_error": {
          "name": "last_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "next_retry_at": {
          "name": "next_retry_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "custom_field_sync_queue_pending_retry_idx": {
          "name": "custom_field_sync_queue_pending_retry_idx",
          "columns": [
            {
              "expression": "next_retry_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "custom_field_sync_queue_org_id_id_pk": {
          "name": "custom_field_sync_queue_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"custom_field_sync_queue\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"custom_field_sync_queue\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"custom_field_sync_queue\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"custom_field_sync_queue\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"custom_field_sync_queue\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "custom_field_sync_queue_org_not_empty": {
          "name": "custom_field_sync_queue_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.custom_field_values": {
      "name": "custom_field_values",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "field_id": {
          "name": "field_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "value_text": {
          "name": "value_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "value_int": {
          "name": "value_int",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "value_numeric": {
          "name": "value_numeric",
          "type": "numeric(20, 10)",
          "primaryKey": false,
          "notNull": false
        },
        "value_bool": {
          "name": "value_bool",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "value_date": {
          "name": "value_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "value_ts": {
          "name": "value_ts",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "value_json": {
          "name": "value_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "value_uuid": {
          "name": "value_uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'user'"
        }
      },
      "indexes": {
        "custom_field_values_org_entity_field_uniq": {
          "name": "custom_field_values_org_entity_field_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "field_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "custom_field_values_entity_lookup_idx": {
          "name": "custom_field_values_entity_lookup_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "custom_field_values_field_lookup_idx": {
          "name": "custom_field_values_field_lookup_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "field_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "custom_field_values_field_fk": {
          "name": "custom_field_values_field_fk",
          "tableFrom": "custom_field_values",
          "tableTo": "custom_fields",
          "columnsFrom": [
            "org_id",
            "entity_type",
            "field_id"
          ],
          "columnsTo": [
            "org_id",
            "entity_type",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "custom_field_values_org_id_id_pk": {
          "name": "custom_field_values_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"custom_field_values\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"custom_field_values\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"custom_field_values\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"custom_field_values\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"custom_field_values\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "custom_field_values_org_not_empty": {
          "name": "custom_field_values_org_not_empty",
          "value": "org_id <> ''"
        },
        "custom_field_values_source_chk": {
          "name": "custom_field_values_source_chk",
          "value": "source IN ('user','rule','import','system')"
        },
        "custom_field_values_exactly_one_typed_col": {
          "name": "custom_field_values_exactly_one_typed_col",
          "value": "(\n        (value_text    IS NOT NULL)::int +\n        (value_int     IS NOT NULL)::int +\n        (value_numeric IS NOT NULL)::int +\n        (value_bool    IS NOT NULL)::int +\n        (value_date    IS NOT NULL)::int +\n        (value_ts      IS NOT NULL)::int +\n        (value_json    IS NOT NULL)::int +\n        (value_uuid    IS NOT NULL)::int\n        = 1\n      )"
        }
      },
      "isRLSEnabled": false
    },
    "public.custom_fields": {
      "name": "custom_fields",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "field_name": {
          "name": "field_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "field_label": {
          "name": "field_label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "field_type": {
          "name": "field_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type_config": {
          "name": "type_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "storage_mode": {
          "name": "storage_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'jsonb_only'"
        },
        "default_value": {
          "name": "default_value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_searchable": {
          "name": "is_searchable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_filterable": {
          "name": "is_filterable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_sortable": {
          "name": "is_sortable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "section": {
          "name": "section",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_locked": {
          "name": "is_locked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_deprecated": {
          "name": "is_deprecated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_unique": {
          "name": "is_unique",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "schema_hash": {
          "name": "schema_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "custom_fields_org_id_idx": {
          "name": "custom_fields_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "custom_fields_org_entity_field_name_uniq": {
          "name": "custom_fields_org_entity_field_name_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "field_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "custom_fields_org_entity_id_uniq": {
          "name": "custom_fields_org_entity_id_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "custom_fields_org_id_id_pk": {
          "name": "custom_fields_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"custom_fields\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"custom_fields\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"custom_fields\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"custom_fields\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"custom_fields\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "custom_fields_org_not_empty": {
          "name": "custom_fields_org_not_empty",
          "value": "org_id <> ''"
        },
        "custom_fields_field_name_snake": {
          "name": "custom_fields_field_name_snake",
          "value": "field_name ~ '^[a-z][a-z0-9_]*$'"
        },
        "custom_fields_storage_mode_chk": {
          "name": "custom_fields_storage_mode_chk",
          "value": "storage_mode IN ('jsonb_only','indexed')"
        },
        "custom_fields_required_needs_default": {
          "name": "custom_fields_required_needs_default",
          "value": "is_required = false OR default_value IS NOT NULL"
        },
        "custom_fields_type_config_is_object": {
          "name": "custom_fields_type_config_is_object",
          "value": "jsonb_typeof(type_config) = 'object'"
        },
        "custom_fields_type_config_enum_choices": {
          "name": "custom_fields_type_config_enum_choices",
          "value": "field_type NOT IN ('enum','multi_enum') OR (type_config ? 'choices')"
        },
        "custom_fields_type_config_short_text_maxlen": {
          "name": "custom_fields_type_config_short_text_maxlen",
          "value": "field_type <> 'short_text' OR (type_config ? 'maxLength')"
        },
        "custom_fields_type_config_entity_ref_target": {
          "name": "custom_fields_type_config_entity_ref_target",
          "value": "field_type <> 'entity_ref' OR (type_config ? 'targetEntity')"
        }
      },
      "isRLSEnabled": false
    },
    "public.customer_profiles": {
      "name": "customer_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "customer_code": {
          "name": "customer_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "credit_limit_minor": {
          "name": "credit_limit_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "payment_terms_id": {
          "name": "payment_terms_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "default_price_list_id": {
          "name": "default_price_list_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "default_currency_code": {
          "name": "default_currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "default_tax_code": {
          "name": "default_tax_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "receivable_account_id": {
          "name": "receivable_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "sales_person_id": {
          "name": "sales_person_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "customer_group": {
          "name": "customer_group",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "territory": {
          "name": "territory",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "cust_prof_org_id_idx": {
          "name": "cust_prof_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "cust_prof_org_company_idx": {
          "name": "cust_prof_org_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "cust_prof_org_contact_uniq": {
          "name": "cust_prof_org_contact_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "contact_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "customer_profiles_company_fk": {
          "name": "customer_profiles_company_fk",
          "tableFrom": "customer_profiles",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "customer_profiles_org_id_id_pk": {
          "name": "customer_profiles_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"customer_profiles\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"customer_profiles\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"customer_profiles\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"customer_profiles\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"customer_profiles\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "cust_prof_org_not_empty": {
          "name": "cust_prof_org_not_empty",
          "value": "org_id <> ''"
        },
        "cust_prof_credit_limit_non_negative": {
          "name": "cust_prof_credit_limit_non_negative",
          "value": "credit_limit_minor IS NULL OR credit_limit_minor >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.debit_notes": {
      "name": "debit_notes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "doc_status": {
          "name": "doc_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amended_from_id": {
          "name": "amended_from_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "external_source": {
          "name": "external_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "debit_note_no": {
          "name": "debit_note_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reverses_type": {
          "name": "reverses_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reverses_id": {
          "name": "reverses_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "reason_code": {
          "name": "reason_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reason_description": {
          "name": "reason_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "fx_rate": {
          "name": "fx_rate",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subtotal_minor": {
          "name": "subtotal_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_minor": {
          "name": "tax_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_minor": {
          "name": "total_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "base_subtotal_minor": {
          "name": "base_subtotal_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "base_tax_minor": {
          "name": "base_tax_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "base_total_minor": {
          "name": "base_total_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "posted_at": {
          "name": "posted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "journal_entry_id": {
          "name": "journal_entry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        }
      },
      "indexes": {
        "debit_notes_org_id_idx": {
          "name": "debit_notes_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "debit_notes_org_company_idx": {
          "name": "debit_notes_org_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "debit_notes_reverses_idx": {
          "name": "debit_notes_reverses_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "reverses_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "reverses_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "debit_notes_contact_idx": {
          "name": "debit_notes_contact_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "contact_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "debit_notes_company_fk": {
          "name": "debit_notes_company_fk",
          "tableFrom": "debit_notes",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "debit_notes_org_id_id_pk": {
          "name": "debit_notes_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"debit_notes\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"debit_notes\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"debit_notes\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"debit_notes\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"debit_notes\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "debit_notes_org_not_empty": {
          "name": "debit_notes_org_not_empty",
          "value": "org_id <> ''"
        },
        "debit_notes_reverses_type_valid": {
          "name": "debit_notes_reverses_type_valid",
          "value": "reverses_type IN ('purchase_invoice', 'credit_note')"
        },
        "debit_notes_amounts_non_negative": {
          "name": "debit_notes_amounts_non_negative",
          "value": "subtotal_minor >= 0 AND tax_minor >= 0 AND total_minor >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.delivery_note_lines": {
      "name": "delivery_note_lines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "delivery_note_id": {
          "name": "delivery_note_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "line_no": {
          "name": "line_no",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "item_id": {
          "name": "item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "item_code": {
          "name": "item_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "item_name": {
          "name": "item_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "qty": {
          "name": "qty",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'1'"
        },
        "uom_id": {
          "name": "uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rate_minor": {
          "name": "rate_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discount_minor": {
          "name": "discount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_minor": {
          "name": "tax_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "net_minor": {
          "name": "net_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_rate_id": {
          "name": "tax_rate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "warehouse_id": {
          "name": "warehouse_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "lot_tracking_id": {
          "name": "lot_tracking_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "serial_no": {
          "name": "serial_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "posting_date": {
          "name": "posting_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "source_doc_type": {
          "name": "source_doc_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_line_id": {
          "name": "source_line_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "dnl_org_note_line_uniq": {
          "name": "dnl_org_note_line_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "delivery_note_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "line_no",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "dnl_org_note_idx": {
          "name": "dnl_org_note_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "delivery_note_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "dnl_org_item_idx": {
          "name": "dnl_org_item_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "dnl_org_item_posting_idx": {
          "name": "dnl_org_item_posting_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "delivery_note_lines_org_id_id_pk": {
          "name": "delivery_note_lines_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"delivery_note_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"delivery_note_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"delivery_note_lines\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"delivery_note_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"delivery_note_lines\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "dnl_org_not_empty": {
          "name": "dnl_org_not_empty",
          "value": "org_id <> ''"
        },
        "dnl_net_check": {
          "name": "dnl_net_check",
          "value": "net_minor = amount_minor - discount_minor + tax_minor"
        },
        "dnl_amount_non_negative": {
          "name": "dnl_amount_non_negative",
          "value": "amount_minor >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.delivery_notes": {
      "name": "delivery_notes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "doc_status": {
          "name": "doc_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amended_from_id": {
          "name": "amended_from_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "external_source": {
          "name": "external_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "posting_status": {
          "name": "posting_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'unposted'"
        },
        "posting_date": {
          "name": "posting_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "posted_at": {
          "name": "posted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "posted_by": {
          "name": "posted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "posting_batch_id": {
          "name": "posting_batch_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "doc_no": {
          "name": "doc_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "customer_id": {
          "name": "customer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "warehouse_id": {
          "name": "warehouse_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "dn_org_doc_no_uniq": {
          "name": "dn_org_doc_no_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "doc_no",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "dn_org_customer_posting_idx": {
          "name": "dn_org_customer_posting_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "customer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "dn_org_posting_date_idx": {
          "name": "dn_org_posting_date_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "dn_org_posting_status_idx": {
          "name": "dn_org_posting_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "delivery_notes_company_fk": {
          "name": "delivery_notes_company_fk",
          "tableFrom": "delivery_notes",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "delivery_notes_org_id_id_pk": {
          "name": "delivery_notes_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"delivery_notes\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"delivery_notes\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"delivery_notes\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"delivery_notes\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"delivery_notes\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "dn_org_not_empty": {
          "name": "dn_org_not_empty",
          "value": "org_id <> ''"
        },
        "dn_company_required": {
          "name": "dn_company_required",
          "value": "company_id IS NOT NULL"
        },
        "dn_posting_status_valid": {
          "name": "dn_posting_status_valid",
          "value": "posting_status IN ('unposted', 'posting', 'posted', 'failed', 'reversing', 'reversed')"
        }
      },
      "isRLSEnabled": false
    },
    "public.delivery_settings": {
      "name": "delivery_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "stop_delivery_after_days": {
          "name": "stop_delivery_after_days",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "dispatch_address_template": {
          "name": "dispatch_address_template",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "delivery_settings_org_created_id_idx": {
          "name": "delivery_settings_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"delivery_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"delivery_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"delivery_settings\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"delivery_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"delivery_settings\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "delivery_settings_org_not_empty": {
          "name": "delivery_settings_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.departments": {
      "name": "departments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "department_name": {
          "name": "department_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "parent_department": {
          "name": "parent_department",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "company": {
          "name": "company",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_group": {
          "name": "is_group",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "disabled": {
          "name": "disabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {
        "departments_org_created_id_idx": {
          "name": "departments_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "departments_org_name_idx": {
          "name": "departments_org_name_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "department_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "departments_org_parent_idx": {
          "name": "departments_org_parent_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "parent_department",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "departments_org_company_idx": {
          "name": "departments_org_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "departments_parent_department_departments_id_fk": {
          "name": "departments_parent_department_departments_id_fk",
          "tableFrom": "departments",
          "tableTo": "departments",
          "columnsFrom": [
            "parent_department"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "departments_org_id_id_pk": {
          "name": "departments_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "departments_org_name_unique": {
          "name": "departments_org_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "org_id",
            "department_name"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"departments\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"departments\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"departments\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"departments\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"departments\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "departments_org_not_empty": {
          "name": "departments_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.dependent_tasks": {
      "name": "dependent_tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "task": {
          "name": "task",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "dependent_task": {
          "name": "dependent_task",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "dependent_tasks_org_created_id_idx": {
          "name": "dependent_tasks_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "dependent_tasks_org_task_idx": {
          "name": "dependent_tasks_org_task_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "task",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "dependent_tasks_org_dependent_idx": {
          "name": "dependent_tasks_org_dependent_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "dependent_task",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "dependent_tasks_task_tasks_id_fk": {
          "name": "dependent_tasks_task_tasks_id_fk",
          "tableFrom": "dependent_tasks",
          "tableTo": "tasks",
          "columnsFrom": [
            "task"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "dependent_tasks_dependent_task_tasks_id_fk": {
          "name": "dependent_tasks_dependent_task_tasks_id_fk",
          "tableFrom": "dependent_tasks",
          "tableTo": "tasks",
          "columnsFrom": [
            "dependent_task"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "dependent_tasks_org_id_id_pk": {
          "name": "dependent_tasks_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"dependent_tasks\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"dependent_tasks\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"dependent_tasks\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"dependent_tasks\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"dependent_tasks\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "dependent_tasks_org_not_empty": {
          "name": "dependent_tasks_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.designations": {
      "name": "designations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "designation_name": {
          "name": "designation_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "designations_org_created_id_idx": {
          "name": "designations_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "designations_org_name_idx": {
          "name": "designations_org_name_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "designation_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "designations_org_id_id_pk": {
          "name": "designations_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "designations_org_name_unique": {
          "name": "designations_org_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "org_id",
            "designation_name"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"designations\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"designations\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"designations\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"designations\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"designations\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "designations_org_not_empty": {
          "name": "designations_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.discount_rules": {
      "name": "discount_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "discount_type": {
          "name": "discount_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'percentage'"
        },
        "discount_value": {
          "name": "discount_value",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'global'"
        },
        "customer_id": {
          "name": "customer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "product_group_code": {
          "name": "product_group_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "price_list_id": {
          "name": "price_list_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "precedence": {
          "name": "precedence",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "stackable": {
          "name": "stackable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "effective_from": {
          "name": "effective_from",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "effective_to": {
          "name": "effective_to",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "disc_rules_org_id_idx": {
          "name": "disc_rules_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "disc_rules_scope_idx": {
          "name": "disc_rules_scope_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "scope",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "disc_rules_customer_idx": {
          "name": "disc_rules_customer_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "customer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "disc_rules_product_idx": {
          "name": "disc_rules_product_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "disc_rules_precedence_idx": {
          "name": "disc_rules_precedence_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "precedence",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "discount_rules_company_fk": {
          "name": "discount_rules_company_fk",
          "tableFrom": "discount_rules",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "discount_rules_org_id_id_pk": {
          "name": "discount_rules_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"discount_rules\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"discount_rules\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"discount_rules\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"discount_rules\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"discount_rules\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "disc_rules_org_not_empty": {
          "name": "disc_rules_org_not_empty",
          "value": "org_id <> ''"
        },
        "disc_rules_type_valid": {
          "name": "disc_rules_type_valid",
          "value": "discount_type IN ('percentage', 'fixed_amount', 'buy_x_get_y')"
        },
        "disc_rules_scope_valid": {
          "name": "disc_rules_scope_valid",
          "value": "scope IN ('global', 'customer', 'product', 'product_group', 'price_list')"
        },
        "disc_rules_value_non_negative": {
          "name": "disc_rules_value_non_negative",
          "value": "discount_value >= 0"
        },
        "disc_rules_date_order": {
          "name": "disc_rules_date_order",
          "value": "effective_to IS NULL OR effective_from IS NULL OR effective_from <= effective_to"
        }
      },
      "isRLSEnabled": false
    },
    "public.doc_links": {
      "name": "doc_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_type": {
          "name": "source_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_id": {
          "name": "source_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_id": {
          "name": "target_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "link_type": {
          "name": "link_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_line_id": {
          "name": "source_line_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "target_line_id": {
          "name": "target_line_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "doc_links_org_src_tgt_type_uniq": {
          "name": "doc_links_org_src_tgt_type_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "target_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "target_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "link_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "doc_links_org_target_idx": {
          "name": "doc_links_org_target_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "target_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "target_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "doc_links_org_source_idx": {
          "name": "doc_links_org_source_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "doc_links_org_id_id_pk": {
          "name": "doc_links_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"doc_links\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"doc_links\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"doc_links\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"doc_links\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"doc_links\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "doc_links_org_not_empty": {
          "name": "doc_links_org_not_empty",
          "value": "org_id <> ''"
        },
        "doc_links_type_valid": {
          "name": "doc_links_type_valid",
          "value": "link_type IN ('fulfillment', 'billing', 'return', 'amendment')"
        }
      },
      "isRLSEnabled": false
    },
    "public.doc_postings": {
      "name": "doc_postings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "doc_type": {
          "name": "doc_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "doc_id": {
          "name": "doc_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "doc_version": {
          "name": "doc_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'posting'"
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "posting_batch_id": {
          "name": "posting_batch_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "posting_run_id": {
          "name": "posting_run_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "journal_entry_id": {
          "name": "journal_entry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "stock_batch_id": {
          "name": "stock_batch_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "posted_at": {
          "name": "posted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "posted_by": {
          "name": "posted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reversed_at": {
          "name": "reversed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reversed_by": {
          "name": "reversed_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reversal_posting_id": {
          "name": "reversal_posting_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "doc_postings_org_idemp_uniq": {
          "name": "doc_postings_org_idemp_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "idempotency_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "doc_postings_org_doc_active_uniq": {
          "name": "doc_postings_org_doc_active_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "doc_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "doc_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "status IN ('posting', 'posted', 'reversing')",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "doc_postings_org_doc_version_uniq": {
          "name": "doc_postings_org_doc_version_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "doc_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "doc_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "doc_version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "doc_postings_org_batch_idx": {
          "name": "doc_postings_org_batch_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_batch_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "doc_postings_org_run_idx": {
          "name": "doc_postings_org_run_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_run_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "doc_postings_org_type_posted_idx": {
          "name": "doc_postings_org_type_posted_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "doc_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "doc_postings_org_status_idx": {
          "name": "doc_postings_org_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "doc_postings_org_id_id_pk": {
          "name": "doc_postings_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"doc_postings\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"doc_postings\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"doc_postings\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"doc_postings\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"doc_postings\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "doc_postings_org_not_empty": {
          "name": "doc_postings_org_not_empty",
          "value": "org_id <> ''"
        },
        "doc_postings_status_valid": {
          "name": "doc_postings_status_valid",
          "value": "status IN ('posting', 'posted', 'failed', 'reversing', 'reversed')"
        }
      },
      "isRLSEnabled": false
    },
    "public.employee_groups": {
      "name": "employee_groups",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "employee_group_name": {
          "name": "employee_group_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "employee_groups_org_created_id_idx": {
          "name": "employee_groups_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "employee_groups_org_name_idx": {
          "name": "employee_groups_org_name_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "employee_group_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "employee_groups_org_id_id_pk": {
          "name": "employee_groups_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "employee_groups_org_name_unique": {
          "name": "employee_groups_org_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "org_id",
            "employee_group_name"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"employee_groups\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"employee_groups\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"employee_groups\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"employee_groups\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"employee_groups\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "employee_groups_org_not_empty": {
          "name": "employee_groups_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.entity_attachments": {
      "name": "entity_attachments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_id": {
          "name": "file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'general'"
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content_type": {
          "name": "content_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "size_bytes": {
          "name": "size_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "entity_attach_org_entity_idx": {
          "name": "entity_attach_org_entity_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "entity_attach_org_file_idx": {
          "name": "entity_attach_org_file_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "file_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "entity_attach_org_category_idx": {
          "name": "entity_attach_org_category_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "entity_attachments_org_id_id_pk": {
          "name": "entity_attachments_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"entity_attachments\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"entity_attachments\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"entity_attachments\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"entity_attachments\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"entity_attachments\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "entity_attach_org_not_empty": {
          "name": "entity_attach_org_not_empty",
          "value": "org_id <> ''"
        },
        "entity_attach_entity_type_not_empty": {
          "name": "entity_attach_entity_type_not_empty",
          "value": "entity_type <> ''"
        },
        "entity_attach_category_valid": {
          "name": "entity_attach_category_valid",
          "value": "category IN ('general', 'receipt', 'contract', 'photo', 'signature', 'report', 'correspondence', 'legal', 'other')"
        }
      },
      "isRLSEnabled": false
    },
    "public.entity_versions": {
      "name": "entity_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "parent_version": {
          "name": "parent_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_fork": {
          "name": "is_fork",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "fork_reason": {
          "name": "fork_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "snapshot": {
          "name": "snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "diff": {
          "name": "diff",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "entity_versions_unique_idx": {
          "name": "entity_versions_unique_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "entity_versions_org_id_id_pk": {
          "name": "entity_versions_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"entity_versions\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"entity_versions\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"entity_versions\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"entity_versions\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"entity_versions\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "entity_versions_org_not_empty": {
          "name": "entity_versions_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.entity_view_fields": {
      "name": "entity_view_fields",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "view_id": {
          "name": "view_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "field_source": {
          "name": "field_source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "field_key": {
          "name": "field_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_visible": {
          "name": "is_visible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_sortable": {
          "name": "is_sortable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_filterable": {
          "name": "is_filterable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "column_width": {
          "name": "column_width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "component_override": {
          "name": "component_override",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "entity_view_fields_org_id_idx": {
          "name": "entity_view_fields_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "entity_view_fields_org_view_field_key_uniq": {
          "name": "entity_view_fields_org_view_field_key_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "view_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "field_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "entity_view_fields_view_id_entity_views_id_fk": {
          "name": "entity_view_fields_view_id_entity_views_id_fk",
          "tableFrom": "entity_view_fields",
          "tableTo": "entity_views",
          "columnsFrom": [
            "view_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "entity_view_fields_org_id_id_pk": {
          "name": "entity_view_fields_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"entity_view_fields\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"entity_view_fields\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"entity_view_fields\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"entity_view_fields\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"entity_view_fields\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "entity_view_fields_org_not_empty": {
          "name": "entity_view_fields_org_not_empty",
          "value": "org_id <> ''"
        },
        "entity_view_fields_source_chk": {
          "name": "entity_view_fields_source_chk",
          "value": "field_source IN ('core','module','custom')"
        }
      },
      "isRLSEnabled": false
    },
    "public.entity_views": {
      "name": "entity_views",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "view_name": {
          "name": "view_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "view_type": {
          "name": "view_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'table'"
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_system": {
          "name": "is_system",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "entity_views_org_id_idx": {
          "name": "entity_views_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "entity_views_org_entity_view_name_uniq": {
          "name": "entity_views_org_entity_view_name_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "view_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "entity_views_org_id_id_pk": {
          "name": "entity_views_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"entity_views\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"entity_views\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"entity_views\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"entity_views\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"entity_views\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "entity_views_org_not_empty": {
          "name": "entity_views_org_not_empty",
          "value": "org_id <> ''"
        },
        "entity_views_view_type_chk": {
          "name": "entity_views_view_type_chk",
          "value": "view_type IN ('table','form','kanban','detail')"
        }
      },
      "isRLSEnabled": false
    },
    "public.fiscal_periods": {
      "name": "fiscal_periods",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "period_name": {
          "name": "period_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        }
      },
      "indexes": {
        "fiscal_periods_org_id_idx": {
          "name": "fiscal_periods_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fiscal_periods_org_company_idx": {
          "name": "fiscal_periods_org_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fiscal_periods_lookup_idx": {
          "name": "fiscal_periods_lookup_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "start_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "end_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fiscal_periods_org_company_start_uniq": {
          "name": "fiscal_periods_org_company_start_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "start_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "fiscal_periods_company_fk": {
          "name": "fiscal_periods_company_fk",
          "tableFrom": "fiscal_periods",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "fiscal_periods_org_id_id_pk": {
          "name": "fiscal_periods_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"fiscal_periods\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"fiscal_periods\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"fiscal_periods\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"fiscal_periods\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"fiscal_periods\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "fiscal_periods_org_not_empty": {
          "name": "fiscal_periods_org_not_empty",
          "value": "org_id <> ''"
        },
        "fiscal_periods_status_valid": {
          "name": "fiscal_periods_status_valid",
          "value": "status IN ('open', 'closing', 'closed')"
        },
        "fiscal_periods_date_order": {
          "name": "fiscal_periods_date_order",
          "value": "start_date <= end_date"
        }
      },
      "isRLSEnabled": false
    },
    "public.asset_events": {
      "name": "asset_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "asset_id": {
          "name": "asset_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_date": {
          "name": "event_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "journal_entry_id": {
          "name": "journal_entry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "performed_by": {
          "name": "performed_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "asset_events_org_id_idx": {
          "name": "asset_events_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "asset_events_asset_idx": {
          "name": "asset_events_asset_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "asset_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"asset_events\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"asset_events\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"asset_events\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"asset_events\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"asset_events\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "asset_events_org_not_empty": {
          "name": "asset_events_org_not_empty",
          "value": "org_id <> ''"
        },
        "asset_events_type_valid": {
          "name": "asset_events_type_valid",
          "value": "event_type IN ('acquire', 'adjust', 'revalue', 'transfer', 'dispose', 'write_off', 'impair')"
        }
      },
      "isRLSEnabled": false
    },
    "public.assets": {
      "name": "assets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "asset_code": {
          "name": "asset_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'acquired'"
        },
        "acquisition_date": {
          "name": "acquisition_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "acquisition_cost_minor": {
          "name": "acquisition_cost_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "residual_value_minor": {
          "name": "residual_value_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "useful_life_months": {
          "name": "useful_life_months",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "depreciation_method": {
          "name": "depreciation_method",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'straight_line'"
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "cost_account_id": {
          "name": "cost_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "depreciation_account_id": {
          "name": "depreciation_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "accum_depreciation_account_id": {
          "name": "accum_depreciation_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "disposal_date": {
          "name": "disposal_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "disposal_amount_minor": {
          "name": "disposal_amount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "site_id": {
          "name": "site_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "source_invoice_id": {
          "name": "source_invoice_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "assets_org_id_idx": {
          "name": "assets_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "assets_org_company_idx": {
          "name": "assets_org_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "assets_status_idx": {
          "name": "assets_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "assets_company_fk": {
          "name": "assets_company_fk",
          "tableFrom": "assets",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "assets_org_id_id_pk": {
          "name": "assets_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"assets\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"assets\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"assets\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"assets\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"assets\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "assets_org_not_empty": {
          "name": "assets_org_not_empty",
          "value": "org_id <> ''"
        },
        "assets_status_valid": {
          "name": "assets_status_valid",
          "value": "status IN ('acquired', 'in_service', 'disposed', 'written_off')"
        },
        "assets_depreciation_valid": {
          "name": "assets_depreciation_valid",
          "value": "depreciation_method IN ('straight_line', 'declining_balance', 'units_of_production', 'none')"
        },
        "assets_cost_positive": {
          "name": "assets_cost_positive",
          "value": "acquisition_cost_minor > 0"
        },
        "assets_life_positive": {
          "name": "assets_life_positive",
          "value": "useful_life_months > 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.depreciation_schedules": {
      "name": "depreciation_schedules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "asset_id": {
          "name": "asset_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "fiscal_period_id": {
          "name": "fiscal_period_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "depreciation_minor": {
          "name": "depreciation_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "accum_depreciation_minor": {
          "name": "accum_depreciation_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "book_value_minor": {
          "name": "book_value_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "journal_entry_id": {
          "name": "journal_entry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "dep_sched_org_id_idx": {
          "name": "dep_sched_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "dep_sched_asset_idx": {
          "name": "dep_sched_asset_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "asset_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "dep_sched_period_idx": {
          "name": "dep_sched_period_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "fiscal_period_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"depreciation_schedules\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"depreciation_schedules\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"depreciation_schedules\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"depreciation_schedules\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"depreciation_schedules\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "dep_sched_org_not_empty": {
          "name": "dep_sched_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.fx_rates": {
      "name": "fx_rates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "from_code": {
          "name": "from_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "to_code": {
          "name": "to_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "effective_date": {
          "name": "effective_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "rate": {
          "name": "rate",
          "type": "numeric(20, 10)",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual'"
        },
        "captured_at": {
          "name": "captured_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        }
      },
      "indexes": {
        "fx_rates_org_id_idx": {
          "name": "fx_rates_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fx_rates_lookup_idx": {
          "name": "fx_rates_lookup_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "from_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "to_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "effective_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fx_rates_org_pair_date_source_uniq": {
          "name": "fx_rates_org_pair_date_source_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "from_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "to_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "effective_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "fx_rates_org_id_id_pk": {
          "name": "fx_rates_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"fx_rates\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"fx_rates\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"fx_rates\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"fx_rates\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"fx_rates\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "fx_rates_org_not_empty": {
          "name": "fx_rates_org_not_empty",
          "value": "org_id <> ''"
        },
        "fx_rates_source_valid": {
          "name": "fx_rates_source_valid",
          "value": "source IN ('manual', 'api', 'import')"
        },
        "fx_rates_rate_positive": {
          "name": "fx_rates_rate_positive",
          "value": "rate > 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.global_defaults": {
      "name": "global_defaults",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "default_company": {
          "name": "default_company",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "default_distance_unit": {
          "name": "default_distance_unit",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "default_currency": {
          "name": "default_currency",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "hide_login_with_email_link": {
          "name": "hide_login_with_email_link",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "session_expiry": {
          "name": "session_expiry",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_expiry_mobile": {
          "name": "session_expiry_mobile",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "enable_two_factor_auth": {
          "name": "enable_two_factor_auth",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "bypass_restrict_ip_check_if_two_factor_auth": {
          "name": "bypass_restrict_ip_check_if_two_factor_auth",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "disable_system_update_notifications": {
          "name": "disable_system_update_notifications",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "disable_change_log_notification": {
          "name": "disable_change_log_notification",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "disable_user_pass": {
          "name": "disable_user_pass",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_login_using_mobile_number": {
          "name": "allow_login_using_mobile_number",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_login_using_user_name": {
          "name": "allow_login_using_user_name",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_consecutive_login": {
          "name": "allow_consecutive_login",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_error_trackers": {
          "name": "allow_error_trackers",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "enable_password_policy": {
          "name": "enable_password_policy",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "minimum_password_score": {
          "name": "minimum_password_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "enable_letterhead_on_printing_language": {
          "name": "enable_letterhead_on_printing_language",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_stale_exchange_rates": {
          "name": "allow_stale_exchange_rates",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "setup_complete": {
          "name": "setup_complete",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "date_format": {
          "name": "date_format",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "time_format": {
          "name": "time_format",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "time_zone": {
          "name": "time_zone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "float_precision": {
          "name": "float_precision",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "currency_precision": {
          "name": "currency_precision",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "number_format": {
          "name": "number_format",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "first_day_of_the_week": {
          "name": "first_day_of_the_week",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_letterhead": {
          "name": "default_letterhead",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "default_print_format": {
          "name": "default_print_format",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_print_style": {
          "name": "default_print_style",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_workspace": {
          "name": "default_workspace",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_language": {
          "name": "default_language",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rounding": {
          "name": "rounding",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "disable_rounded_total": {
          "name": "disable_rounded_total",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "disable_in_words": {
          "name": "disable_in_words",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {
        "global_defaults_org_created_id_idx": {
          "name": "global_defaults_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "global_defaults_org_id_id_pk": {
          "name": "global_defaults_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "global_defaults_org_singleton": {
          "name": "global_defaults_org_singleton",
          "nullsNotDistinct": false,
          "columns": [
            "org_id"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"global_defaults\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"global_defaults\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"global_defaults\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"global_defaults\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"global_defaults\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "global_defaults_org_not_empty": {
          "name": "global_defaults_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.goods_receipt_lines": {
      "name": "goods_receipt_lines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "goods_receipt_id": {
          "name": "goods_receipt_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "line_no": {
          "name": "line_no",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "item_id": {
          "name": "item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "item_code": {
          "name": "item_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "item_name": {
          "name": "item_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "qty": {
          "name": "qty",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'1'"
        },
        "uom_id": {
          "name": "uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rate_minor": {
          "name": "rate_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discount_minor": {
          "name": "discount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_minor": {
          "name": "tax_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "net_minor": {
          "name": "net_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_rate_id": {
          "name": "tax_rate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "warehouse_id": {
          "name": "warehouse_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "lot_tracking_id": {
          "name": "lot_tracking_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "serial_no": {
          "name": "serial_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "posting_date": {
          "name": "posting_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "source_doc_type": {
          "name": "source_doc_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_line_id": {
          "name": "source_line_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "grl_org_receipt_line_uniq": {
          "name": "grl_org_receipt_line_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "goods_receipt_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "line_no",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "grl_org_receipt_idx": {
          "name": "grl_org_receipt_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "goods_receipt_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "grl_org_item_idx": {
          "name": "grl_org_item_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "grl_org_item_posting_idx": {
          "name": "grl_org_item_posting_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "goods_receipt_lines_org_id_id_pk": {
          "name": "goods_receipt_lines_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"goods_receipt_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"goods_receipt_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"goods_receipt_lines\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"goods_receipt_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"goods_receipt_lines\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "grl_org_not_empty": {
          "name": "grl_org_not_empty",
          "value": "org_id <> ''"
        },
        "grl_net_check": {
          "name": "grl_net_check",
          "value": "net_minor = amount_minor - discount_minor + tax_minor"
        },
        "grl_amount_non_negative": {
          "name": "grl_amount_non_negative",
          "value": "amount_minor >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.goods_receipts": {
      "name": "goods_receipts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "doc_status": {
          "name": "doc_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amended_from_id": {
          "name": "amended_from_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "external_source": {
          "name": "external_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "posting_status": {
          "name": "posting_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'unposted'"
        },
        "posting_date": {
          "name": "posting_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "posted_at": {
          "name": "posted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "posted_by": {
          "name": "posted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "posting_batch_id": {
          "name": "posting_batch_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "doc_no": {
          "name": "doc_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "supplier_id": {
          "name": "supplier_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "warehouse_id": {
          "name": "warehouse_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "gr_org_doc_no_uniq": {
          "name": "gr_org_doc_no_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "doc_no",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "gr_org_supplier_posting_idx": {
          "name": "gr_org_supplier_posting_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "supplier_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "gr_org_posting_date_idx": {
          "name": "gr_org_posting_date_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "gr_org_posting_status_idx": {
          "name": "gr_org_posting_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "goods_receipts_company_fk": {
          "name": "goods_receipts_company_fk",
          "tableFrom": "goods_receipts",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "goods_receipts_org_id_id_pk": {
          "name": "goods_receipts_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"goods_receipts\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"goods_receipts\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"goods_receipts\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"goods_receipts\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"goods_receipts\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "gr_org_not_empty": {
          "name": "gr_org_not_empty",
          "value": "org_id <> ''"
        },
        "gr_company_required": {
          "name": "gr_company_required",
          "value": "company_id IS NOT NULL"
        },
        "gr_posting_status_valid": {
          "name": "gr_posting_status_valid",
          "value": "posting_status IN ('unposted', 'posting', 'posted', 'failed', 'reversing', 'reversed')"
        }
      },
      "isRLSEnabled": false
    },
    "public.holiday_lists": {
      "name": "holiday_lists",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "holiday_list_name": {
          "name": "holiday_list_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "from_date": {
          "name": "from_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "to_date": {
          "name": "to_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "total_holidays": {
          "name": "total_holidays",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "weekly_off": {
          "name": "weekly_off",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "holiday_lists_org_created_id_idx": {
          "name": "holiday_lists_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "holiday_lists_org_name_idx": {
          "name": "holiday_lists_org_name_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "holiday_list_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "holiday_lists_org_country_idx": {
          "name": "holiday_lists_org_country_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "country",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "holiday_lists_org_id_id_pk": {
          "name": "holiday_lists_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "holiday_lists_org_name_unique": {
          "name": "holiday_lists_org_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "org_id",
            "holiday_list_name"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"holiday_lists\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"holiday_lists\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"holiday_lists\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"holiday_lists\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"holiday_lists\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "holiday_lists_org_not_empty": {
          "name": "holiday_lists_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.holidays": {
      "name": "holidays",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "parent": {
          "name": "parent",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "holiday_date": {
          "name": "holiday_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "weekly_off": {
          "name": "weekly_off",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {
        "holidays_org_parent_idx": {
          "name": "holidays_org_parent_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "parent",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "holidays_org_created_id_idx": {
          "name": "holidays_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "holidays_org_date_idx": {
          "name": "holidays_org_date_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "holiday_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "holidays_parent_holiday_lists_id_fk": {
          "name": "holidays_parent_holiday_lists_id_fk",
          "tableFrom": "holidays",
          "tableTo": "holiday_lists",
          "columnsFrom": [
            "parent"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "holidays_org_id_id_pk": {
          "name": "holidays_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"holidays\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"holidays\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"holidays\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"holidays\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"holidays\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "holidays_org_not_empty": {
          "name": "holidays_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.incoming_call_settings": {
      "name": "incoming_call_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "incoming_call_settings_org_created_id_idx": {
          "name": "incoming_call_settings_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "incoming_call_settings_org_id_id_pk": {
          "name": "incoming_call_settings_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "incoming_call_settings_org_singleton": {
          "name": "incoming_call_settings_org_singleton",
          "nullsNotDistinct": false,
          "columns": [
            "org_id"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"incoming_call_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"incoming_call_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"incoming_call_settings\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"incoming_call_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"incoming_call_settings\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "incoming_call_settings_org_not_empty": {
          "name": "incoming_call_settings_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.intercompany_transactions": {
      "name": "intercompany_transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_company_id": {
          "name": "source_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "target_company_id": {
          "name": "target_company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "source_journal_entry_id": {
          "name": "source_journal_entry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "target_journal_entry_id": {
          "name": "target_journal_entry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "transaction_type": {
          "name": "transaction_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "fx_rate": {
          "name": "fx_rate",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "base_amount_minor": {
          "name": "base_amount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "ic_txn_org_id_idx": {
          "name": "ic_txn_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ic_txn_source_company_idx": {
          "name": "ic_txn_source_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ic_txn_target_company_idx": {
          "name": "ic_txn_target_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "target_company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ic_txn_source_je_idx": {
          "name": "ic_txn_source_je_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_journal_entry_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ic_txn_target_je_idx": {
          "name": "ic_txn_target_je_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "target_journal_entry_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"intercompany_transactions\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"intercompany_transactions\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"intercompany_transactions\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"intercompany_transactions\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"intercompany_transactions\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "ic_txn_org_not_empty": {
          "name": "ic_txn_org_not_empty",
          "value": "org_id <> ''"
        },
        "ic_txn_different_companies": {
          "name": "ic_txn_different_companies",
          "value": "source_company_id <> target_company_id"
        },
        "ic_txn_amount_positive": {
          "name": "ic_txn_amount_positive",
          "value": "amount_minor > 0"
        },
        "ic_txn_type_valid": {
          "name": "ic_txn_type_valid",
          "value": "transaction_type IN ('invoice', 'payment', 'transfer', 'allocation', 'elimination')"
        },
        "ic_txn_status_valid": {
          "name": "ic_txn_status_valid",
          "value": "status IN ('pending', 'matched', 'eliminated', 'cancelled')"
        }
      },
      "isRLSEnabled": false
    },
    "public.inventory_trace_links": {
      "name": "inventory_trace_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "from_movement_id": {
          "name": "from_movement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "to_movement_id": {
          "name": "to_movement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "qty": {
          "name": "qty",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "uom_id": {
          "name": "uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "lot_tracking_id": {
          "name": "lot_tracking_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "trace_type": {
          "name": "trace_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'transfer'"
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "inv_trace_org_id_idx": {
          "name": "inv_trace_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "inv_trace_from_idx": {
          "name": "inv_trace_from_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "from_movement_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "inv_trace_to_idx": {
          "name": "inv_trace_to_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "to_movement_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "inv_trace_lot_idx": {
          "name": "inv_trace_lot_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "lot_tracking_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"inventory_trace_links\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"inventory_trace_links\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"inventory_trace_links\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"inventory_trace_links\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"inventory_trace_links\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "inv_trace_org_not_empty": {
          "name": "inv_trace_org_not_empty",
          "value": "org_id <> ''"
        },
        "inv_trace_qty_positive": {
          "name": "inv_trace_qty_positive",
          "value": "qty > 0"
        },
        "inv_trace_type_valid": {
          "name": "inv_trace_type_valid",
          "value": "trace_type IN ('transfer', 'consumption', 'production', 'split', 'merge')"
        }
      },
      "isRLSEnabled": false
    },
    "public.item_groups": {
      "name": "item_groups",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "parent_group_id": {
          "name": "parent_group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        }
      },
      "indexes": {
        "item_groups_org_name_uniq": {
          "name": "item_groups_org_name_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "item_groups_org_parent_idx": {
          "name": "item_groups_org_parent_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "parent_group_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "item_groups_org_id_id_pk": {
          "name": "item_groups_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"item_groups\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"item_groups\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"item_groups\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"item_groups\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"item_groups\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "item_groups_org_not_empty": {
          "name": "item_groups_org_not_empty",
          "value": "org_id <> ''"
        },
        "item_groups_name_not_empty": {
          "name": "item_groups_name_not_empty",
          "value": "name <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.items": {
      "name": "items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "item_group_id": {
          "name": "item_group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "item_type": {
          "name": "item_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'product'"
        },
        "default_uom_id": {
          "name": "default_uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "inventory_uom_id": {
          "name": "inventory_uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "purchase_uom_id": {
          "name": "purchase_uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "sales_uom_id": {
          "name": "sales_uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_stock_item": {
          "name": "is_stock_item",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_purchase_item": {
          "name": "is_purchase_item",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_sales_item": {
          "name": "is_sales_item",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_fixed_asset": {
          "name": "is_fixed_asset",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "valuation_method": {
          "name": "valuation_method",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'weighted_average'"
        },
        "default_warehouse_id": {
          "name": "default_warehouse_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "has_batch_no": {
          "name": "has_batch_no",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "has_serial_no": {
          "name": "has_serial_no",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "shelf_life_days": {
          "name": "shelf_life_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "weight_per_unit": {
          "name": "weight_per_unit",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "weight_uom_id": {
          "name": "weight_uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "hsn_code": {
          "name": "hsn_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "barcode": {
          "name": "barcode",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "min_order_qty": {
          "name": "min_order_qty",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "reorder_level": {
          "name": "reorder_level",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "reorder_qty": {
          "name": "reorder_qty",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "lead_time_days": {
          "name": "lead_time_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "safety_stock": {
          "name": "safety_stock",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "default_expense_account_id": {
          "name": "default_expense_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "default_income_account_id": {
          "name": "default_income_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "default_cost_center_id": {
          "name": "default_cost_center_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "items_org_code_uniq": {
          "name": "items_org_code_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "items_org_group_idx": {
          "name": "items_org_group_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "item_group_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "items_org_type_idx": {
          "name": "items_org_type_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "item_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "items_org_stock_idx": {
          "name": "items_org_stock_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_stock_item",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "is_stock_item = true",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "items_org_id_id_pk": {
          "name": "items_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"items\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"items\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"items\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"items\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"items\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "items_org_not_empty": {
          "name": "items_org_not_empty",
          "value": "org_id <> ''"
        },
        "items_code_not_empty": {
          "name": "items_code_not_empty",
          "value": "code <> ''"
        },
        "items_type_valid": {
          "name": "items_type_valid",
          "value": "item_type IN ('product', 'service', 'consumable', 'raw_material')"
        },
        "items_valuation_valid": {
          "name": "items_valuation_valid",
          "value": "valuation_method IN ('fifo', 'weighted_average')"
        }
      },
      "isRLSEnabled": false
    },
    "public.journal_entries": {
      "name": "journal_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "doc_status": {
          "name": "doc_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amended_from_id": {
          "name": "amended_from_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "external_source": {
          "name": "external_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entry_no": {
          "name": "entry_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entry_type": {
          "name": "entry_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "posted_at": {
          "name": "posted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "fx_rate": {
          "name": "fx_rate",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_type": {
          "name": "source_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_id": {
          "name": "source_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reversal_of_id": {
          "name": "reversal_of_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        }
      },
      "indexes": {
        "journal_entries_org_id_idx": {
          "name": "journal_entries_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "journal_entries_org_company_idx": {
          "name": "journal_entries_org_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "journal_entries_org_posted_idx": {
          "name": "journal_entries_org_posted_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "journal_entries_source_idx": {
          "name": "journal_entries_source_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "journal_entries_company_fk": {
          "name": "journal_entries_company_fk",
          "tableFrom": "journal_entries",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "journal_entries_org_id_id_pk": {
          "name": "journal_entries_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"journal_entries\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"journal_entries\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"journal_entries\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"journal_entries\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"journal_entries\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "journal_entries_org_not_empty": {
          "name": "journal_entries_org_not_empty",
          "value": "org_id <> ''"
        },
        "journal_entries_entry_type_valid": {
          "name": "journal_entries_entry_type_valid",
          "value": "entry_type IN ('manual', 'auto')"
        }
      },
      "isRLSEnabled": false
    },
    "public.journal_lines": {
      "name": "journal_lines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "journal_entry_id": {
          "name": "journal_entry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "debit_amount": {
          "name": "debit_amount",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "credit_amount": {
          "name": "credit_amount",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "fx_rate": {
          "name": "fx_rate",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "base_debit_amount": {
          "name": "base_debit_amount",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "base_credit_amount": {
          "name": "base_credit_amount",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cost_center_id": {
          "name": "cost_center_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "journal_lines_org_id_idx": {
          "name": "journal_lines_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "journal_lines_org_entry_idx": {
          "name": "journal_lines_org_entry_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "journal_entry_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "journal_lines_account_idx": {
          "name": "journal_lines_account_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "account_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "journal_lines_company_idx": {
          "name": "journal_lines_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "journal_lines_company_fk": {
          "name": "journal_lines_company_fk",
          "tableFrom": "journal_lines",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "journal_lines_org_id_id_pk": {
          "name": "journal_lines_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"journal_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"journal_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"journal_lines\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"journal_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"journal_lines\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "journal_lines_org_not_empty": {
          "name": "journal_lines_org_not_empty",
          "value": "org_id <> ''"
        },
        "journal_lines_amount_valid": {
          "name": "journal_lines_amount_valid",
          "value": "debit_amount >= 0 AND credit_amount >= 0"
        },
        "journal_lines_one_side": {
          "name": "journal_lines_one_side",
          "value": "(debit_amount > 0 AND credit_amount = 0) OR (credit_amount > 0 AND debit_amount = 0) OR (debit_amount = 0 AND credit_amount = 0)"
        }
      },
      "isRLSEnabled": false
    },
    "public.landed_cost_allocations": {
      "name": "landed_cost_allocations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "landed_cost_doc_id": {
          "name": "landed_cost_doc_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "receipt_line_id": {
          "name": "receipt_line_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "allocation_method": {
          "name": "allocation_method",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'qty'"
        },
        "allocated_cost_minor": {
          "name": "allocated_cost_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "base_allocated_cost_minor": {
          "name": "base_allocated_cost_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "lc_alloc_org_id_idx": {
          "name": "lc_alloc_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lc_alloc_doc_idx": {
          "name": "lc_alloc_doc_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "landed_cost_doc_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lc_alloc_receipt_line_idx": {
          "name": "lc_alloc_receipt_line_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "receipt_line_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"landed_cost_allocations\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"landed_cost_allocations\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"landed_cost_allocations\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"landed_cost_allocations\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"landed_cost_allocations\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "lc_alloc_org_not_empty": {
          "name": "lc_alloc_org_not_empty",
          "value": "org_id <> ''"
        },
        "lc_alloc_method_valid": {
          "name": "lc_alloc_method_valid",
          "value": "allocation_method IN ('qty', 'value', 'weight', 'custom')"
        },
        "lc_alloc_cost_positive": {
          "name": "lc_alloc_cost_positive",
          "value": "allocated_cost_minor > 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.landed_cost_docs": {
      "name": "landed_cost_docs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "doc_status": {
          "name": "doc_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amended_from_id": {
          "name": "amended_from_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "external_source": {
          "name": "external_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "doc_no": {
          "name": "doc_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "receipt_id": {
          "name": "receipt_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_id": {
          "name": "vendor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "total_cost_minor": {
          "name": "total_cost_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "fx_rate": {
          "name": "fx_rate",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "base_total_cost_minor": {
          "name": "base_total_cost_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "lc_docs_org_id_idx": {
          "name": "lc_docs_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lc_docs_company_idx": {
          "name": "lc_docs_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lc_docs_receipt_idx": {
          "name": "lc_docs_receipt_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "receipt_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "landed_cost_docs_company_fk": {
          "name": "landed_cost_docs_company_fk",
          "tableFrom": "landed_cost_docs",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "landed_cost_docs_org_id_id_pk": {
          "name": "landed_cost_docs_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"landed_cost_docs\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"landed_cost_docs\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"landed_cost_docs\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"landed_cost_docs\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"landed_cost_docs\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "lc_docs_org_not_empty": {
          "name": "lc_docs_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.lot_tracking": {
      "name": "lot_tracking",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "item_id": {
          "name": "item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tracking_type": {
          "name": "tracking_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tracking_no": {
          "name": "tracking_no",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "production_date": {
          "name": "production_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "qty": {
          "name": "qty",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "uom_id": {
          "name": "uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "site_id": {
          "name": "site_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "warehouse_zone": {
          "name": "warehouse_zone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "supplier_id": {
          "name": "supplier_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "supplier_batch_no": {
          "name": "supplier_batch_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "lot_track_org_id_idx": {
          "name": "lot_track_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lot_track_item_idx": {
          "name": "lot_track_item_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lot_track_company_idx": {
          "name": "lot_track_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lot_track_expiry_idx": {
          "name": "lot_track_expiry_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "expiry_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "lot_track_org_product_no_uniq": {
          "name": "lot_track_org_product_no_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "tracking_no",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "lot_tracking_company_fk": {
          "name": "lot_tracking_company_fk",
          "tableFrom": "lot_tracking",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "lot_tracking_org_id_id_pk": {
          "name": "lot_tracking_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"lot_tracking\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"lot_tracking\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"lot_tracking\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"lot_tracking\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"lot_tracking\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "lot_track_org_not_empty": {
          "name": "lot_track_org_not_empty",
          "value": "org_id <> ''"
        },
        "lot_track_type_valid": {
          "name": "lot_track_type_valid",
          "value": "tracking_type IN ('lot', 'batch', 'serial')"
        },
        "lot_track_status_valid": {
          "name": "lot_track_status_valid",
          "value": "status IN ('active', 'consumed', 'expired', 'recalled', 'quarantined')"
        }
      },
      "isRLSEnabled": false
    },
    "public.manufacturing_settings": {
      "name": "manufacturing_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "allow_production_on_holidays": {
          "name": "allow_production_on_holidays",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_overlapping_work_orders": {
          "name": "allow_overlapping_work_orders",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "capacity_planning_for_work_order": {
          "name": "capacity_planning_for_work_order",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "default_wip_warehouse": {
          "name": "default_wip_warehouse",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_fg_warehouse": {
          "name": "default_fg_warehouse",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_scrap_warehouse": {
          "name": "default_scrap_warehouse",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "update_bom_cost_automatically": {
          "name": "update_bom_cost_automatically",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "make_serial_no_and_batch_from_work_order": {
          "name": "make_serial_no_and_batch_from_work_order",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "material_consumption": {
          "name": "material_consumption",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "material_transfer_for_manufacture": {
          "name": "material_transfer_for_manufacture",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "backflush_raw_materials_based_on": {
          "name": "backflush_raw_materials_based_on",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "over_production_allowance_percentage": {
          "name": "over_production_allowance_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "disable_capacity_planning": {
          "name": "disable_capacity_planning",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_multiple_work_orders": {
          "name": "allow_multiple_work_orders",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {
        "manufacturing_settings_org_created_id_idx": {
          "name": "manufacturing_settings_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "manufacturing_settings_org_id_id_pk": {
          "name": "manufacturing_settings_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "manufacturing_settings_org_singleton": {
          "name": "manufacturing_settings_org_singleton",
          "nullsNotDistinct": false,
          "columns": [
            "org_id"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"manufacturing_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"manufacturing_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"manufacturing_settings\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"manufacturing_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"manufacturing_settings\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "manufacturing_settings_org_not_empty": {
          "name": "manufacturing_settings_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.match_results": {
      "name": "match_results",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "po_line_id": {
          "name": "po_line_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "grn_line_id": {
          "name": "grn_line_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "invoice_line_id": {
          "name": "invoice_line_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "match_type": {
          "name": "match_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'three_way'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "qty_variance": {
          "name": "qty_variance",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "price_variance_minor": {
          "name": "price_variance_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "total_variance_minor": {
          "name": "total_variance_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "tolerance_rule_id": {
          "name": "tolerance_rule_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_note": {
          "name": "resolution_note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "match_results_org_id_idx": {
          "name": "match_results_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "match_results_company_idx": {
          "name": "match_results_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "match_results_po_idx": {
          "name": "match_results_po_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "po_line_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "match_results_grn_idx": {
          "name": "match_results_grn_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "grn_line_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "match_results_invoice_idx": {
          "name": "match_results_invoice_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "invoice_line_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "match_results_status_idx": {
          "name": "match_results_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "match_results_company_fk": {
          "name": "match_results_company_fk",
          "tableFrom": "match_results",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "match_results_org_id_id_pk": {
          "name": "match_results_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"match_results\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"match_results\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"match_results\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"match_results\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"match_results\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "match_results_org_not_empty": {
          "name": "match_results_org_not_empty",
          "value": "org_id <> ''"
        },
        "match_results_type_valid": {
          "name": "match_results_type_valid",
          "value": "match_type IN ('two_way', 'three_way')"
        },
        "match_results_status_valid": {
          "name": "match_results_status_valid",
          "value": "status IN ('pending', 'matched', 'exception', 'disputed', 'approved_override', 'cancelled')"
        }
      },
      "isRLSEnabled": false
    },
    "public.meta_alias_resolution_rules": {
      "name": "meta_alias_resolution_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "scope_type": {
          "name": "scope_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scope_key": {
          "name": "scope_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "alias_set_id": {
          "name": "alias_set_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "meta_alias_resolution_rules_org_id_idx": {
          "name": "meta_alias_resolution_rules_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "meta_alias_resolution_rules_scope_uniq": {
          "name": "meta_alias_resolution_rules_scope_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "scope_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "scope_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "meta_alias_resolution_rules_alias_set_id_meta_alias_sets_id_fk": {
          "name": "meta_alias_resolution_rules_alias_set_id_meta_alias_sets_id_fk",
          "tableFrom": "meta_alias_resolution_rules",
          "tableTo": "meta_alias_sets",
          "columnsFrom": [
            "alias_set_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "meta_alias_resolution_rules_org_id_id_pk": {
          "name": "meta_alias_resolution_rules_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_alias_resolution_rules\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"meta_alias_resolution_rules\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_alias_resolution_rules\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"meta_alias_resolution_rules\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_alias_resolution_rules\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "meta_alias_resolution_rules_org_not_empty": {
          "name": "meta_alias_resolution_rules_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.meta_alias_sets": {
      "name": "meta_alias_sets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "set_key": {
          "name": "set_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "locale": {
          "name": "locale",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_system": {
          "name": "is_system",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "meta_alias_sets_org_id_idx": {
          "name": "meta_alias_sets_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "meta_alias_sets_org_id_id_pk": {
          "name": "meta_alias_sets_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_alias_sets\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"meta_alias_sets\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_alias_sets\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"meta_alias_sets\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_alias_sets\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "meta_alias_sets_org_not_empty": {
          "name": "meta_alias_sets_org_not_empty",
          "value": "org_id <> ''"
        },
        "meta_alias_sets_set_key_snake": {
          "name": "meta_alias_sets_set_key_snake",
          "value": "set_key ~ '^[a-z][a-z0-9_]*$'"
        }
      },
      "isRLSEnabled": false
    },
    "public.meta_aliases": {
      "name": "meta_aliases",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "alias_set_id": {
          "name": "alias_set_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_key": {
          "name": "target_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "alias": {
          "name": "alias",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "alias_slug": {
          "name": "alias_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "synonyms": {
          "name": "synonyms",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::text[]"
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "effective_to": {
          "name": "effective_to",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "search_text": {
          "name": "search_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "meta_aliases_org_id_idx": {
          "name": "meta_aliases_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "meta_aliases_alias_set_id_meta_alias_sets_id_fk": {
          "name": "meta_aliases_alias_set_id_meta_alias_sets_id_fk",
          "tableFrom": "meta_aliases",
          "tableTo": "meta_alias_sets",
          "columnsFrom": [
            "alias_set_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "meta_aliases_org_id_id_pk": {
          "name": "meta_aliases_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_aliases\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"meta_aliases\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_aliases\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"meta_aliases\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_aliases\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "meta_aliases_org_not_empty": {
          "name": "meta_aliases_org_not_empty",
          "value": "org_id <> ''"
        },
        "meta_aliases_alias_not_empty": {
          "name": "meta_aliases_alias_not_empty",
          "value": "alias <> ''"
        },
        "meta_aliases_slug_kebab": {
          "name": "meta_aliases_slug_kebab",
          "value": "alias_slug IS NULL OR alias_slug ~ '^[a-z0-9][a-z0-9-]*$'"
        },
        "meta_aliases_target_key_asset_chk": {
          "name": "meta_aliases_target_key_asset_chk",
          "value": "target_type <> 'asset' OR target_key LIKE 'db.%'"
        },
        "meta_aliases_target_key_custom_field_chk": {
          "name": "meta_aliases_target_key_custom_field_chk",
          "value": "target_type <> 'custom_field' OR target_key LIKE '%.custom:%'"
        },
        "meta_aliases_target_key_metric_chk": {
          "name": "meta_aliases_target_key_metric_chk",
          "value": "target_type <> 'metric' OR target_key LIKE 'metric:%'"
        },
        "meta_aliases_target_key_view_field_chk": {
          "name": "meta_aliases_target_key_view_field_chk",
          "value": "target_type <> 'view_field' OR target_key LIKE 'view:%'"
        },
        "meta_aliases_target_key_enum_value_chk": {
          "name": "meta_aliases_target_key_enum_value_chk",
          "value": "target_type <> 'enum_value' OR target_key LIKE 'enum:%'"
        }
      },
      "isRLSEnabled": false
    },
    "public.meta_assets": {
      "name": "meta_assets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "asset_type": {
          "name": "asset_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "asset_key": {
          "name": "asset_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "canonical_name": {
          "name": "canonical_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_team": {
          "name": "owner_team",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "steward_user": {
          "name": "steward_user",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "classification": {
          "name": "classification",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quality_tier": {
          "name": "quality_tier",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::text[]"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "meta_assets_org_id_idx": {
          "name": "meta_assets_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "meta_assets_org_asset_key_uniq": {
          "name": "meta_assets_org_asset_key_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "asset_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "meta_assets_org_id_id_pk": {
          "name": "meta_assets_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_assets\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"meta_assets\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_assets\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"meta_assets\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_assets\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "meta_assets_org_not_empty": {
          "name": "meta_assets_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.meta_lineage_edges": {
      "name": "meta_lineage_edges",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "from_asset_id": {
          "name": "from_asset_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "to_asset_id": {
          "name": "to_asset_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "edge_type": {
          "name": "edge_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "meta_lineage_edges_org_id_idx": {
          "name": "meta_lineage_edges_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "meta_lineage_edges_uniq": {
          "name": "meta_lineage_edges_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "from_asset_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "to_asset_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "edge_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "meta_lineage_edges_from_asset_id_meta_assets_id_fk": {
          "name": "meta_lineage_edges_from_asset_id_meta_assets_id_fk",
          "tableFrom": "meta_lineage_edges",
          "tableTo": "meta_assets",
          "columnsFrom": [
            "from_asset_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "meta_lineage_edges_to_asset_id_meta_assets_id_fk": {
          "name": "meta_lineage_edges_to_asset_id_meta_assets_id_fk",
          "tableFrom": "meta_lineage_edges",
          "tableTo": "meta_assets",
          "columnsFrom": [
            "to_asset_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "meta_lineage_edges_org_id_id_pk": {
          "name": "meta_lineage_edges_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_lineage_edges\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"meta_lineage_edges\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_lineage_edges\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"meta_lineage_edges\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_lineage_edges\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "meta_lineage_edges_org_not_empty": {
          "name": "meta_lineage_edges_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.meta_quality_checks": {
      "name": "meta_quality_checks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "target_asset_id": {
          "name": "target_asset_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "rule_type": {
          "name": "rule_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "last_run_at": {
          "name": "last_run_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_run_status": {
          "name": "last_run_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_run_detail": {
          "name": "last_run_detail",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "meta_quality_checks_org_id_idx": {
          "name": "meta_quality_checks_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "meta_quality_checks_target_asset_id_meta_assets_id_fk": {
          "name": "meta_quality_checks_target_asset_id_meta_assets_id_fk",
          "tableFrom": "meta_quality_checks",
          "tableTo": "meta_assets",
          "columnsFrom": [
            "target_asset_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "meta_quality_checks_org_id_id_pk": {
          "name": "meta_quality_checks_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_quality_checks\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"meta_quality_checks\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_quality_checks\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"meta_quality_checks\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_quality_checks\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "meta_quality_checks_org_not_empty": {
          "name": "meta_quality_checks_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.meta_semantic_terms": {
      "name": "meta_semantic_terms",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "term_key": {
          "name": "term_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "definition": {
          "name": "definition",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "examples": {
          "name": "examples",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "classification": {
          "name": "classification",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "meta_semantic_terms_org_id_idx": {
          "name": "meta_semantic_terms_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "meta_semantic_terms_org_id_id_pk": {
          "name": "meta_semantic_terms_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_semantic_terms\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"meta_semantic_terms\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_semantic_terms\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"meta_semantic_terms\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_semantic_terms\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "meta_semantic_terms_org_not_empty": {
          "name": "meta_semantic_terms_org_not_empty",
          "value": "org_id <> ''"
        },
        "meta_semantic_terms_term_key_snake": {
          "name": "meta_semantic_terms_term_key_snake",
          "value": "term_key ~ '^[a-z][a-z0-9_]*$'"
        }
      },
      "isRLSEnabled": false
    },
    "public.meta_term_links": {
      "name": "meta_term_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "term_id": {
          "name": "term_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "target_key": {
          "name": "target_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "meta_term_links_org_id_idx": {
          "name": "meta_term_links_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "meta_term_links_uniq": {
          "name": "meta_term_links_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "term_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "target_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "meta_term_links_term_id_meta_semantic_terms_id_fk": {
          "name": "meta_term_links_term_id_meta_semantic_terms_id_fk",
          "tableFrom": "meta_term_links",
          "tableTo": "meta_semantic_terms",
          "columnsFrom": [
            "term_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "meta_term_links_org_id_id_pk": {
          "name": "meta_term_links_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_term_links\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"meta_term_links\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_term_links\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"meta_term_links\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_term_links\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "meta_term_links_org_not_empty": {
          "name": "meta_term_links_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.meta_value_aliases": {
      "name": "meta_value_aliases",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "alias_set_id": {
          "name": "alias_set_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "target_key": {
          "name": "target_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "alias": {
          "name": "alias",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "synonyms": {
          "name": "synonyms",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::text[]"
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "effective_to": {
          "name": "effective_to",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        }
      },
      "indexes": {
        "meta_value_aliases_org_id_idx": {
          "name": "meta_value_aliases_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "meta_value_aliases_alias_set_id_meta_alias_sets_id_fk": {
          "name": "meta_value_aliases_alias_set_id_meta_alias_sets_id_fk",
          "tableFrom": "meta_value_aliases",
          "tableTo": "meta_alias_sets",
          "columnsFrom": [
            "alias_set_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "meta_value_aliases_org_id_id_pk": {
          "name": "meta_value_aliases_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_value_aliases\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"meta_value_aliases\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_value_aliases\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"meta_value_aliases\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"meta_value_aliases\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "meta_value_aliases_org_not_empty": {
          "name": "meta_value_aliases_org_not_empty",
          "value": "org_id <> ''"
        },
        "meta_value_aliases_target_enum_chk": {
          "name": "meta_value_aliases_target_enum_chk",
          "value": "target_key LIKE 'enum:%'"
        },
        "meta_value_aliases_alias_not_empty": {
          "name": "meta_value_aliases_alias_not_empty",
          "value": "alias <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.migration_checkpoints": {
      "name": "migration_checkpoints",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "migration_job_id": {
          "name": "migration_job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cursor_json": {
          "name": "cursor_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "batch_index": {
          "name": "batch_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "loaded_up_to": {
          "name": "loaded_up_to",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "transform_version": {
          "name": "transform_version",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "plan_fingerprint": {
          "name": "plan_fingerprint",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "migration_checkpoints_job_idx": {
          "name": "migration_checkpoints_job_idx",
          "columns": [
            {
              "expression": "migration_job_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "migration_checkpoints_migration_job_id_migration_jobs_id_fk": {
          "name": "migration_checkpoints_migration_job_id_migration_jobs_id_fk",
          "tableFrom": "migration_checkpoints",
          "tableTo": "migration_jobs",
          "columnsFrom": [
            "migration_job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "migration_checkpoints_org_id_id_pk": {
          "name": "migration_checkpoints_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "migration_checkpoints_job_entity_uniq": {
          "name": "migration_checkpoints_job_entity_uniq",
          "nullsNotDistinct": false,
          "columns": [
            "migration_job_id",
            "entity_type"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"migration_checkpoints\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"migration_checkpoints\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"migration_checkpoints\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"migration_checkpoints\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"migration_checkpoints\".\"org_id\")"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.migration_conflict_resolutions": {
      "name": "migration_conflict_resolutions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "conflict_id": {
          "name": "conflict_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "migration_job_id": {
          "name": "migration_job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "decision": {
          "name": "decision",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "chosen_candidate_id": {
          "name": "chosen_candidate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "field_decisions": {
          "name": "field_decisions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "resolver": {
          "name": "resolver",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "auth.user_id()"
        }
      },
      "indexes": {
        "migration_conflict_resolutions_conflict_idx": {
          "name": "migration_conflict_resolutions_conflict_idx",
          "columns": [
            {
              "expression": "conflict_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "migration_conflict_resolutions_job_idx": {
          "name": "migration_conflict_resolutions_job_idx",
          "columns": [
            {
              "expression": "migration_job_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "decision",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "migration_conflict_resolutions_conflict_id_migration_conflicts_id_fk": {
          "name": "migration_conflict_resolutions_conflict_id_migration_conflicts_id_fk",
          "tableFrom": "migration_conflict_resolutions",
          "tableTo": "migration_conflicts",
          "columnsFrom": [
            "conflict_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "migration_conflict_resolutions_migration_job_id_migration_jobs_id_fk": {
          "name": "migration_conflict_resolutions_migration_job_id_migration_jobs_id_fk",
          "tableFrom": "migration_conflict_resolutions",
          "tableTo": "migration_jobs",
          "columnsFrom": [
            "migration_job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "migration_conflict_resolutions_org_id_id_pk": {
          "name": "migration_conflict_resolutions_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"migration_conflict_resolutions\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"migration_conflict_resolutions\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"migration_conflict_resolutions\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"migration_conflict_resolutions\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"migration_conflict_resolutions\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "migration_conflict_resolutions_decision_chk": {
          "name": "migration_conflict_resolutions_decision_chk",
          "value": "decision IN ('merged', 'created_new', 'skipped')"
        },
        "migration_conflict_resolutions_resolver_chk": {
          "name": "migration_conflict_resolutions_resolver_chk",
          "value": "resolver IN ('auto', 'manual')"
        },
        "migration_conflict_resolutions_org_not_empty": {
          "name": "migration_conflict_resolutions_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.migration_conflicts": {
      "name": "migration_conflicts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "migration_job_id": {
          "name": "migration_job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "legacy_record": {
          "name": "legacy_record",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_matches": {
          "name": "candidate_matches",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resolution": {
          "name": "resolution",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "migration_conflicts_job_idx": {
          "name": "migration_conflicts_job_idx",
          "columns": [
            {
              "expression": "migration_job_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "migration_conflicts_resolution_idx": {
          "name": "migration_conflicts_resolution_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "resolution",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "migration_conflicts_migration_job_id_migration_jobs_id_fk": {
          "name": "migration_conflicts_migration_job_id_migration_jobs_id_fk",
          "tableFrom": "migration_conflicts",
          "tableTo": "migration_jobs",
          "columnsFrom": [
            "migration_job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "migration_conflicts_org_id_id_pk": {
          "name": "migration_conflicts_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"migration_conflicts\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"migration_conflicts\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"migration_conflicts\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"migration_conflicts\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"migration_conflicts\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "migration_conflicts_confidence_chk": {
          "name": "migration_conflicts_confidence_chk",
          "value": "confidence IN ('high', 'medium', 'low')"
        },
        "migration_conflicts_resolution_chk": {
          "name": "migration_conflicts_resolution_chk",
          "value": "resolution IN ('pending', 'merged', 'created_new', 'skipped', 'manual_review')"
        },
        "migration_conflicts_org_not_empty": {
          "name": "migration_conflicts_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.migration_jobs": {
      "name": "migration_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_config": {
          "name": "source_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "field_mappings": {
          "name": "field_mappings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "merge_policies": {
          "name": "merge_policies",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "conflict_strategy": {
          "name": "conflict_strategy",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "checkpoint_cursor": {
          "name": "checkpoint_cursor",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "records_success": {
          "name": "records_success",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "records_failed": {
          "name": "records_failed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_runtime_ms": {
          "name": "max_runtime_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "rate_limit": {
          "name": "rate_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "preflight_checks": {
          "name": "preflight_checks",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "postflight_checks": {
          "name": "postflight_checks",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "auth.user_id()"
        }
      },
      "indexes": {
        "migration_jobs_org_status_idx": {
          "name": "migration_jobs_org_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "migration_jobs_entity_type_idx": {
          "name": "migration_jobs_entity_type_idx",
          "columns": [
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "migration_jobs_org_id_id_pk": {
          "name": "migration_jobs_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"migration_jobs\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"migration_jobs\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"migration_jobs\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"migration_jobs\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"migration_jobs\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "migration_jobs_status_chk": {
          "name": "migration_jobs_status_chk",
          "value": "status IN ('pending', 'preflight', 'ready', 'blocked', 'running', 'paused', 'cancelling', 'cancelled', 'completed', 'failed', 'rolled_back')"
        },
        "migration_jobs_conflict_strategy_chk": {
          "name": "migration_jobs_conflict_strategy_chk",
          "value": "conflict_strategy IN ('skip', 'overwrite', 'merge', 'manual')"
        },
        "migration_jobs_org_not_empty": {
          "name": "migration_jobs_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.migration_lineage": {
      "name": "migration_lineage",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "migration_job_id": {
          "name": "migration_job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "legacy_id": {
          "name": "legacy_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "legacy_system": {
          "name": "legacy_system",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "afena_id": {
          "name": "afena_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'committed'"
        },
        "reserved_at": {
          "name": "reserved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reserved_by": {
          "name": "reserved_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "committed_at": {
          "name": "committed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "migrated_at": {
          "name": "migrated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "dedupe_key": {
          "name": "dedupe_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "migration_lineage_job_idx": {
          "name": "migration_lineage_job_idx",
          "columns": [
            {
              "expression": "migration_job_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "migration_lineage_reservations_idx": {
          "name": "migration_lineage_reservations_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "legacy_system",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "reserved_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "state = 'reserved'",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "migration_lineage_legacy_lookup_idx": {
          "name": "migration_lineage_legacy_lookup_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "afena_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "state = 'committed'",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "migration_lineage_dedupe_key_idx": {
          "name": "migration_lineage_dedupe_key_idx",
          "columns": [
            {
              "expression": "dedupe_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "state = 'committed' AND dedupe_key IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "migration_lineage_migration_job_id_migration_jobs_id_fk": {
          "name": "migration_lineage_migration_job_id_migration_jobs_id_fk",
          "tableFrom": "migration_lineage",
          "tableTo": "migration_jobs",
          "columnsFrom": [
            "migration_job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "migration_lineage_org_id_id_pk": {
          "name": "migration_lineage_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "migration_lineage_org_entity_legacy_uniq": {
          "name": "migration_lineage_org_entity_legacy_uniq",
          "nullsNotDistinct": false,
          "columns": [
            "org_id",
            "entity_type",
            "legacy_system",
            "legacy_id"
          ]
        },
        "migration_lineage_org_entity_afena_uniq": {
          "name": "migration_lineage_org_entity_afena_uniq",
          "nullsNotDistinct": false,
          "columns": [
            "org_id",
            "entity_type",
            "afena_id"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"migration_lineage\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"migration_lineage\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"migration_lineage\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"migration_lineage\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"migration_lineage\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "migration_lineage_state_chk": {
          "name": "migration_lineage_state_chk",
          "value": "state IN ('reserved', 'committed')"
        },
        "migration_lineage_reserved_requires_reserved_at": {
          "name": "migration_lineage_reserved_requires_reserved_at",
          "value": "state <> 'reserved' OR reserved_at IS NOT NULL"
        },
        "migration_lineage_committed_requires_afena_id": {
          "name": "migration_lineage_committed_requires_afena_id",
          "value": "state <> 'committed' OR afena_id IS NOT NULL"
        },
        "migration_lineage_org_not_empty": {
          "name": "migration_lineage_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.migration_merge_explanations": {
      "name": "migration_merge_explanations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "migration_job_id": {
          "name": "migration_job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "legacy_id": {
          "name": "legacy_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_id": {
          "name": "target_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "decision": {
          "name": "decision",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "score_total": {
          "name": "score_total",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "reasons": {
          "name": "reasons",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "migration_merge_explanations_job_idx": {
          "name": "migration_merge_explanations_job_idx",
          "columns": [
            {
              "expression": "migration_job_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "migration_merge_explanations_decision_idx": {
          "name": "migration_merge_explanations_decision_idx",
          "columns": [
            {
              "expression": "migration_job_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "decision",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "migration_merge_explanations_migration_job_id_migration_jobs_id_fk": {
          "name": "migration_merge_explanations_migration_job_id_migration_jobs_id_fk",
          "tableFrom": "migration_merge_explanations",
          "tableTo": "migration_jobs",
          "columnsFrom": [
            "migration_job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "migration_merge_explanations_org_id_id_pk": {
          "name": "migration_merge_explanations_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"migration_merge_explanations\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"migration_merge_explanations\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"migration_merge_explanations\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"migration_merge_explanations\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"migration_merge_explanations\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "migration_merge_explanations_decision_chk": {
          "name": "migration_merge_explanations_decision_chk",
          "value": "decision IN ('merged', 'manual_review', 'created_new')"
        }
      },
      "isRLSEnabled": false
    },
    "public.migration_quarantine": {
      "name": "migration_quarantine",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "attempt_id": {
          "name": "attempt_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "migration_job_id": {
          "name": "migration_job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "legacy_id": {
          "name": "legacy_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "legacy_system": {
          "name": "legacy_system",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "record_data": {
          "name": "record_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "transform_version": {
          "name": "transform_version",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "failure_stage": {
          "name": "failure_stage",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "error_class": {
          "name": "error_class",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "error_code": {
          "name": "error_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_error_hash": {
          "name": "last_error_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "replay_after": {
          "name": "replay_after",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'quarantined'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "migration_quarantine_job_idx": {
          "name": "migration_quarantine_job_idx",
          "columns": [
            {
              "expression": "migration_job_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "migration_quarantine_status_idx": {
          "name": "migration_quarantine_status_idx",
          "columns": [
            {
              "expression": "migration_job_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "migration_quarantine_dedupe": {
          "name": "migration_quarantine_dedupe",
          "columns": [
            {
              "expression": "migration_job_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "legacy_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "last_error_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "status IN ('quarantined', 'retrying')",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "migration_quarantine_migration_job_id_migration_jobs_id_fk": {
          "name": "migration_quarantine_migration_job_id_migration_jobs_id_fk",
          "tableFrom": "migration_quarantine",
          "tableTo": "migration_jobs",
          "columnsFrom": [
            "migration_job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "migration_quarantine_org_id_id_pk": {
          "name": "migration_quarantine_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"migration_quarantine\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"migration_quarantine\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"migration_quarantine\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"migration_quarantine\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"migration_quarantine\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "migration_quarantine_status_chk": {
          "name": "migration_quarantine_status_chk",
          "value": "status IN ('quarantined', 'retrying', 'resolved', 'abandoned')"
        },
        "migration_quarantine_stage_chk": {
          "name": "migration_quarantine_stage_chk",
          "value": "failure_stage IN ('extract', 'transform', 'detect', 'reserve', 'load', 'snapshot')"
        },
        "migration_quarantine_class_chk": {
          "name": "migration_quarantine_class_chk",
          "value": "error_class IN ('transient', 'permanent')"
        }
      },
      "isRLSEnabled": false
    },
    "public.migration_reports": {
      "name": "migration_reports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "report_data": {
          "name": "report_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "report_hash": {
          "name": "report_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "migration_reports_job_idx": {
          "name": "migration_reports_job_idx",
          "columns": [
            {
              "expression": "job_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "migration_reports_hash_idx": {
          "name": "migration_reports_hash_idx",
          "columns": [
            {
              "expression": "report_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "migration_reports_job_id_migration_jobs_id_fk": {
          "name": "migration_reports_job_id_migration_jobs_id_fk",
          "tableFrom": "migration_reports",
          "tableTo": "migration_jobs",
          "columnsFrom": [
            "job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select EXISTS (SELECT 1 FROM migration_jobs WHERE migration_jobs.id = \"migration_reports\".\"job_id\" AND migration_jobs.org_id = auth.org_id()))"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select EXISTS (SELECT 1 FROM migration_jobs WHERE migration_jobs.id = \"migration_reports\".\"job_id\" AND migration_jobs.org_id = auth.org_id()))"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select EXISTS (SELECT 1 FROM migration_jobs WHERE migration_jobs.id = \"migration_reports\".\"job_id\" AND migration_jobs.org_id = auth.org_id()))",
          "withCheck": "(select EXISTS (SELECT 1 FROM migration_jobs WHERE migration_jobs.id = \"migration_reports\".\"job_id\" AND migration_jobs.org_id = auth.org_id()))"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select EXISTS (SELECT 1 FROM migration_jobs WHERE migration_jobs.id = \"migration_reports\".\"job_id\" AND migration_jobs.org_id = auth.org_id()))"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.migration_row_snapshots": {
      "name": "migration_row_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "migration_job_id": {
          "name": "migration_job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "before_write_core": {
          "name": "before_write_core",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "before_write_custom": {
          "name": "before_write_custom",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "before_version": {
          "name": "before_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "captured_at": {
          "name": "captured_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "migration_row_snapshots_job_idx": {
          "name": "migration_row_snapshots_job_idx",
          "columns": [
            {
              "expression": "migration_job_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "migration_row_snapshots_migration_job_id_migration_jobs_id_fk": {
          "name": "migration_row_snapshots_migration_job_id_migration_jobs_id_fk",
          "tableFrom": "migration_row_snapshots",
          "tableTo": "migration_jobs",
          "columnsFrom": [
            "migration_job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "migration_row_snapshots_org_id_id_pk": {
          "name": "migration_row_snapshots_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "migration_row_snapshots_job_entity_uniq": {
          "name": "migration_row_snapshots_job_entity_uniq",
          "nullsNotDistinct": false,
          "columns": [
            "migration_job_id",
            "entity_type",
            "entity_id"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"migration_row_snapshots\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"migration_row_snapshots\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"migration_row_snapshots\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"migration_row_snapshots\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"migration_row_snapshots\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "migration_row_snapshots_org_not_empty": {
          "name": "migration_row_snapshots_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.mutation_batches": {
      "name": "mutation_batches",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "action_type": {
          "name": "action_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "total_count": {
          "name": "total_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "success_count": {
          "name": "success_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "failure_count": {
          "name": "failure_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "summary": {
          "name": "summary",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "request_id": {
          "name": "request_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "mutation_batches_org_id_id_pk": {
          "name": "mutation_batches_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"mutation_batches\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"mutation_batches\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"mutation_batches\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"mutation_batches\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"mutation_batches\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "mutation_batches_org_not_empty": {
          "name": "mutation_batches_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.number_sequences": {
      "name": "number_sequences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "prefix": {
          "name": "prefix",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "suffix": {
          "name": "suffix",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "next_value": {
          "name": "next_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "pad_length": {
          "name": "pad_length",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "fiscal_year": {
          "name": "fiscal_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "number_sequences_org_id_idx": {
          "name": "number_sequences_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "number_sequences_org_company_idx": {
          "name": "number_sequences_org_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "number_sequences_org_company_entity_fy_uniq": {
          "name": "number_sequences_org_company_entity_fy_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "fiscal_year",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "number_sequences_company_fk": {
          "name": "number_sequences_company_fk",
          "tableFrom": "number_sequences",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "number_sequences_org_id_id_pk": {
          "name": "number_sequences_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"number_sequences\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"number_sequences\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"number_sequences\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"number_sequences\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"number_sequences\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "number_sequences_org_not_empty": {
          "name": "number_sequences_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.org_usage_daily": {
      "name": "org_usage_daily",
      "schema": "",
      "columns": {
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "day": {
          "name": "day",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "api_requests": {
          "name": "api_requests",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "job_runs": {
          "name": "job_runs",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "job_ms": {
          "name": "job_ms",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "db_timeouts": {
          "name": "db_timeouts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "storage_bytes": {
          "name": "storage_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "org_usage_daily_org_id_day_pk": {
          "name": "org_usage_daily_org_id_day_pk",
          "columns": [
            "org_id",
            "day"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"org_usage_daily\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"org_usage_daily\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"org_usage_daily\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"org_usage_daily\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"org_usage_daily\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "org_usage_org_not_empty": {
          "name": "org_usage_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.payment_allocations": {
      "name": "payment_allocations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "payment_id": {
          "name": "payment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_id": {
          "name": "target_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "allocation_type": {
          "name": "allocation_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'payment'"
        },
        "allocated_amount": {
          "name": "allocated_amount",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "fx_rate": {
          "name": "fx_rate",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "base_allocated_amount": {
          "name": "base_allocated_amount",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "allocation_date": {
          "name": "allocation_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "journal_entry_id": {
          "name": "journal_entry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "payment_alloc_org_id_idx": {
          "name": "payment_alloc_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_alloc_payment_idx": {
          "name": "payment_alloc_payment_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "payment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_alloc_target_idx": {
          "name": "payment_alloc_target_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "target_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "target_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_alloc_company_idx": {
          "name": "payment_alloc_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_alloc_payment_target_uniq": {
          "name": "payment_alloc_payment_target_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "payment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "target_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "payment_allocations_company_fk": {
          "name": "payment_allocations_company_fk",
          "tableFrom": "payment_allocations",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "payment_allocations_org_id_id_pk": {
          "name": "payment_allocations_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"payment_allocations\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"payment_allocations\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"payment_allocations\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"payment_allocations\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"payment_allocations\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "payment_alloc_org_not_empty": {
          "name": "payment_alloc_org_not_empty",
          "value": "org_id <> ''"
        },
        "payment_alloc_amount_positive": {
          "name": "payment_alloc_amount_positive",
          "value": "allocated_amount > 0"
        },
        "payment_alloc_type_valid": {
          "name": "payment_alloc_type_valid",
          "value": "allocation_type IN ('payment', 'credit_note', 'write_off', 'refund')"
        },
        "payment_alloc_target_type_valid": {
          "name": "payment_alloc_target_type_valid",
          "value": "target_type IN ('invoice', 'credit_note', 'debit_note')"
        }
      },
      "isRLSEnabled": false
    },
    "public.payment_terms": {
      "name": "payment_terms",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "net_days": {
          "name": "net_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 30
        },
        "discount_percent": {
          "name": "discount_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "discount_days": {
          "name": "discount_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "payment_terms_org_id_idx": {
          "name": "payment_terms_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_terms_org_code_uniq": {
          "name": "payment_terms_org_code_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"payment_terms\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"payment_terms\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"payment_terms\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"payment_terms\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"payment_terms\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "payment_terms_org_not_empty": {
          "name": "payment_terms_org_not_empty",
          "value": "org_id <> ''"
        },
        "payment_terms_net_days_non_negative": {
          "name": "payment_terms_net_days_non_negative",
          "value": "net_days >= 0"
        },
        "payment_terms_discount_days_valid": {
          "name": "payment_terms_discount_days_valid",
          "value": "discount_days IS NULL OR (discount_days >= 0 AND discount_days <= net_days)"
        },
        "payment_terms_discount_percent_valid": {
          "name": "payment_terms_discount_percent_valid",
          "value": "discount_percent IS NULL OR (discount_percent >= 0 AND discount_percent <= 100)"
        }
      },
      "isRLSEnabled": false
    },
    "public.payments": {
      "name": "payments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "doc_status": {
          "name": "doc_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amended_from_id": {
          "name": "amended_from_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "external_source": {
          "name": "external_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "posting_status": {
          "name": "posting_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'unposted'"
        },
        "posting_date": {
          "name": "posting_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "posted_at": {
          "name": "posted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "posted_by": {
          "name": "posted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "posting_batch_id": {
          "name": "posting_batch_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "doc_no": {
          "name": "doc_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_type": {
          "name": "payment_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "party_type": {
          "name": "party_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "party_id": {
          "name": "party_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "bank_account_id": {
          "name": "bank_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reference_no": {
          "name": "reference_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reference_date": {
          "name": "reference_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "pay_org_doc_no_uniq": {
          "name": "pay_org_doc_no_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "doc_no",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pay_org_party_posting_idx": {
          "name": "pay_org_party_posting_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "party_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "party_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pay_org_posting_date_idx": {
          "name": "pay_org_posting_date_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pay_org_posting_status_idx": {
          "name": "pay_org_posting_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "payments_company_fk": {
          "name": "payments_company_fk",
          "tableFrom": "payments",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "payments_org_id_id_pk": {
          "name": "payments_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"payments\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"payments\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"payments\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"payments\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"payments\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "pay_org_not_empty": {
          "name": "pay_org_not_empty",
          "value": "org_id <> ''"
        },
        "pay_company_required": {
          "name": "pay_company_required",
          "value": "company_id IS NOT NULL"
        },
        "pay_amount_positive": {
          "name": "pay_amount_positive",
          "value": "amount_minor > 0"
        },
        "pay_payment_type_valid": {
          "name": "pay_payment_type_valid",
          "value": "payment_type IN ('receive', 'pay', 'internal')"
        },
        "pay_party_type_valid": {
          "name": "pay_party_type_valid",
          "value": "party_type IN ('customer', 'supplier')"
        },
        "pay_posting_status_valid": {
          "name": "pay_posting_status_valid",
          "value": "posting_status IN ('unposted', 'posting', 'posted', 'failed', 'reversing', 'reversed')"
        }
      },
      "isRLSEnabled": false
    },
    "public.price_list_items": {
      "name": "price_list_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "price_list_id": {
          "name": "price_list_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "product_group_code": {
          "name": "product_group_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "price_minor": {
          "name": "price_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "min_qty": {
          "name": "min_qty",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "discount_percent": {
          "name": "discount_percent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "pli_org_id_idx": {
          "name": "pli_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pli_price_list_idx": {
          "name": "pli_price_list_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "price_list_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pli_product_idx": {
          "name": "pli_product_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "price_list_items_org_id_id_pk": {
          "name": "price_list_items_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"price_list_items\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"price_list_items\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"price_list_items\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"price_list_items\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"price_list_items\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "pli_org_not_empty": {
          "name": "pli_org_not_empty",
          "value": "org_id <> ''"
        },
        "pli_price_non_negative": {
          "name": "pli_price_non_negative",
          "value": "price_minor >= 0"
        },
        "pli_min_qty_positive": {
          "name": "pli_min_qty_positive",
          "value": "min_qty > 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.price_lists": {
      "name": "price_lists",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "effective_from": {
          "name": "effective_from",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "effective_to": {
          "name": "effective_to",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "price_lists_org_id_idx": {
          "name": "price_lists_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "price_lists_org_code_uniq": {
          "name": "price_lists_org_code_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "price_lists_company_fk": {
          "name": "price_lists_company_fk",
          "tableFrom": "price_lists",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "price_lists_org_id_id_pk": {
          "name": "price_lists_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"price_lists\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"price_lists\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"price_lists\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"price_lists\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"price_lists\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "price_lists_org_not_empty": {
          "name": "price_lists_org_not_empty",
          "value": "org_id <> ''"
        },
        "price_lists_date_order": {
          "name": "price_lists_date_order",
          "value": "effective_to IS NULL OR effective_from IS NULL OR effective_from <= effective_to"
        }
      },
      "isRLSEnabled": false
    },
    "public.projects": {
      "name": "projects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "manager_id": {
          "name": "manager_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "projects_org_id_idx": {
          "name": "projects_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "projects_org_company_idx": {
          "name": "projects_org_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "projects_org_company_code_uniq": {
          "name": "projects_org_company_code_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "projects_company_fk": {
          "name": "projects_company_fk",
          "tableFrom": "projects",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "projects_org_id_id_pk": {
          "name": "projects_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"projects\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"projects\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"projects\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"projects\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"projects\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "projects_org_not_empty": {
          "name": "projects_org_not_empty",
          "value": "org_id <> ''"
        },
        "projects_status_valid": {
          "name": "projects_status_valid",
          "value": "status IN ('active', 'completed', 'archived')"
        },
        "projects_date_order": {
          "name": "projects_date_order",
          "value": "end_date IS NULL OR start_date IS NULL OR start_date <= end_date"
        }
      },
      "isRLSEnabled": false
    },
    "public.purchase_invoice_lines": {
      "name": "purchase_invoice_lines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "purchase_invoice_id": {
          "name": "purchase_invoice_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "line_no": {
          "name": "line_no",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "item_id": {
          "name": "item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "item_code": {
          "name": "item_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "item_name": {
          "name": "item_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "qty": {
          "name": "qty",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'1'"
        },
        "uom_id": {
          "name": "uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rate_minor": {
          "name": "rate_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discount_minor": {
          "name": "discount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_minor": {
          "name": "tax_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "net_minor": {
          "name": "net_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_rate_id": {
          "name": "tax_rate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "coa_expense_id": {
          "name": "coa_expense_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "cost_center_id": {
          "name": "cost_center_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "warehouse_id": {
          "name": "warehouse_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "posting_date": {
          "name": "posting_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "source_doc_type": {
          "name": "source_doc_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_line_id": {
          "name": "source_line_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "pil_org_invoice_line_uniq": {
          "name": "pil_org_invoice_line_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "purchase_invoice_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "line_no",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pil_org_invoice_idx": {
          "name": "pil_org_invoice_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "purchase_invoice_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pil_org_item_idx": {
          "name": "pil_org_item_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pil_org_item_posting_idx": {
          "name": "pil_org_item_posting_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "purchase_invoice_lines_org_id_id_pk": {
          "name": "purchase_invoice_lines_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"purchase_invoice_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"purchase_invoice_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"purchase_invoice_lines\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"purchase_invoice_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"purchase_invoice_lines\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "pil_org_not_empty": {
          "name": "pil_org_not_empty",
          "value": "org_id <> ''"
        },
        "pil_net_check": {
          "name": "pil_net_check",
          "value": "net_minor = amount_minor - discount_minor + tax_minor"
        },
        "pil_amount_non_negative": {
          "name": "pil_amount_non_negative",
          "value": "amount_minor >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.purchase_invoices": {
      "name": "purchase_invoices",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "doc_status": {
          "name": "doc_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amended_from_id": {
          "name": "amended_from_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "external_source": {
          "name": "external_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "posting_status": {
          "name": "posting_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'unposted'"
        },
        "posting_date": {
          "name": "posting_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "posted_at": {
          "name": "posted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "posted_by": {
          "name": "posted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "posting_batch_id": {
          "name": "posting_batch_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "doc_no": {
          "name": "doc_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "supplier_id": {
          "name": "supplier_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "exchange_rate": {
          "name": "exchange_rate",
          "type": "numeric(12, 6)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1'"
        },
        "total_minor": {
          "name": "total_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discount_minor": {
          "name": "discount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_minor": {
          "name": "tax_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "grand_total_minor": {
          "name": "grand_total_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "paid_minor": {
          "name": "paid_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "outstanding_minor": {
          "name": "outstanding_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "coa_payable_id": {
          "name": "coa_payable_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_tax_included": {
          "name": "is_tax_included",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "billing_address_id": {
          "name": "billing_address_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "payment_terms": {
          "name": "payment_terms",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "pi_org_doc_no_uniq": {
          "name": "pi_org_doc_no_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "doc_no",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pi_org_supplier_posting_idx": {
          "name": "pi_org_supplier_posting_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "supplier_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pi_org_posting_date_idx": {
          "name": "pi_org_posting_date_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pi_org_due_date_idx": {
          "name": "pi_org_due_date_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "due_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pi_org_doc_status_idx": {
          "name": "pi_org_doc_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "doc_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pi_org_posting_status_idx": {
          "name": "pi_org_posting_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pi_org_outstanding_idx": {
          "name": "pi_org_outstanding_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "outstanding_minor",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "outstanding_minor > 0",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pi_org_due_outstanding_idx": {
          "name": "pi_org_due_outstanding_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "due_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "outstanding_minor",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "outstanding_minor > 0",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pi_org_supplier_due_stmt_idx": {
          "name": "pi_org_supplier_due_stmt_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "supplier_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "due_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "outstanding_minor > 0",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "purchase_invoices_company_fk": {
          "name": "purchase_invoices_company_fk",
          "tableFrom": "purchase_invoices",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "purchase_invoices_org_id_id_pk": {
          "name": "purchase_invoices_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"purchase_invoices\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"purchase_invoices\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"purchase_invoices\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"purchase_invoices\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"purchase_invoices\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "pi_org_not_empty": {
          "name": "pi_org_not_empty",
          "value": "org_id <> ''"
        },
        "pi_company_required": {
          "name": "pi_company_required",
          "value": "company_id IS NOT NULL"
        },
        "pi_total_non_negative": {
          "name": "pi_total_non_negative",
          "value": "total_minor >= 0"
        },
        "pi_tax_non_negative": {
          "name": "pi_tax_non_negative",
          "value": "tax_minor >= 0"
        },
        "pi_grand_total_non_negative": {
          "name": "pi_grand_total_non_negative",
          "value": "grand_total_minor >= 0"
        },
        "pi_paid_non_negative": {
          "name": "pi_paid_non_negative",
          "value": "paid_minor >= 0"
        },
        "pi_outstanding_non_negative": {
          "name": "pi_outstanding_non_negative",
          "value": "outstanding_minor >= 0"
        },
        "pi_posting_status_valid": {
          "name": "pi_posting_status_valid",
          "value": "posting_status IN ('unposted', 'posting', 'posted', 'failed', 'reversing', 'reversed')"
        }
      },
      "isRLSEnabled": false
    },
    "public.purchase_order_lines": {
      "name": "purchase_order_lines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "purchase_order_id": {
          "name": "purchase_order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "line_no": {
          "name": "line_no",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "item_id": {
          "name": "item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "item_code": {
          "name": "item_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "item_name": {
          "name": "item_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "qty": {
          "name": "qty",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'1'"
        },
        "uom_id": {
          "name": "uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rate_minor": {
          "name": "rate_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discount_minor": {
          "name": "discount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_minor": {
          "name": "tax_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "net_minor": {
          "name": "net_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_rate_id": {
          "name": "tax_rate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "cost_center_id": {
          "name": "cost_center_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "warehouse_id": {
          "name": "warehouse_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "received_qty": {
          "name": "received_qty",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "billed_qty": {
          "name": "billed_qty",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "posting_date": {
          "name": "posting_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "source_doc_type": {
          "name": "source_doc_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_line_id": {
          "name": "source_line_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "pol_org_order_line_uniq": {
          "name": "pol_org_order_line_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "purchase_order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "line_no",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pol_org_order_idx": {
          "name": "pol_org_order_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "purchase_order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pol_org_item_idx": {
          "name": "pol_org_item_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pol_org_item_posting_idx": {
          "name": "pol_org_item_posting_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "purchase_order_lines_org_id_id_pk": {
          "name": "purchase_order_lines_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"purchase_order_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"purchase_order_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"purchase_order_lines\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"purchase_order_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"purchase_order_lines\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "pol_org_not_empty": {
          "name": "pol_org_not_empty",
          "value": "org_id <> ''"
        },
        "pol_net_check": {
          "name": "pol_net_check",
          "value": "net_minor = amount_minor - discount_minor + tax_minor"
        },
        "pol_amount_non_negative": {
          "name": "pol_amount_non_negative",
          "value": "amount_minor >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.purchase_orders": {
      "name": "purchase_orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "doc_status": {
          "name": "doc_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amended_from_id": {
          "name": "amended_from_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "external_source": {
          "name": "external_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "posting_status": {
          "name": "posting_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'unposted'"
        },
        "posting_date": {
          "name": "posting_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "posted_at": {
          "name": "posted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "posted_by": {
          "name": "posted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "posting_batch_id": {
          "name": "posting_batch_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "doc_no": {
          "name": "doc_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "supplier_id": {
          "name": "supplier_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "exchange_rate": {
          "name": "exchange_rate",
          "type": "numeric(12, 6)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1'"
        },
        "expected_date": {
          "name": "expected_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "payment_terms": {
          "name": "payment_terms",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_minor": {
          "name": "total_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discount_minor": {
          "name": "discount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_minor": {
          "name": "tax_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "grand_total_minor": {
          "name": "grand_total_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "billing_address_id": {
          "name": "billing_address_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "shipping_address_id": {
          "name": "shipping_address_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "po_org_doc_no_uniq": {
          "name": "po_org_doc_no_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "doc_no",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "po_org_supplier_created_idx": {
          "name": "po_org_supplier_created_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "supplier_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "po_org_doc_status_idx": {
          "name": "po_org_doc_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "doc_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "po_org_posting_status_idx": {
          "name": "po_org_posting_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "purchase_orders_company_fk": {
          "name": "purchase_orders_company_fk",
          "tableFrom": "purchase_orders",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "purchase_orders_org_id_id_pk": {
          "name": "purchase_orders_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"purchase_orders\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"purchase_orders\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"purchase_orders\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"purchase_orders\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"purchase_orders\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "po_org_not_empty": {
          "name": "po_org_not_empty",
          "value": "org_id <> ''"
        },
        "po_company_required": {
          "name": "po_company_required",
          "value": "company_id IS NOT NULL"
        },
        "po_total_non_negative": {
          "name": "po_total_non_negative",
          "value": "total_minor >= 0"
        },
        "po_tax_non_negative": {
          "name": "po_tax_non_negative",
          "value": "tax_minor >= 0"
        },
        "po_grand_total_non_negative": {
          "name": "po_grand_total_non_negative",
          "value": "grand_total_minor >= 0"
        },
        "po_posting_status_valid": {
          "name": "po_posting_status_valid",
          "value": "posting_status IN ('unposted', 'posting', 'posted', 'failed', 'reversing', 'reversed')"
        }
      },
      "isRLSEnabled": false
    },
    "public.purchase_requests": {
      "name": "purchase_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "doc_status": {
          "name": "doc_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amended_from_id": {
          "name": "amended_from_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "external_source": {
          "name": "external_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_no": {
          "name": "request_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requested_by": {
          "name": "requested_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "department_id": {
          "name": "department_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'normal'"
        },
        "required_by_date": {
          "name": "required_by_date",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "total_minor": {
          "name": "total_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "approved_by": {
          "name": "approved_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "converted_to_purchase_order_id": {
          "name": "converted_to_purchase_order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "pr_org_id_idx": {
          "name": "pr_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pr_org_company_idx": {
          "name": "pr_org_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pr_requested_by_idx": {
          "name": "pr_requested_by_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "requested_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pr_status_idx": {
          "name": "pr_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "doc_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pr_org_request_no_uniq": {
          "name": "pr_org_request_no_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "request_no",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "request_no IS NOT NULL",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "purchase_requests_company_fk": {
          "name": "purchase_requests_company_fk",
          "tableFrom": "purchase_requests",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "purchase_requests_org_id_id_pk": {
          "name": "purchase_requests_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"purchase_requests\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"purchase_requests\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"purchase_requests\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"purchase_requests\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"purchase_requests\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "pr_org_not_empty": {
          "name": "pr_org_not_empty",
          "value": "org_id <> ''"
        },
        "pr_priority_valid": {
          "name": "pr_priority_valid",
          "value": "priority IN ('low', 'normal', 'high', 'urgent')"
        },
        "pr_total_non_negative": {
          "name": "pr_total_non_negative",
          "value": "total_minor >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.quotation_lines": {
      "name": "quotation_lines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quotation_id": {
          "name": "quotation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "line_no": {
          "name": "line_no",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "item_id": {
          "name": "item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "item_code": {
          "name": "item_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "item_name": {
          "name": "item_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "qty": {
          "name": "qty",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'1'"
        },
        "uom_id": {
          "name": "uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rate_minor": {
          "name": "rate_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discount_minor": {
          "name": "discount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_minor": {
          "name": "tax_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "net_minor": {
          "name": "net_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_rate_id": {
          "name": "tax_rate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "qtnl_org_quotation_line_uniq": {
          "name": "qtnl_org_quotation_line_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "quotation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "line_no",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "qtnl_org_quotation_idx": {
          "name": "qtnl_org_quotation_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "quotation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "qtnl_org_item_idx": {
          "name": "qtnl_org_item_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "quotation_lines_org_id_id_pk": {
          "name": "quotation_lines_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"quotation_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"quotation_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"quotation_lines\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"quotation_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"quotation_lines\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "qtnl_org_not_empty": {
          "name": "qtnl_org_not_empty",
          "value": "org_id <> ''"
        },
        "qtnl_net_check": {
          "name": "qtnl_net_check",
          "value": "net_minor = amount_minor - discount_minor + tax_minor"
        },
        "qtnl_amount_non_negative": {
          "name": "qtnl_amount_non_negative",
          "value": "amount_minor >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.quotations": {
      "name": "quotations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "doc_status": {
          "name": "doc_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amended_from_id": {
          "name": "amended_from_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "external_source": {
          "name": "external_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "doc_no": {
          "name": "doc_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "party_type": {
          "name": "party_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'customer'"
        },
        "party_id": {
          "name": "party_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "exchange_rate": {
          "name": "exchange_rate",
          "type": "numeric(12, 6)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1'"
        },
        "valid_until": {
          "name": "valid_until",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "total_minor": {
          "name": "total_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discount_minor": {
          "name": "discount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_minor": {
          "name": "tax_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "grand_total_minor": {
          "name": "grand_total_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "billing_address_id": {
          "name": "billing_address_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "shipping_address_id": {
          "name": "shipping_address_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "payment_terms": {
          "name": "payment_terms",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "qtn_org_doc_no_uniq": {
          "name": "qtn_org_doc_no_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "doc_no",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "qtn_org_party_created_idx": {
          "name": "qtn_org_party_created_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "party_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "qtn_org_doc_status_idx": {
          "name": "qtn_org_doc_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "doc_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "quotations_company_fk": {
          "name": "quotations_company_fk",
          "tableFrom": "quotations",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "quotations_org_id_id_pk": {
          "name": "quotations_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"quotations\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"quotations\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"quotations\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"quotations\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"quotations\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "qtn_org_not_empty": {
          "name": "qtn_org_not_empty",
          "value": "org_id <> ''"
        },
        "qtn_total_non_negative": {
          "name": "qtn_total_non_negative",
          "value": "total_minor >= 0"
        },
        "qtn_tax_non_negative": {
          "name": "qtn_tax_non_negative",
          "value": "tax_minor >= 0"
        },
        "qtn_grand_total_non_negative": {
          "name": "qtn_grand_total_non_negative",
          "value": "grand_total_minor >= 0"
        },
        "qtn_party_type_valid": {
          "name": "qtn_party_type_valid",
          "value": "party_type IN ('customer', 'supplier')"
        }
      },
      "isRLSEnabled": false
    },
    "public.r2_files": {
      "name": "r2_files",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "object_key": {
          "name": "object_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content_type": {
          "name": "content_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "size_bytes": {
          "name": "size_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "checksum": {
          "name": "checksum",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "folder_path": {
          "name": "folder_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'/'"
        },
        "scan_status": {
          "name": "scan_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "scan_message": {
          "name": "scan_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scanned_at": {
          "name": "scanned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "replaced_by_id": {
          "name": "replaced_by_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "r2_files_org_id_idx": {
          "name": "r2_files_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "r2_files_org_company_idx": {
          "name": "r2_files_org_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "r2_files_org_folder_idx": {
          "name": "r2_files_org_folder_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "folder_path",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "r2_files_uploaded_by_idx": {
          "name": "r2_files_uploaded_by_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "uploaded_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "r2_files_company_fk": {
          "name": "r2_files_company_fk",
          "tableFrom": "r2_files",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "r2_files_org_id_id_pk": {
          "name": "r2_files_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"r2_files\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"r2_files\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"r2_files\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"r2_files\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"r2_files\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "r2_files_org_not_empty": {
          "name": "r2_files_org_not_empty",
          "value": "org_id <> ''"
        },
        "r2_files_scan_status_valid": {
          "name": "r2_files_scan_status_valid",
          "value": "scan_status IN ('pending', 'clean', 'infected', 'error', 'skipped')"
        }
      },
      "isRLSEnabled": false
    },
    "public.reporting_snapshots": {
      "name": "reporting_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "fiscal_period_id": {
          "name": "fiscal_period_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "snapshot_type": {
          "name": "snapshot_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "snapshot_date": {
          "name": "snapshot_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "captured_at": {
          "name": "captured_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "captured_by": {
          "name": "captured_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "total_debit_minor": {
          "name": "total_debit_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "total_credit_minor": {
          "name": "total_credit_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "rpt_snap_org_id_idx": {
          "name": "rpt_snap_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "rpt_snap_company_idx": {
          "name": "rpt_snap_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "rpt_snap_period_idx": {
          "name": "rpt_snap_period_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "fiscal_period_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "rpt_snap_company_period_type_uniq": {
          "name": "rpt_snap_company_period_type_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "fiscal_period_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "snapshot_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "reporting_snapshots_company_fk": {
          "name": "reporting_snapshots_company_fk",
          "tableFrom": "reporting_snapshots",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "reporting_snapshots_org_id_id_pk": {
          "name": "reporting_snapshots_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"reporting_snapshots\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"reporting_snapshots\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"reporting_snapshots\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"reporting_snapshots\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"reporting_snapshots\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "rpt_snap_org_not_empty": {
          "name": "rpt_snap_org_not_empty",
          "value": "org_id <> ''"
        },
        "rpt_snap_type_valid": {
          "name": "rpt_snap_type_valid",
          "value": "snapshot_type IN ('trial_balance', 'balance_sheet', 'income_statement', 'aging_ar', 'aging_ap', 'inventory_valuation')"
        }
      },
      "isRLSEnabled": false
    },
    "public.revenue_schedule_lines": {
      "name": "revenue_schedule_lines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "schedule_id": {
          "name": "schedule_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "fiscal_period_id": {
          "name": "fiscal_period_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "period_date": {
          "name": "period_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "journal_entry_id": {
          "name": "journal_entry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "rev_sched_lines_org_id_idx": {
          "name": "rev_sched_lines_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "rev_sched_lines_sched_idx": {
          "name": "rev_sched_lines_sched_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "schedule_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"revenue_schedule_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"revenue_schedule_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"revenue_schedule_lines\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"revenue_schedule_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"revenue_schedule_lines\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "rev_sched_lines_org_not_empty": {
          "name": "rev_sched_lines_org_not_empty",
          "value": "org_id <> ''"
        },
        "rev_sched_lines_status_valid": {
          "name": "rev_sched_lines_status_valid",
          "value": "status IN ('pending', 'recognized', 'cancelled')"
        }
      },
      "isRLSEnabled": false
    },
    "public.revenue_schedules": {
      "name": "revenue_schedules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "source_type": {
          "name": "source_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_id": {
          "name": "source_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "total_amount_minor": {
          "name": "total_amount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "recognized_amount_minor": {
          "name": "recognized_amount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "deferred_amount_minor": {
          "name": "deferred_amount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "method": {
          "name": "method",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'straight_line'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "revenue_account_id": {
          "name": "revenue_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "deferred_account_id": {
          "name": "deferred_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "rev_sched_org_id_idx": {
          "name": "rev_sched_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "rev_sched_company_idx": {
          "name": "rev_sched_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "rev_sched_source_idx": {
          "name": "rev_sched_source_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "revenue_schedules_company_fk": {
          "name": "revenue_schedules_company_fk",
          "tableFrom": "revenue_schedules",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "revenue_schedules_org_id_id_pk": {
          "name": "revenue_schedules_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"revenue_schedules\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"revenue_schedules\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"revenue_schedules\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"revenue_schedules\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"revenue_schedules\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "rev_sched_org_not_empty": {
          "name": "rev_sched_org_not_empty",
          "value": "org_id <> ''"
        },
        "rev_sched_method_valid": {
          "name": "rev_sched_method_valid",
          "value": "method IN ('straight_line', 'usage_based', 'milestone', 'manual')"
        },
        "rev_sched_status_valid": {
          "name": "rev_sched_status_valid",
          "value": "status IN ('active', 'completed', 'cancelled')"
        },
        "rev_sched_date_order": {
          "name": "rev_sched_date_order",
          "value": "start_date <= end_date"
        }
      },
      "isRLSEnabled": false
    },
    "public.role_permissions": {
      "name": "role_permissions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "role_id": {
          "name": "role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "verb": {
          "name": "verb",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'org'"
        },
        "field_rules_json": {
          "name": "field_rules_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "role_perms_org_role_entity_verb_scope_idx": {
          "name": "role_perms_org_role_entity_verb_scope_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "role_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "verb",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "scope",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "role_perms_org_entity_idx": {
          "name": "role_perms_org_entity_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "role_permissions_role_id_roles_id_fk": {
          "name": "role_permissions_role_id_roles_id_fk",
          "tableFrom": "role_permissions",
          "tableTo": "roles",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "role_permissions_org_id_id_pk": {
          "name": "role_permissions_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"role_permissions\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"role_permissions\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"role_permissions\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"role_permissions\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"role_permissions\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "role_perms_org_not_empty": {
          "name": "role_perms_org_not_empty",
          "value": "org_id <> ''"
        },
        "role_perms_verb_valid": {
          "name": "role_perms_verb_valid",
          "value": "verb IN ('create', 'update', 'delete', 'submit', 'cancel', 'amend', 'approve', 'reject', 'restore', '*')"
        },
        "role_perms_scope_valid": {
          "name": "role_perms_scope_valid",
          "value": "scope IN ('org', 'self', 'company', 'site', 'team')"
        }
      },
      "isRLSEnabled": false
    },
    "public.roles": {
      "name": "roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_system": {
          "name": "is_system",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "roles_org_key_idx": {
          "name": "roles_org_key_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "roles_org_id_idx": {
          "name": "roles_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "roles_org_id_id_pk": {
          "name": "roles_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"roles\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"roles\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"roles\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"roles\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"roles\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "roles_org_not_empty": {
          "name": "roles_org_not_empty",
          "value": "org_id <> ''"
        },
        "roles_key_not_empty": {
          "name": "roles_key_not_empty",
          "value": "key <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.sales_invoice_lines": {
      "name": "sales_invoice_lines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sales_invoice_id": {
          "name": "sales_invoice_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "line_no": {
          "name": "line_no",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "item_id": {
          "name": "item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "item_code": {
          "name": "item_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "item_name": {
          "name": "item_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "qty": {
          "name": "qty",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'1'"
        },
        "uom_id": {
          "name": "uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rate_minor": {
          "name": "rate_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discount_minor": {
          "name": "discount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_minor": {
          "name": "tax_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "net_minor": {
          "name": "net_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_rate_id": {
          "name": "tax_rate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "coa_income_id": {
          "name": "coa_income_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "cost_center_id": {
          "name": "cost_center_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "warehouse_id": {
          "name": "warehouse_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "posting_date": {
          "name": "posting_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "source_doc_type": {
          "name": "source_doc_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_line_id": {
          "name": "source_line_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sil_org_invoice_line_uniq": {
          "name": "sil_org_invoice_line_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "sales_invoice_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "line_no",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sil_org_invoice_idx": {
          "name": "sil_org_invoice_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "sales_invoice_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sil_org_item_idx": {
          "name": "sil_org_item_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sil_org_item_posting_idx": {
          "name": "sil_org_item_posting_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sil_org_company_analytics_idx": {
          "name": "sil_org_company_analytics_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "sales_invoice_lines_org_id_id_pk": {
          "name": "sales_invoice_lines_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"sales_invoice_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"sales_invoice_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"sales_invoice_lines\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"sales_invoice_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"sales_invoice_lines\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "sil_org_not_empty": {
          "name": "sil_org_not_empty",
          "value": "org_id <> ''"
        },
        "sil_net_check": {
          "name": "sil_net_check",
          "value": "net_minor = amount_minor - discount_minor + tax_minor"
        },
        "sil_amount_non_negative": {
          "name": "sil_amount_non_negative",
          "value": "amount_minor >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.sales_invoices": {
      "name": "sales_invoices",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "doc_status": {
          "name": "doc_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amended_from_id": {
          "name": "amended_from_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "external_source": {
          "name": "external_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "posting_status": {
          "name": "posting_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'unposted'"
        },
        "posting_date": {
          "name": "posting_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "posted_at": {
          "name": "posted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "posted_by": {
          "name": "posted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "posting_batch_id": {
          "name": "posting_batch_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "doc_no": {
          "name": "doc_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "customer_id": {
          "name": "customer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "due_date": {
          "name": "due_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "exchange_rate": {
          "name": "exchange_rate",
          "type": "numeric(12, 6)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1'"
        },
        "total_minor": {
          "name": "total_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discount_minor": {
          "name": "discount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_minor": {
          "name": "tax_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "grand_total_minor": {
          "name": "grand_total_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "paid_minor": {
          "name": "paid_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "outstanding_minor": {
          "name": "outstanding_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "coa_receivable_id": {
          "name": "coa_receivable_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_tax_included": {
          "name": "is_tax_included",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "billing_address_id": {
          "name": "billing_address_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "shipping_address_id": {
          "name": "shipping_address_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "payment_terms": {
          "name": "payment_terms",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "si_org_doc_no_uniq": {
          "name": "si_org_doc_no_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "doc_no",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "si_org_customer_posting_idx": {
          "name": "si_org_customer_posting_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "customer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "si_org_posting_date_idx": {
          "name": "si_org_posting_date_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "si_org_due_date_idx": {
          "name": "si_org_due_date_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "due_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "si_org_doc_status_idx": {
          "name": "si_org_doc_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "doc_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "si_org_posting_status_idx": {
          "name": "si_org_posting_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "si_org_outstanding_idx": {
          "name": "si_org_outstanding_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "outstanding_minor",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "outstanding_minor > 0",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "si_org_due_outstanding_idx": {
          "name": "si_org_due_outstanding_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "due_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "outstanding_minor",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "outstanding_minor > 0",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "si_org_customer_due_stmt_idx": {
          "name": "si_org_customer_due_stmt_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "customer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "due_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "outstanding_minor > 0",
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "si_org_customer_analytics_idx": {
          "name": "si_org_customer_analytics_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "customer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sales_invoices_company_fk": {
          "name": "sales_invoices_company_fk",
          "tableFrom": "sales_invoices",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "sales_invoices_org_id_id_pk": {
          "name": "sales_invoices_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"sales_invoices\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"sales_invoices\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"sales_invoices\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"sales_invoices\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"sales_invoices\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "si_org_not_empty": {
          "name": "si_org_not_empty",
          "value": "org_id <> ''"
        },
        "si_company_required": {
          "name": "si_company_required",
          "value": "company_id IS NOT NULL"
        },
        "si_total_non_negative": {
          "name": "si_total_non_negative",
          "value": "total_minor >= 0"
        },
        "si_tax_non_negative": {
          "name": "si_tax_non_negative",
          "value": "tax_minor >= 0"
        },
        "si_grand_total_non_negative": {
          "name": "si_grand_total_non_negative",
          "value": "grand_total_minor >= 0"
        },
        "si_paid_non_negative": {
          "name": "si_paid_non_negative",
          "value": "paid_minor >= 0"
        },
        "si_outstanding_non_negative": {
          "name": "si_outstanding_non_negative",
          "value": "outstanding_minor >= 0"
        },
        "si_posting_status_valid": {
          "name": "si_posting_status_valid",
          "value": "posting_status IN ('unposted', 'posting', 'posted', 'failed', 'reversing', 'reversed')"
        }
      },
      "isRLSEnabled": false
    },
    "public.sales_order_lines": {
      "name": "sales_order_lines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sales_order_id": {
          "name": "sales_order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "line_no": {
          "name": "line_no",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "item_id": {
          "name": "item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "item_code": {
          "name": "item_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "item_name": {
          "name": "item_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "qty": {
          "name": "qty",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'1'"
        },
        "uom_id": {
          "name": "uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rate_minor": {
          "name": "rate_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discount_minor": {
          "name": "discount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_minor": {
          "name": "tax_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "net_minor": {
          "name": "net_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_rate_id": {
          "name": "tax_rate_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "cost_center_id": {
          "name": "cost_center_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "warehouse_id": {
          "name": "warehouse_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_qty": {
          "name": "delivered_qty",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "billed_qty": {
          "name": "billed_qty",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "posting_date": {
          "name": "posting_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "source_doc_type": {
          "name": "source_doc_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_line_id": {
          "name": "source_line_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sol_org_order_line_uniq": {
          "name": "sol_org_order_line_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "sales_order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "line_no",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sol_org_order_idx": {
          "name": "sol_org_order_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "sales_order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sol_org_item_idx": {
          "name": "sol_org_item_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sol_org_item_posting_idx": {
          "name": "sol_org_item_posting_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "sales_order_lines_org_id_id_pk": {
          "name": "sales_order_lines_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"sales_order_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"sales_order_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"sales_order_lines\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"sales_order_lines\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"sales_order_lines\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "sol_org_not_empty": {
          "name": "sol_org_not_empty",
          "value": "org_id <> ''"
        },
        "sol_net_check": {
          "name": "sol_net_check",
          "value": "net_minor = amount_minor - discount_minor + tax_minor"
        },
        "sol_amount_non_negative": {
          "name": "sol_amount_non_negative",
          "value": "amount_minor >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.sales_orders": {
      "name": "sales_orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "doc_status": {
          "name": "doc_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amended_from_id": {
          "name": "amended_from_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "external_source": {
          "name": "external_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "posting_status": {
          "name": "posting_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'unposted'"
        },
        "posting_date": {
          "name": "posting_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "posted_at": {
          "name": "posted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "posted_by": {
          "name": "posted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "posting_batch_id": {
          "name": "posting_batch_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "doc_no": {
          "name": "doc_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "customer_id": {
          "name": "customer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "exchange_rate": {
          "name": "exchange_rate",
          "type": "numeric(12, 6)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1'"
        },
        "delivery_date": {
          "name": "delivery_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "payment_terms": {
          "name": "payment_terms",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_minor": {
          "name": "total_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discount_minor": {
          "name": "discount_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_minor": {
          "name": "tax_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "grand_total_minor": {
          "name": "grand_total_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "billing_address_id": {
          "name": "billing_address_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "shipping_address_id": {
          "name": "shipping_address_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "so_org_doc_no_uniq": {
          "name": "so_org_doc_no_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "doc_no",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "so_org_customer_created_idx": {
          "name": "so_org_customer_created_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "customer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "so_org_doc_status_idx": {
          "name": "so_org_doc_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "doc_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "so_org_posting_status_idx": {
          "name": "so_org_posting_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posting_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sales_orders_company_fk": {
          "name": "sales_orders_company_fk",
          "tableFrom": "sales_orders",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "sales_orders_org_id_id_pk": {
          "name": "sales_orders_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"sales_orders\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"sales_orders\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"sales_orders\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"sales_orders\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"sales_orders\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "so_org_not_empty": {
          "name": "so_org_not_empty",
          "value": "org_id <> ''"
        },
        "so_company_required": {
          "name": "so_company_required",
          "value": "company_id IS NOT NULL"
        },
        "so_total_non_negative": {
          "name": "so_total_non_negative",
          "value": "total_minor >= 0"
        },
        "so_tax_non_negative": {
          "name": "so_tax_non_negative",
          "value": "tax_minor >= 0"
        },
        "so_grand_total_non_negative": {
          "name": "so_grand_total_non_negative",
          "value": "grand_total_minor >= 0"
        },
        "so_posting_status_valid": {
          "name": "so_posting_status_valid",
          "value": "posting_status IN ('unposted', 'posting', 'posted', 'failed', 'reversing', 'reversed')"
        }
      },
      "isRLSEnabled": false
    },
    "public.selling_settings": {
      "name": "selling_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "customer_naming_by": {
          "name": "customer_naming_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "campaign_naming_by": {
          "name": "campaign_naming_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cust_master_name": {
          "name": "cust_master_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quotation_validity_days": {
          "name": "quotation_validity_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "so_required": {
          "name": "so_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "dn_required": {
          "name": "dn_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "sales_update_frequency": {
          "name": "sales_update_frequency",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "selling_price_list": {
          "name": "selling_price_list",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hide_customer_group": {
          "name": "hide_customer_group",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "close_sales_order_on_delivery_note": {
          "name": "close_sales_order_on_delivery_note",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_multiple_sales_orders_against_customers_po": {
          "name": "allow_multiple_sales_orders_against_customers_po",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "validate_selling_price": {
          "name": "validate_selling_price",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "maintain_same_rate": {
          "name": "maintain_same_rate",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "maintain_same_rate_throughout_sales_order": {
          "name": "maintain_same_rate_throughout_sales_order",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "editable": {
          "name": "editable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_user_to_edit_rate_in_transactions": {
          "name": "allow_user_to_edit_rate_in_transactions",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_item_to_be_added_multiple_times": {
          "name": "allow_item_to_be_added_multiple_times",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_against_multiple_purchase_orders": {
          "name": "allow_against_multiple_purchase_orders",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "role_to_override_price_list_rate_validation": {
          "name": "role_to_override_price_list_rate_validation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "auto_fill_customer_details": {
          "name": "auto_fill_customer_details",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "enable_discount_accounting": {
          "name": "enable_discount_accounting",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "book_deferred_entries_via_journal_entry": {
          "name": "book_deferred_entries_via_journal_entry",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "book_deferred_entries_based_on": {
          "name": "book_deferred_entries_based_on",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "add_delivered_qty_in_sales_order": {
          "name": "add_delivered_qty_in_sales_order",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {
        "selling_settings_org_created_id_idx": {
          "name": "selling_settings_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "selling_settings_org_id_id_pk": {
          "name": "selling_settings_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "selling_settings_org_singleton": {
          "name": "selling_settings_org_singleton",
          "nullsNotDistinct": false,
          "columns": [
            "org_id"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"selling_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"selling_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"selling_settings\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"selling_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"selling_settings\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "selling_settings_org_not_empty": {
          "name": "selling_settings_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.search_documents": {
      "name": "search_documents",
      "schema": "",
      "columns": {
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "subtitle": {
          "name": "subtitle",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "''"
        },
        "search_vector": {
          "name": "search_vector",
          "type": "tsvector",
          "primaryKey": false,
          "notNull": true,
          "default": "''::tsvector"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {
        "search_docs_fts_gin": {
          "name": "search_docs_fts_gin",
          "columns": [
            {
              "expression": "search_vector",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "search_docs_org_type_idx": {
          "name": "search_docs_org_type_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "search_documents_org_id_entity_type_entity_id_pk": {
          "name": "search_documents_org_id_entity_type_entity_id_pk",
          "columns": [
            "org_id",
            "entity_type",
            "entity_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"search_documents\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"search_documents\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"search_documents\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"search_documents\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"search_documents\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "search_docs_org_not_empty": {
          "name": "search_docs_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.search_outbox": {
      "name": "search_outbox",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'upsert'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "attempts": {
          "name": "attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_attempts": {
          "name": "max_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "next_retry_at": {
          "name": "next_retry_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "search_outbox_poll_idx": {
          "name": "search_outbox_poll_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "search_outbox_org_idx": {
          "name": "search_outbox_org_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"search_outbox\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"search_outbox\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"search_outbox\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"search_outbox\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"search_outbox\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "search_outbox_org_not_empty": {
          "name": "search_outbox_org_not_empty",
          "value": "org_id <> ''"
        },
        "search_outbox_status_valid": {
          "name": "search_outbox_status_valid",
          "value": "status IN ('pending', 'processing', 'completed', 'failed', 'dead_letter')"
        },
        "search_outbox_action_valid": {
          "name": "search_outbox_action_valid",
          "value": "action IN ('upsert', 'delete')"
        }
      },
      "isRLSEnabled": false
    },
    "public.sites": {
      "name": "sites",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "address": {
          "name": "address",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sites_org_id_idx": {
          "name": "sites_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sites_org_created_id_idx": {
          "name": "sites_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sites_org_code_uniq": {
          "name": "sites_org_code_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sites_company_fk": {
          "name": "sites_company_fk",
          "tableFrom": "sites",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "sites_org_id_id_pk": {
          "name": "sites_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"sites\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"sites\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"sites\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"sites\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"sites\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "sites_org_not_empty": {
          "name": "sites_org_not_empty",
          "value": "org_id <> ''"
        },
        "sites_type_chk": {
          "name": "sites_type_chk",
          "value": "type IN ('warehouse','branch','plant','office')"
        }
      },
      "isRLSEnabled": false
    },
    "public.stock_balances": {
      "name": "stock_balances",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "item_id": {
          "name": "item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "qty_on_hand": {
          "name": "qty_on_hand",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "qty_reserved": {
          "name": "qty_reserved",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "qty_ordered": {
          "name": "qty_ordered",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "valuation_minor": {
          "name": "valuation_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "last_movement_at": {
          "name": "last_movement_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "stock_bal_org_id_idx": {
          "name": "stock_bal_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "stock_bal_org_company_idx": {
          "name": "stock_bal_org_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "stock_bal_org_item_idx": {
          "name": "stock_bal_org_item_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "stock_bal_org_company_site_item_uniq": {
          "name": "stock_bal_org_company_site_item_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "site_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "stock_balances_company_fk": {
          "name": "stock_balances_company_fk",
          "tableFrom": "stock_balances",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "stock_balances_org_id_id_pk": {
          "name": "stock_balances_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"stock_balances\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"stock_balances\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"stock_balances\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"stock_balances\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"stock_balances\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "stock_bal_org_not_empty": {
          "name": "stock_bal_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.stock_movements": {
      "name": "stock_movements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "item_id": {
          "name": "item_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "movement_type": {
          "name": "movement_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "qty": {
          "name": "qty",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "uom_id": {
          "name": "uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "unit_cost_minor": {
          "name": "unit_cost_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_cost_minor": {
          "name": "total_cost_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "posted_at": {
          "name": "posted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "source_type": {
          "name": "source_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_id": {
          "name": "source_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "batch_no": {
          "name": "batch_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "serial_no": {
          "name": "serial_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lot_no": {
          "name": "lot_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "costing_method": {
          "name": "costing_method",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'weighted_average'"
        },
        "running_qty": {
          "name": "running_qty",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "running_cost_minor": {
          "name": "running_cost_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "warehouse_zone": {
          "name": "warehouse_zone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "stock_mv_org_id_idx": {
          "name": "stock_mv_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "stock_mv_org_company_idx": {
          "name": "stock_mv_org_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "stock_mv_item_idx": {
          "name": "stock_mv_item_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "site_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "stock_mv_posted_idx": {
          "name": "stock_mv_posted_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "stock_mv_source_idx": {
          "name": "stock_mv_source_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "stock_mv_batch_idx": {
          "name": "stock_mv_batch_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "item_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "batch_no",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "stock_movements_company_fk": {
          "name": "stock_movements_company_fk",
          "tableFrom": "stock_movements",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "stock_movements_org_id_id_pk": {
          "name": "stock_movements_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"stock_movements\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"stock_movements\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"stock_movements\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"stock_movements\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"stock_movements\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "stock_mv_org_not_empty": {
          "name": "stock_mv_org_not_empty",
          "value": "org_id <> ''"
        },
        "stock_mv_type_valid": {
          "name": "stock_mv_type_valid",
          "value": "movement_type IN ('receipt', 'issue', 'transfer_in', 'transfer_out', 'adjustment', 'return', 'scrap')"
        },
        "stock_mv_costing_valid": {
          "name": "stock_mv_costing_valid",
          "value": "costing_method IN ('fifo', 'lifo', 'weighted_average', 'specific')"
        }
      },
      "isRLSEnabled": false
    },
    "public.stock_settings": {
      "name": "stock_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "item_naming_by": {
          "name": "item_naming_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "item_group": {
          "name": "item_group",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stock_uom": {
          "name": "stock_uom",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "allow_negative_stock": {
          "name": "allow_negative_stock",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "default_warehouse": {
          "name": "default_warehouse",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "set_qty_in_transactions_based_on_serial_no_batch_no": {
          "name": "set_qty_in_transactions_based_on_serial_no_batch_no",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "automatically_set_serial_nos_based_on_fifo": {
          "name": "automatically_set_serial_nos_based_on_fifo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "validate_stock_on_save": {
          "name": "validate_stock_on_save",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "auto_insert_price_list_rate_if_missing": {
          "name": "auto_insert_price_list_rate_if_missing",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_items_not_in_bom": {
          "name": "allow_items_not_in_bom",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "show_barcode_field": {
          "name": "show_barcode_field",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "convert_item_desc_to_clean_html": {
          "name": "convert_item_desc_to_clean_html",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "auto_indent": {
          "name": "auto_indent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "raise_stock_request_when_stock_reaches_reorder_level": {
          "name": "raise_stock_request_when_stock_reaches_reorder_level",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "notify_by_email_on_creation_of_automatic_material_request": {
          "name": "notify_by_email_on_creation_of_automatic_material_request",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "raise_po_request_when_stock_reaches_reorder_level": {
          "name": "raise_po_request_when_stock_reaches_reorder_level",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "freeze_stocks_older_than": {
          "name": "freeze_stocks_older_than",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "role_allowed_to_create_edit_frozen_stock": {
          "name": "role_allowed_to_create_edit_frozen_stock",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action_if_qty_after_transaction_is_zero": {
          "name": "action_if_qty_after_transaction_is_zero",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action_if_accumulated_qty_is_zero": {
          "name": "action_if_accumulated_qty_is_zero",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sample_retention_warehouse": {
          "name": "sample_retention_warehouse",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_valid_days": {
          "name": "default_valid_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cleanup_email_notifications_sent_days_ago": {
          "name": "cleanup_email_notifications_sent_days_ago",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "enable_stock_entry_batch_auto_creation": {
          "name": "enable_stock_entry_batch_auto_creation",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "disable_serial_no_batch_selector": {
          "name": "disable_serial_no_batch_selector",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "do_not_update_serial_batch_on_creation_of_auto_bundle": {
          "name": "do_not_update_serial_batch_on_creation_of_auto_bundle",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "valuation": {
          "name": "valuation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rm_cost_as_per_bom": {
          "name": "rm_cost_as_per_bom",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "exact_cost_revaluation_based_on_vouchers": {
          "name": "exact_cost_revaluation_based_on_vouchers",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_to_edit_rate_in_stock_entry": {
          "name": "allow_to_edit_rate_in_stock_entry",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_over_delivery_billing": {
          "name": "allow_over_delivery_billing",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "over_delivery_receipt_allowance": {
          "name": "over_delivery_receipt_allowance",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "role_allowed_to_over_deliver_receive": {
          "name": "role_allowed_to_over_deliver_receive",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "enable_batch_wise_stock_balances": {
          "name": "enable_batch_wise_stock_balances",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {
        "stock_settings_org_created_id_idx": {
          "name": "stock_settings_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "stock_settings_org_id_id_pk": {
          "name": "stock_settings_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "stock_settings_org_singleton": {
          "name": "stock_settings_org_singleton",
          "nullsNotDistinct": false,
          "columns": [
            "org_id"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"stock_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"stock_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"stock_settings\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"stock_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"stock_settings\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "stock_settings_org_not_empty": {
          "name": "stock_settings_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.supplier_profiles": {
      "name": "supplier_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_id": {
          "name": "contact_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "supplier_code": {
          "name": "supplier_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_currency_code": {
          "name": "default_currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "default_tax_code": {
          "name": "default_tax_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_terms_id": {
          "name": "payment_terms_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "default_warehouse_id": {
          "name": "default_warehouse_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "payable_account_id": {
          "name": "payable_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "lead_time_days": {
          "name": "lead_time_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "supplier_group": {
          "name": "supplier_group",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "supplier_rating": {
          "name": "supplier_rating",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "supp_prof_org_id_idx": {
          "name": "supp_prof_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "supp_prof_org_company_idx": {
          "name": "supp_prof_org_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "supp_prof_org_contact_uniq": {
          "name": "supp_prof_org_contact_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "contact_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "supplier_profiles_company_fk": {
          "name": "supplier_profiles_company_fk",
          "tableFrom": "supplier_profiles",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "supplier_profiles_org_id_id_pk": {
          "name": "supplier_profiles_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"supplier_profiles\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"supplier_profiles\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"supplier_profiles\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"supplier_profiles\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"supplier_profiles\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "supp_prof_org_not_empty": {
          "name": "supp_prof_org_not_empty",
          "value": "org_id <> ''"
        },
        "supp_prof_lead_time_non_negative": {
          "name": "supp_prof_lead_time_non_negative",
          "value": "lead_time_days IS NULL OR lead_time_days >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.tax_rates": {
      "name": "tax_rates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tax_code": {
          "name": "tax_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rate": {
          "name": "rate",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "jurisdiction": {
          "name": "jurisdiction",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tax_type": {
          "name": "tax_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'gst'"
        },
        "rounding_method": {
          "name": "rounding_method",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'half_up'"
        },
        "rounding_precision": {
          "name": "rounding_precision",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 2
        },
        "effective_from": {
          "name": "effective_from",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "effective_to": {
          "name": "effective_to",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "is_compound": {
          "name": "is_compound",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "tax_rates_org_id_idx": {
          "name": "tax_rates_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tax_rates_org_code_idx": {
          "name": "tax_rates_org_code_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "tax_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tax_rates_effective_idx": {
          "name": "tax_rates_effective_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "tax_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "effective_from",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tax_rates_org_code_effective_uniq": {
          "name": "tax_rates_org_code_effective_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "tax_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "effective_from",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "tax_rates_org_id_id_pk": {
          "name": "tax_rates_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"tax_rates\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"tax_rates\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"tax_rates\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"tax_rates\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"tax_rates\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "tax_rates_org_not_empty": {
          "name": "tax_rates_org_not_empty",
          "value": "org_id <> ''"
        },
        "tax_rates_rate_non_negative": {
          "name": "tax_rates_rate_non_negative",
          "value": "rate >= 0"
        },
        "tax_rates_tax_type_valid": {
          "name": "tax_rates_tax_type_valid",
          "value": "tax_type IN ('gst', 'vat', 'sales_tax', 'service_tax', 'withholding', 'exempt', 'zero_rated')"
        },
        "tax_rates_rounding_valid": {
          "name": "tax_rates_rounding_valid",
          "value": "rounding_method IN ('half_up', 'half_down', 'ceil', 'floor', 'banker')"
        },
        "tax_rates_date_order": {
          "name": "tax_rates_date_order",
          "value": "effective_to IS NULL OR effective_from <= effective_to"
        }
      },
      "isRLSEnabled": false
    },
    "public.uom_conversions": {
      "name": "uom_conversions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "from_uom_id": {
          "name": "from_uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "to_uom_id": {
          "name": "to_uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "factor": {
          "name": "factor",
          "type": "numeric(20, 10)",
          "primaryKey": false,
          "notNull": true
        },
        "rounding_method": {
          "name": "rounding_method",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'half_up'"
        },
        "rounding_precision": {
          "name": "rounding_precision",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 6
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'global'"
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "uom_conversions_org_id_idx": {
          "name": "uom_conversions_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "uom_conversions_org_from_to_product_uniq": {
          "name": "uom_conversions_org_from_to_product_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "from_uom_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "to_uom_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "uom_conversions_org_id_id_pk": {
          "name": "uom_conversions_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"uom_conversions\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"uom_conversions\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"uom_conversions\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"uom_conversions\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"uom_conversions\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "uom_conversions_org_not_empty": {
          "name": "uom_conversions_org_not_empty",
          "value": "org_id <> ''"
        },
        "uom_conversions_rounding_valid": {
          "name": "uom_conversions_rounding_valid",
          "value": "rounding_method IN ('half_up', 'half_down', 'ceil', 'floor', 'banker')"
        },
        "uom_conversions_scope_valid": {
          "name": "uom_conversions_scope_valid",
          "value": "scope IN ('global', 'product')"
        },
        "uom_conversions_factor_positive": {
          "name": "uom_conversions_factor_positive",
          "value": "factor > 0"
        },
        "uom_conversions_product_scope": {
          "name": "uom_conversions_product_scope",
          "value": "(scope = 'global' AND product_id IS NULL) OR (scope = 'product' AND product_id IS NOT NULL)"
        }
      },
      "isRLSEnabled": false
    },
    "public.uom": {
      "name": "uom",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "symbol": {
          "name": "symbol",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "uom_org_id_idx": {
          "name": "uom_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "uom_org_symbol_uniq": {
          "name": "uom_org_symbol_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "symbol",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "uom_org_id_id_pk": {
          "name": "uom_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"uom\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"uom\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"uom\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"uom\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"uom\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "uom_org_not_empty": {
          "name": "uom_org_not_empty",
          "value": "org_id <> ''"
        },
        "uom_type_chk": {
          "name": "uom_type_chk",
          "value": "type IN ('weight','volume','length','area','count','time','custom')"
        }
      },
      "isRLSEnabled": false
    },
    "public.user_roles": {
      "name": "user_roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role_id": {
          "name": "role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_roles_org_user_role_idx": {
          "name": "user_roles_org_user_role_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "role_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_roles_org_user_idx": {
          "name": "user_roles_org_user_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_roles_role_id_roles_id_fk": {
          "name": "user_roles_role_id_roles_id_fk",
          "tableFrom": "user_roles",
          "tableTo": "roles",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "user_roles_org_id_id_pk": {
          "name": "user_roles_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"user_roles\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"user_roles\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"user_roles\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"user_roles\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"user_roles\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "user_roles_org_not_empty": {
          "name": "user_roles_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.user_scopes": {
      "name": "user_scopes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scope_type": {
          "name": "scope_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scope_id": {
          "name": "scope_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_scopes_org_user_type_id_idx": {
          "name": "user_scopes_org_user_type_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "scope_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "scope_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_scopes_org_user_idx": {
          "name": "user_scopes_org_user_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "user_scopes_org_id_id_pk": {
          "name": "user_scopes_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"user_scopes\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"user_scopes\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"user_scopes\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"user_scopes\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"user_scopes\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "user_scopes_org_not_empty": {
          "name": "user_scopes_org_not_empty",
          "value": "org_id <> ''"
        },
        "user_scopes_type_valid": {
          "name": "user_scopes_type_valid",
          "value": "scope_type IN ('company', 'site', 'team')"
        }
      },
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "users_user_id_idx": {
          "name": "users_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_user_id_unique": {
          "name": "users_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        },
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.user_id() = \"users\".\"user_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.user_id() = \"users\".\"user_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.user_id() = \"users\".\"user_id\")",
          "withCheck": "(select auth.user_id() = \"users\".\"user_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.user_id() = \"users\".\"user_id\")"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.uae_vat_settings": {
      "name": "uae_vat_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "uae_vat_settings_org_created_id_idx": {
          "name": "uae_vat_settings_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "uae_vat_settings_org_id_id_pk": {
          "name": "uae_vat_settings_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "uae_vat_settings_org_singleton": {
          "name": "uae_vat_settings_org_singleton",
          "nullsNotDistinct": false,
          "columns": [
            "org_id"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"uae_vat_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"uae_vat_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"uae_vat_settings\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"uae_vat_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"uae_vat_settings\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "uae_vat_settings_org_not_empty": {
          "name": "uae_vat_settings_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.video_settings": {
      "name": "video_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "enable_youtube_tracking": {
          "name": "enable_youtube_tracking",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "api_key": {
          "name": "api_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "frequency": {
          "name": "frequency",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "video_settings_org_created_id_idx": {
          "name": "video_settings_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "video_settings_org_id_id_pk": {
          "name": "video_settings_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"video_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"video_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"video_settings\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"video_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"video_settings\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "video_settings_org_not_empty": {
          "name": "video_settings_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.voice_call_settings": {
      "name": "voice_call_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "voice_call_settings_org_created_id_idx": {
          "name": "voice_call_settings_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "voice_call_settings_org_id_id_pk": {
          "name": "voice_call_settings_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "voice_call_settings_org_singleton": {
          "name": "voice_call_settings_org_singleton",
          "nullsNotDistinct": false,
          "columns": [
            "org_id"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"voice_call_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"voice_call_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"voice_call_settings\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"voice_call_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"voice_call_settings\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "voice_call_settings_org_not_empty": {
          "name": "voice_call_settings_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.warehouses": {
      "name": "warehouses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "warehouse_type": {
          "name": "warehouse_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'store'"
        },
        "parent_warehouse_id": {
          "name": "parent_warehouse_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_group": {
          "name": "is_group",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {
        "warehouses_org_code_uniq": {
          "name": "warehouses_org_code_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "warehouses_org_company_idx": {
          "name": "warehouses_org_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "warehouses_org_parent_idx": {
          "name": "warehouses_org_parent_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "parent_warehouse_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "warehouses_company_fk": {
          "name": "warehouses_company_fk",
          "tableFrom": "warehouses",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "warehouses_org_id_id_pk": {
          "name": "warehouses_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"warehouses\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"warehouses\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"warehouses\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"warehouses\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"warehouses\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "warehouses_org_not_empty": {
          "name": "warehouses_org_not_empty",
          "value": "org_id <> ''"
        },
        "warehouses_code_not_empty": {
          "name": "warehouses_code_not_empty",
          "value": "code <> ''"
        },
        "warehouses_type_valid": {
          "name": "warehouses_type_valid",
          "value": "warehouse_type IN ('store', 'transit', 'scrap', 'wip', 'finished', 'returns')"
        }
      },
      "isRLSEnabled": false
    },
    "public.support_settings": {
      "name": "support_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "track_service_level_agreement": {
          "name": "track_service_level_agreement",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_resetting_sla": {
          "name": "allow_resetting_sla",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "close_issue_after_days": {
          "name": "close_issue_after_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "get_involved_in_reply": {
          "name": "get_involved_in_reply",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "send_feedback_request": {
          "name": "send_feedback_request",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {
        "support_settings_org_created_id_idx": {
          "name": "support_settings_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"support_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"support_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"support_settings\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"support_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"support_settings\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "support_settings_org_not_empty": {
          "name": "support_settings_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.service_level_agreements": {
      "name": "service_level_agreements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "default_priority": {
          "name": "default_priority",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "apply_sla_to_priority": {
          "name": "apply_sla_to_priority",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "condition": {
          "name": "condition",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "response_time": {
          "name": "response_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_time": {
          "name": "resolution_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "service_level_agreements_org_created_id_idx": {
          "name": "service_level_agreements_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "service_level_agreements_name_idx": {
          "name": "service_level_agreements_name_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"service_level_agreements\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"service_level_agreements\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"service_level_agreements\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"service_level_agreements\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"service_level_agreements\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "service_level_agreements_org_not_empty": {
          "name": "service_level_agreements_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.issue_types": {
      "name": "issue_types",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "issue_types_org_created_id_idx": {
          "name": "issue_types_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "issue_types_name_idx": {
          "name": "issue_types_name_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"issue_types\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"issue_types\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"issue_types\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"issue_types\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"issue_types\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "issue_types_org_not_empty": {
          "name": "issue_types_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.projects_settings": {
      "name": "projects_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "ignore_user_time_overlap": {
          "name": "ignore_user_time_overlap",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "ignore_employee_time_overlap": {
          "name": "ignore_employee_time_overlap",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {
        "projects_settings_org_created_id_idx": {
          "name": "projects_settings_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"projects_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"projects_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"projects_settings\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"projects_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"projects_settings\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "projects_settings_org_not_empty": {
          "name": "projects_settings_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.project_types": {
      "name": "project_types",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "project_types_org_created_id_idx": {
          "name": "project_types_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "project_types_org_name_unique": {
          "name": "project_types_org_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "org_id",
            "name"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"project_types\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"project_types\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"project_types\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"project_types\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"project_types\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "project_types_org_not_empty": {
          "name": "project_types_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.project_templates": {
      "name": "project_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "project_templates_org_created_id_idx": {
          "name": "project_templates_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "project_templates_org_id_id_pk": {
          "name": "project_templates_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"project_templates\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"project_templates\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"project_templates\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"project_templates\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"project_templates\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "project_templates_org_not_empty": {
          "name": "project_templates_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.project_template_tasks": {
      "name": "project_template_tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "task_name": {
          "name": "task_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "duration": {
          "name": "duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "project_template_tasks_org_created_id_idx": {
          "name": "project_template_tasks_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "project_template_tasks_org_id_id_pk": {
          "name": "project_template_tasks_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"project_template_tasks\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"project_template_tasks\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"project_template_tasks\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"project_template_tasks\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"project_template_tasks\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "project_template_tasks_org_not_empty": {
          "name": "project_template_tasks_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.project_users": {
      "name": "project_users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "user_col": {
          "name": "user_col",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "welcome_email_sent": {
          "name": "welcome_email_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "view_attachments": {
          "name": "view_attachments",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {
        "project_users_org_created_id_idx": {
          "name": "project_users_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "project_users_org_user_idx": {
          "name": "project_users_org_user_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_col",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "project_users_user_col_users_id_fk": {
          "name": "project_users_user_col_users_id_fk",
          "tableFrom": "project_users",
          "tableTo": "users",
          "columnsFrom": [
            "user_col"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "project_users_org_id_id_pk": {
          "name": "project_users_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"project_users\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"project_users\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"project_users\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"project_users\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"project_users\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "project_users_org_not_empty": {
          "name": "project_users_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.project_updates": {
      "name": "project_updates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "naming_series": {
          "name": "naming_series",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project": {
          "name": "project",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sent": {
          "name": "sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "time_col": {
          "name": "time_col",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "progress": {
          "name": "progress",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "progress_percent": {
          "name": "progress_percent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "project_updates_org_created_id_idx": {
          "name": "project_updates_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "project_updates_org_project_idx": {
          "name": "project_updates_org_project_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "project",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "project_updates_org_date_idx": {
          "name": "project_updates_org_date_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "project_updates_project_projects_id_fk": {
          "name": "project_updates_project_projects_id_fk",
          "tableFrom": "project_updates",
          "tableTo": "projects",
          "columnsFrom": [
            "project"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "project_updates_org_id_id_pk": {
          "name": "project_updates_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"project_updates\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"project_updates\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"project_updates\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"project_updates\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"project_updates\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "project_updates_org_not_empty": {
          "name": "project_updates_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.tasks": {
      "name": "tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "project": {
          "name": "project",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "issue": {
          "name": "issue",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "type_col": {
          "name": "type_col",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "color": {
          "name": "color",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_group": {
          "name": "is_group",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_template": {
          "name": "is_template",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "priority": {
          "name": "priority",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status_col": {
          "name": "status_col",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "exp_start_date": {
          "name": "exp_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "exp_end_date": {
          "name": "exp_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "expected_time": {
          "name": "expected_time",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "progress": {
          "name": "progress",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "duration": {
          "name": "duration",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_task": {
          "name": "parent_task",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "tasks_org_created_id_idx": {
          "name": "tasks_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tasks_org_project_idx": {
          "name": "tasks_org_project_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "project",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tasks_org_status_idx": {
          "name": "tasks_org_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status_col",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tasks_org_parent_idx": {
          "name": "tasks_org_parent_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "parent_task",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tasks_project_projects_id_fk": {
          "name": "tasks_project_projects_id_fk",
          "tableFrom": "tasks",
          "tableTo": "projects",
          "columnsFrom": [
            "project"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tasks_parent_task_tasks_id_fk": {
          "name": "tasks_parent_task_tasks_id_fk",
          "tableFrom": "tasks",
          "tableTo": "tasks",
          "columnsFrom": [
            "parent_task"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "tasks_org_id_id_pk": {
          "name": "tasks_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"tasks\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"tasks\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"tasks\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"tasks\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"tasks\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "tasks_org_not_empty": {
          "name": "tasks_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.timesheets": {
      "name": "timesheets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "naming_series": {
          "name": "naming_series",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "company": {
          "name": "company",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "customer": {
          "name": "customer",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "exchange_rate": {
          "name": "exchange_rate",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "sales_invoice": {
          "name": "sales_invoice",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "employee": {
          "name": "employee",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "employee_name": {
          "name": "employee_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_col": {
          "name": "user_col",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "total_hours": {
          "name": "total_hours",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total_billable_hours": {
          "name": "total_billable_hours",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total_billed_hours": {
          "name": "total_billed_hours",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total_costing_amount": {
          "name": "total_costing_amount",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total_billable_amount": {
          "name": "total_billable_amount",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total_billed_amount": {
          "name": "total_billed_amount",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "per_billed": {
          "name": "per_billed",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "status_col": {
          "name": "status_col",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "timesheets_org_created_id_idx": {
          "name": "timesheets_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "timesheets_org_employee_idx": {
          "name": "timesheets_org_employee_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "employee",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "timesheets_org_status_idx": {
          "name": "timesheets_org_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status_col",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "timesheets_org_start_date_idx": {
          "name": "timesheets_org_start_date_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "start_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "timesheets_org_id_id_pk": {
          "name": "timesheets_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"timesheets\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"timesheets\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"timesheets\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"timesheets\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"timesheets\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "timesheets_org_not_empty": {
          "name": "timesheets_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.timesheet_details": {
      "name": "timesheet_details",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "activity_type": {
          "name": "activity_type",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "from_time": {
          "name": "from_time",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expected_hours": {
          "name": "expected_hours",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "to_time": {
          "name": "to_time",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "hours": {
          "name": "hours",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "completed": {
          "name": "completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "project": {
          "name": "project",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "task": {
          "name": "task",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "billing_hours": {
          "name": "billing_hours",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "costing_hours": {
          "name": "costing_hours",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "billing_amount": {
          "name": "billing_amount",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "costing_amount": {
          "name": "costing_amount",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "billing_rate": {
          "name": "billing_rate",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "costing_rate": {
          "name": "costing_rate",
          "type": "numeric(18, 2)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "timesheet_details_org_created_id_idx": {
          "name": "timesheet_details_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "timesheet_details_org_project_idx": {
          "name": "timesheet_details_org_project_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "project",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "timesheet_details_org_task_idx": {
          "name": "timesheet_details_org_task_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "task",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "timesheet_details_org_activity_idx": {
          "name": "timesheet_details_org_activity_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "activity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "timesheet_details_activity_type_activity_types_id_fk": {
          "name": "timesheet_details_activity_type_activity_types_id_fk",
          "tableFrom": "timesheet_details",
          "tableTo": "activity_types",
          "columnsFrom": [
            "activity_type"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "timesheet_details_project_projects_id_fk": {
          "name": "timesheet_details_project_projects_id_fk",
          "tableFrom": "timesheet_details",
          "tableTo": "projects",
          "columnsFrom": [
            "project"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "timesheet_details_task_tasks_id_fk": {
          "name": "timesheet_details_task_tasks_id_fk",
          "tableFrom": "timesheet_details",
          "tableTo": "tasks",
          "columnsFrom": [
            "task"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "timesheet_details_org_id_id_pk": {
          "name": "timesheet_details_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"timesheet_details\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"timesheet_details\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"timesheet_details\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"timesheet_details\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"timesheet_details\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "timesheet_details_org_not_empty": {
          "name": "timesheet_details_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.psoa_projects": {
      "name": "psoa_projects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "project_name": {
          "name": "project_name",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "cost_center": {
          "name": "cost_center",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "psoa_projects_org_created_id_idx": {
          "name": "psoa_projects_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "psoa_projects_org_project_idx": {
          "name": "psoa_projects_org_project_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "project_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "psoa_projects_project_name_projects_id_fk": {
          "name": "psoa_projects_project_name_projects_id_fk",
          "tableFrom": "psoa_projects",
          "tableTo": "projects",
          "columnsFrom": [
            "project_name"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "psoa_projects_org_id_id_pk": {
          "name": "psoa_projects_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"psoa_projects\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"psoa_projects\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"psoa_projects\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"psoa_projects\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"psoa_projects\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "psoa_projects_org_not_empty": {
          "name": "psoa_projects_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.pos_settings": {
      "name": "pos_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "use_pos_in_offline_mode": {
          "name": "use_pos_in_offline_mode",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "unconditionally_apply_pricing_rule": {
          "name": "unconditionally_apply_pricing_rule",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_delete_sales_invoice": {
          "name": "allow_delete_sales_invoice",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_user_to_edit_rate": {
          "name": "allow_user_to_edit_rate",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_print_before_pay": {
          "name": "allow_print_before_pay",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {
        "pos_settings_org_created_id_idx": {
          "name": "pos_settings_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"pos_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"pos_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"pos_settings\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"pos_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"pos_settings\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "pos_settings_org_not_empty": {
          "name": "pos_settings_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.webhook_deliveries": {
      "name": "webhook_deliveries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "endpoint_id": {
          "name": "endpoint_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "status_code": {
          "name": "status_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "response_body": {
          "name": "response_body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attempt_number": {
          "name": "attempt_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "webhook_del_org_id_idx": {
          "name": "webhook_del_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "webhook_del_endpoint_idx": {
          "name": "webhook_del_endpoint_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "endpoint_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "webhook_del_event_idx": {
          "name": "webhook_del_event_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "event_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "webhook_deliveries_org_id_id_pk": {
          "name": "webhook_deliveries_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"webhook_deliveries\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"webhook_deliveries\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"webhook_deliveries\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"webhook_deliveries\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"webhook_deliveries\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "webhook_del_org_not_empty": {
          "name": "webhook_del_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.webhook_endpoints": {
      "name": "webhook_endpoints",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "secret": {
          "name": "secret",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subscribed_events": {
          "name": "subscribed_events",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "last_delivered_at": {
          "name": "last_delivered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_status_code": {
          "name": "last_status_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "failure_count": {
          "name": "failure_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "webhook_ep_org_id_idx": {
          "name": "webhook_ep_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "webhook_ep_active_idx": {
          "name": "webhook_ep_active_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"webhook_endpoints\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"webhook_endpoints\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"webhook_endpoints\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"webhook_endpoints\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"webhook_endpoints\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "webhook_ep_org_not_empty": {
          "name": "webhook_ep_org_not_empty",
          "value": "org_id <> ''"
        },
        "webhook_ep_url_not_empty": {
          "name": "webhook_ep_url_not_empty",
          "value": "url <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.wip_movements": {
      "name": "wip_movements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "work_order_id": {
          "name": "work_order_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "movement_type": {
          "name": "movement_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "qty": {
          "name": "qty",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "uom_id": {
          "name": "uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "cost_minor": {
          "name": "cost_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "posted_at": {
          "name": "posted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "stock_movement_id": {
          "name": "stock_movement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "journal_entry_id": {
          "name": "journal_entry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "wip_mv_org_id_idx": {
          "name": "wip_mv_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "wip_mv_work_order_idx": {
          "name": "wip_mv_work_order_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "work_order_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "wip_mv_posted_idx": {
          "name": "wip_mv_posted_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "posted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "wip_movements_company_fk": {
          "name": "wip_movements_company_fk",
          "tableFrom": "wip_movements",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "wip_movements_org_id_id_pk": {
          "name": "wip_movements_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"wip_movements\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"wip_movements\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"wip_movements\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"wip_movements\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"wip_movements\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "wip_mv_org_not_empty": {
          "name": "wip_mv_org_not_empty",
          "value": "org_id <> ''"
        },
        "wip_mv_type_valid": {
          "name": "wip_mv_type_valid",
          "value": "movement_type IN ('material_issue', 'material_return', 'labor', 'overhead', 'completion', 'scrap')"
        }
      },
      "isRLSEnabled": false
    },
    "public.work_orders": {
      "name": "work_orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "company_id": {
          "name": "company_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "doc_status": {
          "name": "doc_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amended_from_id": {
          "name": "amended_from_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "external_source": {
          "name": "external_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "work_order_no": {
          "name": "work_order_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bom_id": {
          "name": "bom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "planned_qty": {
          "name": "planned_qty",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "completed_qty": {
          "name": "completed_qty",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "scrap_qty": {
          "name": "scrap_qty",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "uom_id": {
          "name": "uom_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "planned_start": {
          "name": "planned_start",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "planned_end": {
          "name": "planned_end",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "actual_start": {
          "name": "actual_start",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "actual_end": {
          "name": "actual_end",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "wip_account_id": {
          "name": "wip_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "total_cost_minor": {
          "name": "total_cost_minor",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency_code": {
          "name": "currency_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'MYR'"
        },
        "memo": {
          "name": "memo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "work_orders_org_id_idx": {
          "name": "work_orders_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "work_orders_org_company_idx": {
          "name": "work_orders_org_company_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "company_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "work_orders_product_idx": {
          "name": "work_orders_product_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "product_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "work_orders_bom_idx": {
          "name": "work_orders_bom_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "bom_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "work_orders_company_fk": {
          "name": "work_orders_company_fk",
          "tableFrom": "work_orders",
          "tableTo": "companies",
          "columnsFrom": [
            "org_id",
            "company_id"
          ],
          "columnsTo": [
            "org_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "work_orders_org_id_id_pk": {
          "name": "work_orders_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"work_orders\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"work_orders\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"work_orders\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"work_orders\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"work_orders\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "work_orders_org_not_empty": {
          "name": "work_orders_org_not_empty",
          "value": "org_id <> ''"
        },
        "work_orders_qty_positive": {
          "name": "work_orders_qty_positive",
          "value": "planned_qty > 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.workflow_definitions": {
      "name": "workflow_definitions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "definition_kind": {
          "name": "definition_kind",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "nodes_json": {
          "name": "nodes_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "edges_json": {
          "name": "edges_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "slots_json": {
          "name": "slots_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "base_ref": {
          "name": "base_ref",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "body_patches_json": {
          "name": "body_patches_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "compiled_json": {
          "name": "compiled_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "compiled_hash": {
          "name": "compiled_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "compiler_version": {
          "name": "compiler_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "wf_def_org_entity_version_uniq": {
          "name": "wf_def_org_entity_version_uniq",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "wf_def_org_entity_status_idx": {
          "name": "wf_def_org_entity_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "workflow_definitions_org_id_id_pk": {
          "name": "workflow_definitions_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_definitions\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"workflow_definitions\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_definitions\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"workflow_definitions\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_definitions\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "wf_def_org_not_empty": {
          "name": "wf_def_org_not_empty",
          "value": "org_id <> ''"
        },
        "wf_def_status_valid": {
          "name": "wf_def_status_valid",
          "value": "status IN ('draft', 'published', 'archived')"
        },
        "wf_def_kind_valid": {
          "name": "wf_def_kind_valid",
          "value": "definition_kind IN ('envelope', 'org_patch', 'effective')"
        },
        "wf_def_envelope_check": {
          "name": "wf_def_envelope_check",
          "value": "\n      definition_kind <> 'envelope' OR (\n        nodes_json IS NOT NULL AND edges_json IS NOT NULL AND slots_json IS NOT NULL\n        AND body_patches_json IS NULL\n      )\n    "
        },
        "wf_def_org_patch_check": {
          "name": "wf_def_org_patch_check",
          "value": "\n      definition_kind <> 'org_patch' OR (\n        body_patches_json IS NOT NULL AND base_ref IS NOT NULL\n        AND nodes_json IS NULL AND edges_json IS NULL\n      )\n    "
        },
        "wf_def_effective_check": {
          "name": "wf_def_effective_check",
          "value": "\n      definition_kind <> 'effective' OR (\n        compiled_json IS NOT NULL AND compiled_hash IS NOT NULL\n        AND nodes_json IS NOT NULL AND edges_json IS NOT NULL\n      )\n    "
        }
      },
      "isRLSEnabled": false
    },
    "public.workflow_events_outbox": {
      "name": "workflow_events_outbox",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "instance_id": {
          "name": "instance_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_version": {
          "name": "entity_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "definition_version": {
          "name": "definition_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payload_json": {
          "name": "payload_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "event_idempotency_key": {
          "name": "event_idempotency_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trace_id": {
          "name": "trace_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "attempts": {
          "name": "attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_attempts": {
          "name": "max_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "next_retry_at": {
          "name": "next_retry_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "wf_evt_org_instance_idx": {
          "name": "wf_evt_org_instance_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "instance_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_events_outbox\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"workflow_events_outbox\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_events_outbox\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"workflow_events_outbox\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_events_outbox\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "wf_evt_org_not_empty": {
          "name": "wf_evt_org_not_empty",
          "value": "org_id <> ''"
        },
        "wf_evt_status_valid": {
          "name": "wf_evt_status_valid",
          "value": "status IN ('pending', 'processing', 'completed', 'failed', 'dead_letter')"
        }
      },
      "isRLSEnabled": false
    },
    "public.workflow_executions": {
      "name": "workflow_executions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rule_id": {
          "name": "rule_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rule_name": {
          "name": "rule_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timing": {
          "name": "timing",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action_type": {
          "name": "action_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "condition_matched": {
          "name": "condition_matched",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "action_result": {
          "name": "action_result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "request_id": {
          "name": "request_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "workflow_executions_org_created_id_idx": {
          "name": "workflow_executions_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "workflow_executions_org_rule_created_idx": {
          "name": "workflow_executions_org_rule_created_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "rule_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "workflow_executions_org_request_idx": {
          "name": "workflow_executions_org_request_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "request_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "workflow_executions_org_id_id_pk": {
          "name": "workflow_executions_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_executions\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"workflow_executions\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_executions\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"workflow_executions\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_executions\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "workflow_executions_org_not_empty": {
          "name": "workflow_executions_org_not_empty",
          "value": "org_id <> ''"
        },
        "workflow_executions_timing_check": {
          "name": "workflow_executions_timing_check",
          "value": "timing in ('before', 'after')"
        }
      },
      "isRLSEnabled": false
    },
    "public.workflow_instances": {
      "name": "workflow_instances",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "definition_id": {
          "name": "definition_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "definition_version": {
          "name": "definition_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_version": {
          "name": "entity_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "active_tokens": {
          "name": "active_tokens",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "current_nodes": {
          "name": "current_nodes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'running'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_step_execution_id": {
          "name": "last_step_execution_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "context_json": {
          "name": "context_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "wf_inst_org_entity_idx": {
          "name": "wf_inst_org_entity_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "wf_inst_org_status_idx": {
          "name": "wf_inst_org_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "updated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "wf_inst_org_definition_idx": {
          "name": "wf_inst_org_definition_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "definition_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "workflow_instances_org_id_id_pk": {
          "name": "workflow_instances_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_instances\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"workflow_instances\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_instances\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"workflow_instances\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_instances\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "wf_inst_org_not_empty": {
          "name": "wf_inst_org_not_empty",
          "value": "org_id <> ''"
        },
        "wf_inst_status_valid": {
          "name": "wf_inst_status_valid",
          "value": "status IN ('running', 'paused', 'completed', 'failed', 'cancelled')"
        }
      },
      "isRLSEnabled": false
    },
    "public.workflow_outbox_receipts": {
      "name": "workflow_outbox_receipts",
      "schema": "",
      "columns": {
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "instance_id": {
          "name": "instance_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "source_table": {
          "name": "source_table",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_idempotency_key": {
          "name": "event_idempotency_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_outbox_receipts\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"workflow_outbox_receipts\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_outbox_receipts\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"workflow_outbox_receipts\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_outbox_receipts\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "wf_or_org_not_empty": {
          "name": "wf_or_org_not_empty",
          "value": "org_id <> ''"
        },
        "wf_or_source_valid": {
          "name": "wf_or_source_valid",
          "value": "source_table IN ('events', 'side_effects')"
        }
      },
      "isRLSEnabled": false
    },
    "public.workflow_rules": {
      "name": "workflow_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timing": {
          "name": "timing",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_types": {
          "name": "entity_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::text[]"
        },
        "verbs": {
          "name": "verbs",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::text[]"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "condition_json": {
          "name": "condition_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "action_json": {
          "name": "action_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "workflow_rules_org_id_idx": {
          "name": "workflow_rules_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "workflow_rules_org_enabled_idx": {
          "name": "workflow_rules_org_enabled_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "workflow_rules_org_id_id_pk": {
          "name": "workflow_rules_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_rules\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"workflow_rules\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_rules\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"workflow_rules\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_rules\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "workflow_rules_org_not_empty": {
          "name": "workflow_rules_org_not_empty",
          "value": "org_id <> ''"
        },
        "workflow_rules_timing_check": {
          "name": "workflow_rules_timing_check",
          "value": "timing in ('before', 'after')"
        }
      },
      "isRLSEnabled": false
    },
    "public.workflow_side_effects_outbox": {
      "name": "workflow_side_effects_outbox",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "instance_id": {
          "name": "instance_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "step_execution_id": {
          "name": "step_execution_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "effect_type": {
          "name": "effect_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payload_json": {
          "name": "payload_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "event_idempotency_key": {
          "name": "event_idempotency_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trace_id": {
          "name": "trace_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "attempts": {
          "name": "attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_attempts": {
          "name": "max_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "next_retry_at": {
          "name": "next_retry_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "response_json": {
          "name": "response_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "wf_se_org_instance_idx": {
          "name": "wf_se_org_instance_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "instance_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "wf_se_org_step_idx": {
          "name": "wf_se_org_step_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "step_execution_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_side_effects_outbox\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"workflow_side_effects_outbox\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_side_effects_outbox\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"workflow_side_effects_outbox\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_side_effects_outbox\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "wf_se_org_not_empty": {
          "name": "wf_se_org_not_empty",
          "value": "org_id <> ''"
        },
        "wf_se_status_valid": {
          "name": "wf_se_status_valid",
          "value": "status IN ('pending', 'processing', 'completed', 'failed', 'dead_letter')"
        },
        "wf_se_effect_type_valid": {
          "name": "wf_se_effect_type_valid",
          "value": "effect_type IN ('webhook', 'email', 'sms', 'integration')"
        }
      },
      "isRLSEnabled": false
    },
    "public.workflow_step_executions": {
      "name": "workflow_step_executions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "instance_id": {
          "name": "instance_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "node_id": {
          "name": "node_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "node_type": {
          "name": "node_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "token_id": {
          "name": "token_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_version": {
          "name": "entity_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "run_as": {
          "name": "run_as",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'actor'"
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "input_json": {
          "name": "input_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "output_json": {
          "name": "output_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approval_request_id": {
          "name": "approval_request_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "applied": {
          "name": "applied",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "snapshot_version_id": {
          "name": "snapshot_version_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "resume_at": {
          "name": "resume_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "waiting_for_event_key": {
          "name": "waiting_for_event_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "wf_step_org_instance_idx": {
          "name": "wf_step_org_instance_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "instance_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "wf_step_org_actor_status_idx": {
          "name": "wf_step_org_actor_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "actor_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "wf_step_org_instance_node_status_idx": {
          "name": "wf_step_org_instance_node_status_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "instance_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "node_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_step_executions\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"workflow_step_executions\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_step_executions\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"workflow_step_executions\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_step_executions\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "wf_step_org_not_empty": {
          "name": "wf_step_org_not_empty",
          "value": "org_id <> ''"
        },
        "wf_step_status_valid": {
          "name": "wf_step_status_valid",
          "value": "status IN ('pending', 'running', 'completed', 'failed', 'skipped', 'cancelled')"
        },
        "wf_step_run_as_valid": {
          "name": "wf_step_run_as_valid",
          "value": "run_as IN ('actor', 'system', 'service_account')"
        }
      },
      "isRLSEnabled": false
    },
    "public.workflow_step_receipts": {
      "name": "workflow_step_receipts",
      "schema": "",
      "columns": {
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "instance_id": {
          "name": "instance_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "step_execution_id": {
          "name": "step_execution_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_step_receipts\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"workflow_step_receipts\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_step_receipts\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"workflow_step_receipts\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"workflow_step_receipts\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "wf_sr_org_not_empty": {
          "name": "wf_sr_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.item_variant_settings": {
      "name": "item_variant_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "do_not_update_variants": {
          "name": "do_not_update_variants",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_rename_attribute_value": {
          "name": "allow_rename_attribute_value",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_different_uom": {
          "name": "allow_different_uom",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {
        "item_variant_settings_org_created_id_idx": {
          "name": "item_variant_settings_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "item_variant_settings_org_id_id_pk": {
          "name": "item_variant_settings_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "item_variant_settings_org_singleton": {
          "name": "item_variant_settings_org_singleton",
          "nullsNotDistinct": false,
          "columns": [
            "org_id"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"item_variant_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"item_variant_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"item_variant_settings\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"item_variant_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"item_variant_settings\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "item_variant_settings_org_not_empty": {
          "name": "item_variant_settings_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.plaid_settings": {
      "name": "plaid_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "plaid_settings_org_created_id_idx": {
          "name": "plaid_settings_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "plaid_settings_org_id_id_pk": {
          "name": "plaid_settings_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "plaid_settings_org_singleton": {
          "name": "plaid_settings_org_singleton",
          "nullsNotDistinct": false,
          "columns": [
            "org_id"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"plaid_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"plaid_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"plaid_settings\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"plaid_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"plaid_settings\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "plaid_settings_org_not_empty": {
          "name": "plaid_settings_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.repost_accounting_ledger_settings": {
      "name": "repost_accounting_ledger_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "repost_accounting_ledger_settings_org_created_id_idx": {
          "name": "repost_accounting_ledger_settings_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "repost_accounting_ledger_settings_org_id_id_pk": {
          "name": "repost_accounting_ledger_settings_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "repost_accounting_ledger_settings_org_singleton": {
          "name": "repost_accounting_ledger_settings_org_singleton",
          "nullsNotDistinct": false,
          "columns": [
            "org_id"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"repost_accounting_ledger_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"repost_accounting_ledger_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"repost_accounting_ledger_settings\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"repost_accounting_ledger_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"repost_accounting_ledger_settings\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "repost_accounting_ledger_settings_org_not_empty": {
          "name": "repost_accounting_ledger_settings_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.south_africa_vat_settings": {
      "name": "south_africa_vat_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "south_africa_vat_settings_org_created_id_idx": {
          "name": "south_africa_vat_settings_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "south_africa_vat_settings_org_id_id_pk": {
          "name": "south_africa_vat_settings_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "south_africa_vat_settings_org_singleton": {
          "name": "south_africa_vat_settings_org_singleton",
          "nullsNotDistinct": false,
          "columns": [
            "org_id"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"south_africa_vat_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"south_africa_vat_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"south_africa_vat_settings\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"south_africa_vat_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"south_africa_vat_settings\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "south_africa_vat_settings_org_not_empty": {
          "name": "south_africa_vat_settings_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.stock_reposting_settings": {
      "name": "stock_reposting_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "stock_reposting_settings_org_created_id_idx": {
          "name": "stock_reposting_settings_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "stock_reposting_settings_org_id_id_pk": {
          "name": "stock_reposting_settings_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "stock_reposting_settings_org_singleton": {
          "name": "stock_reposting_settings_org_singleton",
          "nullsNotDistinct": false,
          "columns": [
            "org_id"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"stock_reposting_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"stock_reposting_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"stock_reposting_settings\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"stock_reposting_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"stock_reposting_settings\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "stock_reposting_settings_org_not_empty": {
          "name": "stock_reposting_settings_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    },
    "public.subscription_settings": {
      "name": "subscription_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.require_org_id())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "(auth.user_id())"
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_data": {
          "name": "custom_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "subscription_settings_org_created_id_idx": {
          "name": "subscription_settings_org_created_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "\"created_at\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            },
            {
              "expression": "\"id\" desc",
              "asc": true,
              "isExpression": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "subscription_settings_org_id_id_pk": {
          "name": "subscription_settings_org_id_id_pk",
          "columns": [
            "org_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "subscription_settings_org_singleton": {
          "name": "subscription_settings_org_singleton",
          "nullsNotDistinct": false,
          "columns": [
            "org_id"
          ]
        }
      },
      "policies": {
        "crud-authenticated-policy-select": {
          "name": "crud-authenticated-policy-select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"subscription_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-insert": {
          "name": "crud-authenticated-policy-insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": [
            "authenticated"
          ],
          "withCheck": "(select auth.org_id() = \"subscription_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-update": {
          "name": "crud-authenticated-policy-update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"subscription_settings\".\"org_id\")",
          "withCheck": "(select auth.org_id() = \"subscription_settings\".\"org_id\")"
        },
        "crud-authenticated-policy-delete": {
          "name": "crud-authenticated-policy-delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": [
            "authenticated"
          ],
          "using": "(select auth.org_id() = \"subscription_settings\".\"org_id\")"
        }
      },
      "checkConstraints": {
        "subscription_settings_org_not_empty": {
          "name": "subscription_settings_org_not_empty",
          "value": "org_id <> ''"
        }
      },
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}