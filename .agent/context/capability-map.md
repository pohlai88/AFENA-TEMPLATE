# Capability Map — AI Agent Context

> Auto-generated by `afena meta gen`. Do not edit manually.
> VIS_POLICY.phase = 3
> Total capabilities: 26

## RBAC Tier Summary

| Tier | Capabilities |
|------|-------------|
| public | `auth.sign_in`, `auth.sign_out` |
| viewer | `contacts.read`, `contacts.list`, `contacts.versions`, `contacts.audit`, `contacts.search`, `search.global`, `custom_fields.read`, `views.read` |
| editor | `contacts.create`, `contacts.update`, `contacts.delete`, `contacts.restore`, `storage.files.upload`, `storage.files.metadata`, `storage.files.save` |
| admin | `admin.custom_fields.define`, `admin.custom_fields.sync`, `admin.aliases.resolve`, `admin.views.manage`, `system.workflows.manage` |
| system | `system.workflows.evaluate`, `system.advisory.detect`, `system.advisory.forecast`, `system.advisory.explain` |

## Capabilities by Kind

### Mutation (4)

| Key | Intent | Tier | Scope | Status | Entities |
|-----|--------|------|-------|--------|----------|
| `contacts.create` | Create a new contact | editor | write | active | contacts |
| `contacts.update` | Update an existing contact | editor | write | active | contacts |
| `contacts.delete` | Soft-delete a contact | editor | write | active | contacts |
| `contacts.restore` | Restore a soft-deleted contact | editor | write | active | contacts |

### Read (6)

| Key | Intent | Tier | Scope | Status | Entities |
|-----|--------|------|-------|--------|----------|
| `contacts.read` | Read a single contact | viewer | read | active | contacts |
| `contacts.list` | List contacts with filtering and pagination | viewer | read | active | contacts |
| `contacts.versions` | View version history of a contact | viewer | read | active | contacts |
| `contacts.audit` | View audit trail for a contact | viewer | read | active | contacts |
| `custom_fields.read` | Load custom field definitions for an entity type | viewer | read | active | custom_fields |
| `views.read` | Load entity view definitions (columns, ordering, visibility) | viewer | read | active | views |

### Search (2)

| Key | Intent | Tier | Scope | Status | Entities |
|-----|--------|------|-------|--------|----------|
| `contacts.search` | Full-text search across contacts | viewer | read | active | contacts |
| `search.global` | Global search across all entity types | viewer | read | active | — |

### Admin (5)

| Key | Intent | Tier | Scope | Status | Entities |
|-----|--------|------|-------|--------|----------|
| `admin.custom_fields.define` | Define a custom field for an entity type | admin | admin | active | custom_fields |
| `admin.custom_fields.sync` | Sync custom field values after schema change | admin | admin | active | custom_fields |
| `admin.aliases.resolve` | Resolve entity aliases to canonical IDs | admin | admin | active | aliases |
| `admin.views.manage` | Create and manage entity views | admin | admin | active | views |
| `system.workflows.manage` | Create and manage workflow rules | admin | admin | active | workflows |

### System (4)

| Key | Intent | Tier | Scope | Status | Entities |
|-----|--------|------|-------|--------|----------|
| `system.workflows.evaluate` | Evaluate workflow rules against a mutation | system | system | active | workflows |
| `system.advisory.detect` | Run anomaly detection on entity metrics | system | system | active | advisory |
| `system.advisory.forecast` | Generate statistical forecasts for entity metrics | system | system | active | advisory |
| `system.advisory.explain` | Generate plain-English explanations for advisories | system | system | active | advisory |

### Auth (2)

| Key | Intent | Tier | Scope | Status | Entities |
|-----|--------|------|-------|--------|----------|
| `auth.sign_in` | Authenticate a user | public | system | active | — |
| `auth.sign_out` | End a user session | public | system | active | — |

### Storage (3)

| Key | Intent | Tier | Scope | Status | Entities |
|-----|--------|------|-------|--------|----------|
| `storage.files.upload` | Upload a file to storage | editor | system | active | files |
| `storage.files.metadata` | Retrieve file metadata | editor | system | active | files |
| `storage.files.save` | Save file metadata after upload | editor | system | active | files |

## Entity → Capability Mapping

- **advisory**: `system.advisory.detect`, `system.advisory.forecast`, `system.advisory.explain`
- **aliases**: `admin.aliases.resolve`
- **contacts**: `contacts.create`, `contacts.update`, `contacts.delete`, `contacts.restore`, `contacts.read`, `contacts.list`, `contacts.versions`, `contacts.audit`, `contacts.search`
- **custom_fields**: `custom_fields.read`, `admin.custom_fields.define`, `admin.custom_fields.sync`
- **files**: `storage.files.upload`, `storage.files.metadata`, `storage.files.save`
- **views**: `views.read`, `admin.views.manage`
- **workflows**: `system.workflows.evaluate`, `system.workflows.manage`

## Headless-Only Capabilities

These capabilities have no UI surface — they are engine-internal or API-only:

- `contacts.search` — Full-text search across contacts
- `search.global` — Global search across all entity types
- `custom_fields.read` — Load custom field definitions for an entity type
- `admin.custom_fields.define` — Define a custom field for an entity type
- `admin.custom_fields.sync` — Sync custom field values after schema change
- `admin.aliases.resolve` — Resolve entity aliases to canonical IDs
- `views.read` — Load entity view definitions (columns, ordering, visibility)
- `admin.views.manage` — Create and manage entity views
- `system.workflows.evaluate` — Evaluate workflow rules against a mutation
- `system.workflows.manage` — Create and manage workflow rules
- `system.advisory.detect` — Run anomaly detection on entity metrics
- `system.advisory.forecast` — Generate statistical forecasts for entity metrics
- `system.advisory.explain` — Generate plain-English explanations for advisories
- `storage.files.upload` — Upload a file to storage
- `storage.files.metadata` — Retrieve file metadata
- `storage.files.save` — Save file metadata after upload

## Risk-Bearing Capabilities

- `contacts.delete` — risks: irreversible
