# Afena Nexus — Development Notes

> Core architecture complete 2026-02-13. Remaining items are operational and future considerations.

---

## Remaining Items (informational only)

### Code-Level Notes

- `packages/canon/src/types/action.ts`: "Phase 1 action types — contacts only" — will expand when new entities are added
- `packages/database/scripts/create-auth-org-helpers.sql`: "Future-proof: tries camelCase then snake_case" — documents working behavior of `auth.org_id()`

### Missing Architecture Documents

- `network.architecture.md` — Network configuration, CDN setup, security boundaries
- `observability.architecture.md` — APM, error tracking, monitoring dashboards, alerting
- `security.architecture.md` — Security headers, DDoS protection, secret management
- `deployment.architecture.md` — CI/CD pipeline, environment promotion, backup/DR
- `testing.architecture.md` — E2E testing, integration testing, performance testing

### System Gaps

- No email/notification system architecture
- No file storage versioning strategy
- No API versioning strategy (deferred - internal API only)
- No real-time features (WebSocket/SSE)
- No internationalization (i18n) strategy
- No mobile app architecture (web-only for now)

### Deferred by Design

- REST API routes (server actions are primary BFF)
- Audit partitioning (defer until volume requires)
- GeoIP population in audit_logs (service not wired)
- Additional entity handlers (use entity-new.ts scaffold)
- CI pipeline wiring (invariants pass locally, no GitHub Actions yet)
- Read masking policies (ship write rules first)
- Team scope in RBAC (behaves as 'org' until team table exists)

### Feature Flags

- Basic implementation exists in meta.engine.md
- Missing: Full lifecycle management, gradual rollout strategy

### Third-party Integrations

- Missing: Webhook system, external API authentication, integration testing framework

---

_Updated: 2026-02-13_
