{
  "audit": {
    "trackChanges": false
  },
  "canonVersion": "1.0.0",
  "childTables": [],
  "doctypeId": "erpnext:Accounts:Financial Report Row",
  "events": [
    {
      "event": "validate",
      "handlers": [
        "erpnext.support.doctype.service_level_agreement.service_level_agreement.apply",
        "erpnext.setup.doctype.transaction_deletion_record.transaction_deletion_record.check_for_running_deletion_job"
      ],
      "handlersParsed": [
        {
          "attrPath": "apply",
          "module": "erpnext.support.doctype.service_level_agreement.service_level_agreement"
        },
        {
          "attrPath": "check_for_running_deletion_job",
          "module": "erpnext.setup.doctype.transaction_deletion_record.transaction_deletion_record"
        }
      ]
    }
  ],
  "fieldOrder": [
    "reference_code",
    "display_name",
    "indentation_level",
    "data_source",
    "balance_type",
    "column_break_hxqu",
    "fieldtype",
    "color",
    "bold_text",
    "italic_text",
    "hidden_calculation",
    "hide_when_empty",
    "reverse_sign",
    "include_in_charts",
    "section_break_ornw",
    "column_break_asfe",
    "advanced_filtering",
    "filters_editor",
    "calculation_formula",
    "section_break_pvro",
    "formula_description"
  ],
  "fields": [
    {
      "constraints": {},
      "fieldname": "reference_code",
      "fieldtype": "data",
      "label": "Line Reference",
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "description": "Code to reference this line in formulas (e.g., REV100, EXP200, ASSET100)",
        "inListView": true
      },
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "display_name",
      "fieldtype": "data",
      "label": "Display Name",
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "description": "Text displayed on the financial statement (e.g., 'Total Revenue', 'Cash and Cash Equivalents')",
        "inListView": true
      },
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "indentation_level",
      "fieldtype": "int",
      "label": "Indent Level",
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "description": "Indentation level: 0 = Main heading, 1 = Sub-category, 2 = Individual accounts, etc.",
        "inListView": true
      },
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "data_source",
      "fieldtype": "select",
      "label": "Data Source",
      "optionsParsed": {
        "choices": [
          "Account Data",
          "Calculated Amount",
          "Custom API",
          "Blank Line",
          "Column Break",
          "Section Break"
        ],
        "kind": "select"
      },
      "optionsRaw": "\nAccount Data\nCalculated Amount\nCustom API\nBlank Line\nColumn Break\nSection Break",
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "description": "How this line gets its data",
        "inListView": true
      },
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "eval:doc.data_source == 'Account Data'",
      "fieldname": "balance_type",
      "fieldtype": "select",
      "label": "Balance Type",
      "mandatoryDependsOn": "eval:doc.data_source == 'Account Data'",
      "optionsParsed": {
        "choices": [
          "Opening Balance",
          "Closing Balance",
          "Period Movement (Debits - Credits)"
        ],
        "kind": "select"
      },
      "optionsRaw": "\nOpening Balance\nClosing Balance\nPeriod Movement (Debits - Credits)",
      "permlevel": 0,
      "requiredDynamic": "eval:doc.data_source == 'Account Data'",
      "requiredStatic": false,
      "ui": {
        "description": "Opening Balance = Start of period, Closing Balance = End of period, Period Movement = Net change during period",
        "inListView": true
      },
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "column_break_hxqu",
      "fieldtype": "layout:column",
      "layout": {
        "column": 1
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "fieldtype",
      "fieldtype": "select",
      "label": "Value Type",
      "layout": {
        "column": 1
      },
      "optionsParsed": {
        "choices": [
          "Currency",
          "Float",
          "Int",
          "Percent"
        ],
        "kind": "select"
      },
      "optionsRaw": "\nCurrency\nFloat\nInt\nPercent",
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "description": "How to format and present values in the financial report (only if different from column fieldtype)"
      },
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "color",
      "fieldtype": "color",
      "label": "Color",
      "layout": {
        "column": 1
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "description": "Color to highlight values (e.g., red for exceptions)"
      },
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "fieldname": "bold_text",
      "fieldtype": "check",
      "label": "Bold Text",
      "layout": {
        "column": 1
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "description": "Bold text for emphasis (totals, major headings)"
      },
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "fieldname": "italic_text",
      "fieldtype": "check",
      "label": "Italic Text",
      "layout": {
        "column": 1
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "description": "Italic text for subtotals or notes"
      },
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "fieldname": "hidden_calculation",
      "fieldtype": "check",
      "label": "Hidden Line (Internal Use Only)",
      "layout": {
        "column": 1
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "description": "Calculate but don't show on final report"
      },
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "fieldname": "hide_when_empty",
      "fieldtype": "check",
      "label": "Hide If Zero",
      "layout": {
        "column": 1
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "description": "Hide this line if amount is zero"
      },
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "fieldname": "reverse_sign",
      "fieldtype": "check",
      "label": "Reverse Sign",
      "layout": {
        "column": 1
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "description": "Show negative values as positive (for expenses in P&L)",
        "inListView": true
      },
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "fieldname": "include_in_charts",
      "fieldtype": "check",
      "label": "Include in Charts",
      "layout": {
        "column": 1
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "description": "If enabled, this row's values will be displayed on financial charts"
      },
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "section_break_ornw",
      "fieldtype": "layout:section",
      "layout": {
        "section": "section_break_ornw"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "eval: ![\"Blank Line\", \"Column Break\", \"Section Break\"].includes(doc.data_source);",
      "fieldname": "column_break_asfe",
      "fieldtype": "layout:column",
      "layout": {
        "column": 1,
        "section": "section_break_ornw"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "dependsOn": "eval: doc.data_source === \"Account Data\"",
      "fieldname": "advanced_filtering",
      "fieldtype": "check",
      "label": "Advanced Filtering",
      "layout": {
        "column": 1,
        "section": "section_break_ornw"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "description": "Use <strong>Python</strong> filters to get Accounts",
        "printHide": true
      },
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "eval: doc.data_source === \"Account Data\" && !doc.advanced_filtering",
      "fieldname": "filters_editor",
      "fieldtype": "text_editor",
      "layout": {
        "column": 1,
        "section": "section_break_ornw"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "eval: (doc.data_source === \"Account Data\" && doc.advanced_filtering) || [\"Calculated Amount\", \"Custom API\"].includes(doc.data_source);\n",
      "fieldname": "calculation_formula",
      "fieldtype": "code",
      "label": "Formula or Account Filter",
      "layout": {
        "column": 1,
        "section": "section_break_ornw"
      },
      "mandatoryDependsOn": "eval:doc.data_source != 'Blank Line' && doc.data_source != 'Column Break' && doc.data_source != 'Section Break'",
      "permlevel": 0,
      "requiredDynamic": "eval:doc.data_source != 'Blank Line' && doc.data_source != 'Column Break' && doc.data_source != 'Section Break'",
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "section_break_pvro",
      "fieldtype": "layout:section",
      "layout": {
        "section": "section_break_pvro"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "formula_description",
      "fieldtype": "text_editor",
      "layout": {
        "section": "section_break_pvro"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    }
  ],
  "identity": {
    "app": "erpnext",
    "isSingle": false,
    "isSubmittable": false,
    "isTree": false,
    "module": "Accounts",
    "naming": {
      "strategy": "hash"
    }
  },
  "name": "Financial Report Row",
  "permissions": [],
  "ui": {
    "searchFields": [],
    "showNameInGlobalSearch": false,
    "sortField": "creation",
    "sortOrder": "DESC"
  },
  "workflows": [
    {
      "kind": "unavailable"
    }
  ]
}