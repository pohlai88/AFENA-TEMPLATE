{
  "audit": {
    "trackChanges": false
  },
  "canonVersion": "1.0.0",
  "childTables": [
    {
      "childDoctype": "Pricing Rule Brand",
      "parentField": "brands",
      "required": false
    },
    {
      "childDoctype": "Pricing Rule Item Group",
      "parentField": "item_groups",
      "required": false
    },
    {
      "childDoctype": "Pricing Rule Item Code",
      "parentField": "items",
      "required": false
    }
  ],
  "doctypeId": "erpnext:Accounts:Pricing Rule",
  "events": [
    {
      "event": "validate",
      "handlers": [
        "erpnext.support.doctype.service_level_agreement.service_level_agreement.apply",
        "erpnext.setup.doctype.transaction_deletion_record.transaction_deletion_record.check_for_running_deletion_job"
      ],
      "handlersParsed": [
        {
          "attrPath": "apply",
          "module": "erpnext.support.doctype.service_level_agreement.service_level_agreement"
        },
        {
          "attrPath": "check_for_running_deletion_job",
          "module": "erpnext.setup.doctype.transaction_deletion_record.transaction_deletion_record"
        }
      ]
    }
  ],
  "fieldOrder": [
    "applicability_section",
    "naming_series",
    "title",
    "disable",
    "apply_on",
    "price_or_product_discount",
    "warehouse",
    "column_break_7",
    "items",
    "item_groups",
    "brands",
    "mixed_conditions",
    "is_cumulative",
    "coupon_code_based",
    "section_break_18",
    "apply_rule_on_other",
    "column_break_17",
    "other_item_code",
    "other_item_group",
    "other_brand",
    "section_break_7",
    "selling",
    "buying",
    "column_break_11",
    "applicable_for",
    "customer",
    "customer_group",
    "territory",
    "sales_partner",
    "campaign",
    "supplier",
    "supplier_group",
    "section_break_19",
    "min_qty",
    "max_qty",
    "column_break_21",
    "min_amt",
    "max_amt",
    "product_discount_scheme_section",
    "same_item",
    "free_item",
    "free_qty",
    "free_item_rate",
    "column_break_42",
    "free_item_uom",
    "round_free_qty",
    "dont_enforce_free_item_qty",
    "is_recursive",
    "recurse_for",
    "apply_recursion_over",
    "section_break_23",
    "valid_from",
    "valid_upto",
    "col_break1",
    "company",
    "currency",
    "margin",
    "margin_type",
    "column_break_33",
    "margin_rate_or_amount",
    "price_discount_scheme_section",
    "rate_or_discount",
    "apply_discount_on",
    "col_break2",
    "rate",
    "discount_amount",
    "discount_percentage",
    "for_price_list",
    "dynamic_condition_tab",
    "condition",
    "section_break_13",
    "apply_multiple_pricing_rules",
    "apply_discount_on_rate",
    "column_break_66",
    "threshold_percentage",
    "validate_pricing_rule_section",
    "validate_applied_rule",
    "column_break_texp",
    "rule_description",
    "priority_section",
    "has_priority",
    "column_break_sayg",
    "priority",
    "help_section",
    "pricing_rule_help",
    "reference_section",
    "promotional_scheme_id",
    "promotional_scheme"
  ],
  "fields": [
    {
      "constraints": {},
      "fieldname": "applicability_section",
      "fieldtype": "layout:section",
      "layout": {
        "section": "applicability_section"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "PRLE-.####",
      "fieldname": "naming_series",
      "fieldtype": "select",
      "label": "Naming Series",
      "layout": {
        "section": "applicability_section"
      },
      "optionsParsed": {
        "kind": "naming_series",
        "prefixes": [
          "PRLE-.####"
        ]
      },
      "optionsRaw": "PRLE-.####",
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "title",
      "fieldtype": "data",
      "label": "Title",
      "layout": {
        "section": "applicability_section"
      },
      "noCopy": true,
      "permlevel": 0,
      "requiredStatic": true,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "fieldname": "disable",
      "fieldtype": "check",
      "label": "Disable",
      "layout": {
        "section": "applicability_section"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "Item Code",
      "fieldname": "apply_on",
      "fieldtype": "select",
      "label": "Apply On",
      "layout": {
        "section": "applicability_section"
      },
      "optionsParsed": {
        "choices": [
          "Item Code",
          "Item Group",
          "Brand",
          "Transaction"
        ],
        "kind": "select"
      },
      "optionsRaw": "\nItem Code\nItem Group\nBrand\nTransaction",
      "permlevel": 0,
      "requiredStatic": true,
      "ui": {
        "inListView": true,
        "inStandardFilter": true
      },
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "price_or_product_discount",
      "fieldtype": "select",
      "label": "Price or Product Discount",
      "layout": {
        "section": "applicability_section"
      },
      "optionsParsed": {
        "choices": [
          "Price",
          "Product"
        ],
        "kind": "select"
      },
      "optionsRaw": "Price\nProduct",
      "permlevel": 0,
      "requiredStatic": true,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "eval:doc.apply_on != 'Transaction'",
      "fieldname": "warehouse",
      "fieldtype": "link",
      "label": "Warehouse",
      "layout": {
        "section": "applicability_section"
      },
      "optionsParsed": {
        "kind": "link",
        "target": "Warehouse"
      },
      "optionsRaw": "Warehouse",
      "permlevel": 0,
      "ref": {
        "doctype": "Warehouse",
        "kind": "static"
      },
      "requiredStatic": false,
      "ui": {
        "searchIndex": true
      },
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "column_break_7",
      "fieldtype": "layout:column",
      "layout": {
        "column": 1,
        "section": "applicability_section"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "childDoctype": "Pricing Rule Item Code",
      "constraints": {},
      "dependsOn": "eval:doc.apply_on == 'Item Code'",
      "fieldname": "items",
      "fieldtype": "table",
      "label": "Apply Rule On Item Code",
      "layout": {
        "column": 1,
        "section": "applicability_section"
      },
      "optionsParsed": {
        "doctype": "Pricing Rule Item Code",
        "kind": "child_doctype"
      },
      "optionsRaw": "Pricing Rule Item Code",
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "childDoctype": "Pricing Rule Item Group",
      "constraints": {},
      "dependsOn": "eval:doc.apply_on == 'Item Group'",
      "fieldname": "item_groups",
      "fieldtype": "table",
      "label": "Apply Rule On Item Group",
      "layout": {
        "column": 1,
        "section": "applicability_section"
      },
      "optionsParsed": {
        "doctype": "Pricing Rule Item Group",
        "kind": "child_doctype"
      },
      "optionsRaw": "Pricing Rule Item Group",
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "childDoctype": "Pricing Rule Brand",
      "constraints": {},
      "dependsOn": "eval:doc.apply_on == 'Brand'",
      "fieldname": "brands",
      "fieldtype": "table",
      "label": "Apply Rule On Brand",
      "layout": {
        "column": 1,
        "section": "applicability_section"
      },
      "optionsParsed": {
        "doctype": "Pricing Rule Brand",
        "kind": "child_doctype"
      },
      "optionsRaw": "Pricing Rule Brand",
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "dependsOn": "eval:doc.apply_on != 'Transaction'",
      "fieldname": "mixed_conditions",
      "fieldtype": "check",
      "label": "Mixed Conditions",
      "layout": {
        "column": 1,
        "section": "applicability_section"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "description": "Conditions will be applied on all the selected items combined. "
      },
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "dependsOn": "eval:doc.apply_on != 'Transaction'",
      "fieldname": "is_cumulative",
      "fieldtype": "check",
      "label": "Is Cumulative",
      "layout": {
        "column": 1,
        "section": "applicability_section"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "fieldname": "coupon_code_based",
      "fieldtype": "check",
      "label": "Coupon Code Based",
      "layout": {
        "column": 1,
        "section": "applicability_section"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "eval:doc.apply_on != 'Transaction' && !doc.mixed_conditions",
      "fieldname": "section_break_18",
      "fieldtype": "layout:section",
      "label": "Discount on Other Item",
      "layout": {
        "section": "Discount on Other Item"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "collapsible": true
      },
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "apply_rule_on_other",
      "fieldtype": "select",
      "label": "Apply Rule On Other",
      "layout": {
        "section": "Discount on Other Item"
      },
      "optionsParsed": {
        "choices": [
          "Item Code",
          "Item Group",
          "Brand"
        ],
        "kind": "select"
      },
      "optionsRaw": "\nItem Code\nItem Group\nBrand",
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "column_break_17",
      "fieldtype": "layout:column",
      "layout": {
        "column": 1,
        "section": "Discount on Other Item"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "eval:doc.apply_rule_on_other == 'Item Code'",
      "fieldname": "other_item_code",
      "fieldtype": "link",
      "label": "Item Code",
      "layout": {
        "column": 1,
        "section": "Discount on Other Item"
      },
      "optionsParsed": {
        "kind": "link",
        "target": "Item"
      },
      "optionsRaw": "Item",
      "permlevel": 0,
      "ref": {
        "doctype": "Item",
        "kind": "static"
      },
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "eval:doc.apply_rule_on_other == 'Item Group'",
      "fieldname": "other_item_group",
      "fieldtype": "link",
      "label": "Item Group",
      "layout": {
        "column": 1,
        "section": "Discount on Other Item"
      },
      "optionsParsed": {
        "kind": "link",
        "target": "Item Group"
      },
      "optionsRaw": "Item Group",
      "permlevel": 0,
      "ref": {
        "doctype": "Item Group",
        "kind": "static"
      },
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "eval:doc.apply_rule_on_other == 'Brand'",
      "fieldname": "other_brand",
      "fieldtype": "link",
      "label": "Brand",
      "layout": {
        "column": 1,
        "section": "Discount on Other Item"
      },
      "optionsParsed": {
        "kind": "link",
        "target": "Brand"
      },
      "optionsRaw": "Brand",
      "permlevel": 0,
      "ref": {
        "doctype": "Brand",
        "kind": "static"
      },
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "section_break_7",
      "fieldtype": "layout:section",
      "label": "Party Information",
      "layout": {
        "section": "Party Information"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "fieldname": "selling",
      "fieldtype": "check",
      "label": "Selling",
      "layout": {
        "section": "Party Information"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "fieldname": "buying",
      "fieldtype": "check",
      "label": "Buying",
      "layout": {
        "section": "Party Information"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "column_break_11",
      "fieldtype": "layout:column",
      "layout": {
        "column": 1,
        "section": "Party Information"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "eval: doc.buying || doc.selling",
      "fieldname": "applicable_for",
      "fieldtype": "select",
      "label": "Applicable For",
      "layout": {
        "column": 1,
        "section": "Party Information"
      },
      "optionsParsed": {
        "choices": [
          "Customer",
          "Customer Group",
          "Territory",
          "Sales Partner",
          "Campaign",
          "Supplier",
          "Supplier Group"
        ],
        "kind": "select"
      },
      "optionsRaw": "\nCustomer\nCustomer Group\nTerritory\nSales Partner\nCampaign\nSupplier\nSupplier Group",
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "eval:doc.applicable_for==\"Customer\"",
      "fieldname": "customer",
      "fieldtype": "link",
      "label": "Customer",
      "layout": {
        "column": 1,
        "section": "Party Information"
      },
      "optionsParsed": {
        "kind": "link",
        "target": "Customer"
      },
      "optionsRaw": "Customer",
      "permlevel": 0,
      "ref": {
        "doctype": "Customer",
        "kind": "static"
      },
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "eval:doc.applicable_for==\"Customer Group\"",
      "fieldname": "customer_group",
      "fieldtype": "link",
      "label": "Customer Group",
      "layout": {
        "column": 1,
        "section": "Party Information"
      },
      "optionsParsed": {
        "kind": "link",
        "target": "Customer Group"
      },
      "optionsRaw": "Customer Group",
      "permlevel": 0,
      "ref": {
        "doctype": "Customer Group",
        "kind": "static"
      },
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "eval:doc.applicable_for==\"Territory\"",
      "fieldname": "territory",
      "fieldtype": "link",
      "label": "Territory",
      "layout": {
        "column": 1,
        "section": "Party Information"
      },
      "optionsParsed": {
        "kind": "link",
        "target": "Territory"
      },
      "optionsRaw": "Territory",
      "permlevel": 0,
      "ref": {
        "doctype": "Territory",
        "kind": "static"
      },
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "eval:doc.applicable_for==\"Sales Partner\"",
      "fieldname": "sales_partner",
      "fieldtype": "link",
      "label": "Sales Partner",
      "layout": {
        "column": 1,
        "section": "Party Information"
      },
      "optionsParsed": {
        "kind": "link",
        "target": "Sales Partner"
      },
      "optionsRaw": "Sales Partner",
      "permlevel": 0,
      "ref": {
        "doctype": "Sales Partner",
        "kind": "static"
      },
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "eval:doc.applicable_for==\"Campaign\"",
      "fieldname": "campaign",
      "fieldtype": "link",
      "label": "Campaign",
      "layout": {
        "column": 1,
        "section": "Party Information"
      },
      "optionsParsed": {
        "kind": "link",
        "target": "UTM Campaign"
      },
      "optionsRaw": "UTM Campaign",
      "permlevel": 0,
      "ref": {
        "doctype": "UTM Campaign",
        "kind": "static"
      },
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "eval:doc.applicable_for==\"Supplier\"",
      "fieldname": "supplier",
      "fieldtype": "link",
      "label": "Supplier",
      "layout": {
        "column": 1,
        "section": "Party Information"
      },
      "optionsParsed": {
        "kind": "link",
        "target": "Supplier"
      },
      "optionsRaw": "Supplier",
      "permlevel": 0,
      "ref": {
        "doctype": "Supplier",
        "kind": "static"
      },
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "eval:doc.applicable_for==\"Supplier Group\"",
      "fieldname": "supplier_group",
      "fieldtype": "link",
      "label": "Supplier Group",
      "layout": {
        "column": 1,
        "section": "Party Information"
      },
      "optionsParsed": {
        "kind": "link",
        "target": "Supplier Group"
      },
      "optionsRaw": "Supplier Group",
      "permlevel": 0,
      "ref": {
        "doctype": "Supplier Group",
        "kind": "static"
      },
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "section_break_19",
      "fieldtype": "layout:section",
      "label": "Quantity and Amount",
      "layout": {
        "section": "Quantity and Amount"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "min_qty",
      "fieldtype": "float",
      "label": "Min Qty (As Per Stock UOM)",
      "layout": {
        "section": "Quantity and Amount"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "max_qty",
      "fieldtype": "float",
      "label": "Max Qty (As Per Stock UOM)",
      "layout": {
        "section": "Quantity and Amount"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "column_break_21",
      "fieldtype": "layout:column",
      "layout": {
        "column": 1,
        "section": "Quantity and Amount"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "fieldname": "min_amt",
      "fieldtype": "currency",
      "label": "Min Amt",
      "layout": {
        "column": 1,
        "section": "Quantity and Amount"
      },
      "optionsParsed": {
        "field": "currency",
        "kind": "currency_field"
      },
      "optionsRaw": "currency",
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "fieldname": "max_amt",
      "fieldtype": "currency",
      "label": "Max Amt",
      "layout": {
        "column": 1,
        "section": "Quantity and Amount"
      },
      "optionsParsed": {
        "field": "currency",
        "kind": "currency_field"
      },
      "optionsRaw": "currency",
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "eval:doc.price_or_product_discount == 'Product'",
      "fieldname": "product_discount_scheme_section",
      "fieldtype": "layout:section",
      "label": "Product Discount Scheme",
      "layout": {
        "section": "Product Discount Scheme"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "dependsOn": "eval:!doc.mixed_conditions && doc.apply_on != 'Transaction'",
      "fieldname": "same_item",
      "fieldtype": "check",
      "label": "Same Item",
      "layout": {
        "section": "Product Discount Scheme"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "eval:(!doc.same_item || doc.apply_on == 'Transaction') || doc.mixed_conditions",
      "fieldname": "free_item",
      "fieldtype": "link",
      "label": "Free Item",
      "layout": {
        "section": "Product Discount Scheme"
      },
      "optionsParsed": {
        "kind": "link",
        "target": "Item"
      },
      "optionsRaw": "Item",
      "permlevel": 0,
      "ref": {
        "doctype": "Item",
        "kind": "static"
      },
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "fieldname": "free_qty",
      "fieldtype": "float",
      "label": "Qty",
      "layout": {
        "section": "Product Discount Scheme"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "free_item_rate",
      "fieldtype": "currency",
      "label": "Free Item Rate",
      "layout": {
        "section": "Product Discount Scheme"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "description": "If rate is zero then item will be treated as \"Free Item\""
      },
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "column_break_42",
      "fieldtype": "layout:column",
      "layout": {
        "column": 1,
        "section": "Product Discount Scheme"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "free_item_uom",
      "fieldtype": "link",
      "label": "UOM",
      "layout": {
        "column": 1,
        "section": "Product Discount Scheme"
      },
      "optionsParsed": {
        "kind": "link",
        "target": "UOM"
      },
      "optionsRaw": "UOM",
      "permlevel": 0,
      "ref": {
        "doctype": "UOM",
        "kind": "static"
      },
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "fieldname": "round_free_qty",
      "fieldtype": "check",
      "label": "Round Free Qty",
      "layout": {
        "column": 1,
        "section": "Product Discount Scheme"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "dependsOn": "eval:doc.price_or_product_discount == 'Product'",
      "fieldname": "dont_enforce_free_item_qty",
      "fieldtype": "check",
      "label": "Don't Enforce Free Item Qty",
      "layout": {
        "column": 1,
        "section": "Product Discount Scheme"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "fieldname": "is_recursive",
      "fieldtype": "check",
      "label": "Is Recursive",
      "layout": {
        "column": 1,
        "section": "Product Discount Scheme"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "description": "Discounts to be applied in sequential ranges like buy 1 get 1, buy 2 get 2, buy 3 get 3 and so on"
      },
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "is_recursive",
      "fieldname": "recurse_for",
      "fieldtype": "float",
      "label": "Recurse Every (As Per Transaction UOM)",
      "layout": {
        "column": 1,
        "section": "Product Discount Scheme"
      },
      "mandatoryDependsOn": "is_recursive",
      "permlevel": 0,
      "requiredDynamic": "is_recursive",
      "requiredStatic": false,
      "ui": {
        "description": "Give free item for every N quantity"
      },
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "dependsOn": "is_recursive",
      "fieldname": "apply_recursion_over",
      "fieldtype": "float",
      "label": "Apply Recursion Over (As Per Transaction UOM)",
      "layout": {
        "column": 1,
        "section": "Product Discount Scheme"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "description": "Qty for which recursion isn't applicable."
      },
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "section_break_23",
      "fieldtype": "layout:section",
      "label": "Period Settings",
      "layout": {
        "section": "Period Settings"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "Today",
      "fieldname": "valid_from",
      "fieldtype": "date",
      "label": "Valid From",
      "layout": {
        "section": "Period Settings"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "valid_upto",
      "fieldtype": "date",
      "label": "Valid Up To",
      "layout": {
        "section": "Period Settings"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "col_break1",
      "fieldtype": "layout:column",
      "layout": {
        "column": 1,
        "section": "Period Settings"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "company",
      "fieldtype": "link",
      "label": "Company",
      "layout": {
        "column": 1,
        "section": "Period Settings"
      },
      "optionsParsed": {
        "kind": "link",
        "target": "Company"
      },
      "optionsRaw": "Company",
      "permlevel": 0,
      "ref": {
        "doctype": "Company",
        "kind": "static"
      },
      "requiredStatic": false,
      "ui": {
        "rememberLastSelectedValue": true
      },
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "currency",
      "fieldtype": "link",
      "label": "Currency",
      "layout": {
        "column": 1,
        "section": "Period Settings"
      },
      "optionsParsed": {
        "kind": "link",
        "target": "Currency"
      },
      "optionsRaw": "Currency",
      "permlevel": 0,
      "ref": {
        "doctype": "Currency",
        "kind": "static"
      },
      "requiredStatic": true,
      "ui": {
        "printHide": true
      },
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "margin",
      "fieldtype": "layout:section",
      "label": "Margin",
      "layout": {
        "section": "Margin"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "Percentage",
      "fieldname": "margin_type",
      "fieldtype": "select",
      "label": "Margin Type",
      "layout": {
        "section": "Margin"
      },
      "optionsParsed": {
        "choices": [
          "Percentage",
          "Amount"
        ],
        "kind": "select"
      },
      "optionsRaw": "\nPercentage\nAmount",
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "column_break_33",
      "fieldtype": "layout:column",
      "layout": {
        "column": 1,
        "section": "Margin"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "dependsOn": "eval:doc.margin_type",
      "fieldname": "margin_rate_or_amount",
      "fieldtype": "float",
      "label": "Margin Rate or Amount",
      "layout": {
        "column": 1,
        "section": "Margin"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "eval:doc.price_or_product_discount == 'Price'",
      "fieldname": "price_discount_scheme_section",
      "fieldtype": "layout:section",
      "label": "Price Discount Scheme",
      "layout": {
        "section": "Price Discount Scheme"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "Discount Percentage",
      "fieldname": "rate_or_discount",
      "fieldtype": "select",
      "label": "Rate or Discount",
      "layout": {
        "section": "Price Discount Scheme"
      },
      "optionsParsed": {
        "choices": [
          "Rate",
          "Discount Percentage",
          "Discount Amount"
        ],
        "kind": "select"
      },
      "optionsRaw": "\nRate\nDiscount Percentage\nDiscount Amount",
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "Grand Total",
      "dependsOn": "eval:doc.apply_on == 'Transaction' && doc.rate_or_discount != 'Rate'",
      "fieldname": "apply_discount_on",
      "fieldtype": "select",
      "label": "Apply Discount On",
      "layout": {
        "section": "Price Discount Scheme"
      },
      "optionsParsed": {
        "choices": [
          "Grand Total",
          "Net Total"
        ],
        "kind": "select"
      },
      "optionsRaw": "Grand Total\nNet Total",
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "col_break2",
      "fieldtype": "layout:column",
      "layout": {
        "column": 1,
        "section": "Price Discount Scheme"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "dependsOn": "eval:doc.rate_or_discount==\"Rate\"",
      "fieldname": "rate",
      "fieldtype": "currency",
      "label": "Rate",
      "layout": {
        "column": 1,
        "section": "Price Discount Scheme"
      },
      "optionsParsed": {
        "field": "currency",
        "kind": "currency_field"
      },
      "optionsRaw": "currency",
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "dependsOn": "eval:doc.rate_or_discount==\"Discount Amount\"",
      "fieldname": "discount_amount",
      "fieldtype": "currency",
      "label": "Discount Amount",
      "layout": {
        "column": 1,
        "section": "Price Discount Scheme"
      },
      "optionsParsed": {
        "field": "currency",
        "kind": "currency_field"
      },
      "optionsRaw": "currency",
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "eval:doc.rate_or_discount==\"Discount Percentage\"",
      "fieldname": "discount_percentage",
      "fieldtype": "float",
      "label": "Discount Percentage",
      "layout": {
        "column": 1,
        "section": "Price Discount Scheme"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "eval:doc.rate_or_discount!=\"Rate\"",
      "fieldname": "for_price_list",
      "fieldtype": "link",
      "label": "For Price List",
      "layout": {
        "column": 1,
        "section": "Price Discount Scheme"
      },
      "optionsParsed": {
        "kind": "link",
        "target": "Price List"
      },
      "optionsRaw": "Price List",
      "permlevel": 0,
      "ref": {
        "doctype": "Price List",
        "kind": "static"
      },
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "dynamic_condition_tab",
      "fieldtype": "layout:tab",
      "label": "Dynamic Condition",
      "layout": {
        "tab": "Dynamic Condition"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "condition",
      "fieldtype": "code",
      "label": "Condition",
      "layout": {
        "tab": "Dynamic Condition"
      },
      "optionsParsed": {
        "kind": "other",
        "value": "PythonExpression"
      },
      "optionsRaw": "PythonExpression",
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "description": "Simple Python Expression, Example: territory != 'All Territories'"
      },
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "section_break_13",
      "fieldtype": "layout:tab",
      "label": "Advanced Settings",
      "layout": {
        "tab": "Advanced Settings"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "collapsible": true
      },
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "fieldname": "apply_multiple_pricing_rules",
      "fieldtype": "check",
      "label": "Apply Multiple Pricing Rules",
      "layout": {
        "tab": "Advanced Settings"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "dependsOn": "eval:in_list(['Discount Percentage'], doc.rate_or_discount) && doc.apply_multiple_pricing_rules",
      "fieldname": "apply_discount_on_rate",
      "fieldtype": "check",
      "label": "Apply Discount on Discounted Rate",
      "layout": {
        "tab": "Advanced Settings"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "column_break_66",
      "fieldtype": "layout:column",
      "layout": {
        "column": 1,
        "tab": "Advanced Settings"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "threshold_percentage",
      "fieldtype": "percent",
      "label": "Threshold for Suggestion (In Percentage)",
      "layout": {
        "column": 1,
        "tab": "Advanced Settings"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "description": "System will notify to increase or decrease quantity or amount "
      },
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "validate_pricing_rule_section",
      "fieldtype": "layout:section",
      "label": "Validate Pricing Rule",
      "layout": {
        "section": "Validate Pricing Rule",
        "tab": "Advanced Settings"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "dependsOn": "eval:doc.price_or_product_discount == 'Price'",
      "fieldname": "validate_applied_rule",
      "fieldtype": "check",
      "label": "Validate Applied Rule",
      "layout": {
        "section": "Validate Pricing Rule",
        "tab": "Advanced Settings"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "description": "If enabled, then system will only validate the pricing rule and not apply automatically. User has to manually set the discount percentage / margin / free items to validate the pricing rule"
      },
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "column_break_texp",
      "fieldtype": "layout:column",
      "layout": {
        "column": 1,
        "section": "Validate Pricing Rule",
        "tab": "Advanced Settings"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "validate_applied_rule",
      "fieldname": "rule_description",
      "fieldtype": "small_text",
      "label": "Rule Description",
      "layout": {
        "column": 1,
        "section": "Validate Pricing Rule",
        "tab": "Advanced Settings"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "priority_section",
      "fieldtype": "layout:section",
      "label": "Priority",
      "layout": {
        "section": "Priority",
        "tab": "Advanced Settings"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "default": "0",
      "fieldname": "has_priority",
      "fieldtype": "check",
      "label": "Has Priority",
      "layout": {
        "section": "Priority",
        "tab": "Advanced Settings"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "description": "Enable this checkbox even if you want to set the zero priority"
      },
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "column_break_sayg",
      "fieldtype": "layout:column",
      "layout": {
        "column": 1,
        "section": "Priority",
        "tab": "Advanced Settings"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "dependsOn": "has_priority",
      "fieldname": "priority",
      "fieldtype": "select",
      "label": "Priority",
      "layout": {
        "column": 1,
        "section": "Priority",
        "tab": "Advanced Settings"
      },
      "optionsParsed": {
        "choices": [
          "1",
          "2",
          "3",
          "4",
          "5",
          "6",
          "7",
          "8",
          "9",
          "10",
          "11",
          "12",
          "13",
          "14",
          "15",
          "16",
          "17",
          "18",
          "19",
          "20"
        ],
        "kind": "select"
      },
      "optionsRaw": "\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20",
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "description": "Higher the number, higher the priority"
      },
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "help_section",
      "fieldtype": "layout:tab",
      "label": "Help Article",
      "layout": {
        "tab": "Help Article"
      },
      "optionsParsed": {
        "kind": "other",
        "value": "Simple"
      },
      "optionsRaw": "Simple",
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "pricing_rule_help",
      "fieldtype": "text_editor",
      "label": "Pricing Rule Help",
      "layout": {
        "tab": "Help Article"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {},
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "reference_section",
      "fieldtype": "layout:section",
      "label": "Reference",
      "layout": {
        "section": "Reference",
        "tab": "Help Article"
      },
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "hidden": true
      },
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "promotional_scheme_id",
      "fieldtype": "data",
      "label": "Promotional Scheme Id",
      "layout": {
        "section": "Reference",
        "tab": "Help Article"
      },
      "noCopy": true,
      "permlevel": 0,
      "requiredStatic": false,
      "ui": {
        "hidden": true,
        "printHide": true,
        "readOnly": true
      },
      "unique": false
    },
    {
      "constraints": {},
      "fieldname": "promotional_scheme",
      "fieldtype": "link",
      "label": "Promotional Scheme",
      "layout": {
        "section": "Reference",
        "tab": "Help Article"
      },
      "noCopy": true,
      "optionsParsed": {
        "kind": "link",
        "target": "Promotional Scheme"
      },
      "optionsRaw": "Promotional Scheme",
      "permlevel": 0,
      "ref": {
        "doctype": "Promotional Scheme",
        "kind": "static"
      },
      "requiredStatic": false,
      "ui": {
        "printHide": true,
        "readOnly": true
      },
      "unique": false
    }
  ],
  "identity": {
    "app": "erpnext",
    "isSingle": false,
    "isSubmittable": false,
    "isTree": false,
    "module": "Accounts",
    "naming": {
      "seriesField": "naming_series",
      "seriesPrefix": "PRLE-.####",
      "strategy": "series"
    }
  },
  "name": "Pricing Rule",
  "permissions": [
    {
      "actions": {
        "create": true,
        "delete": true,
        "export": true,
        "import": true,
        "read": true,
        "report": true,
        "share": true,
        "write": true
      },
      "permlevel": 0,
      "role": "Accounts Manager"
    },
    {
      "actions": {
        "create": true,
        "delete": true,
        "read": true,
        "report": true,
        "share": true,
        "write": true
      },
      "permlevel": 0,
      "role": "Purchase Manager"
    },
    {
      "actions": {
        "create": true,
        "delete": true,
        "read": true,
        "report": true,
        "share": true,
        "write": true
      },
      "permlevel": 0,
      "role": "Sales Manager"
    },
    {
      "actions": {
        "create": true,
        "delete": true,
        "export": true,
        "import": true,
        "read": true,
        "report": true,
        "share": true,
        "write": true
      },
      "permlevel": 0,
      "role": "System Manager"
    },
    {
      "actions": {
        "create": true,
        "delete": true,
        "read": true,
        "report": true,
        "share": true,
        "write": true
      },
      "permlevel": 0,
      "role": "Website Manager"
    }
  ],
  "ui": {
    "searchFields": [],
    "showNameInGlobalSearch": true,
    "sortField": "creation",
    "sortOrder": "DESC",
    "titleField": "title"
  },
  "workflows": [
    {
      "kind": "unavailable"
    }
  ]
}